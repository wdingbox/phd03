parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"iJA9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o={PREBID_JS_VERSION:"8.43.0",ADX_COMMISSION:.0066,PASSBACK:'<script>var inDapIF=true;var compassST=compassST;var w=window;for(var i=0;i<10;i++){if(w.compassST){try{compassST=w.compassST;compassST.next(window);break}catch(e){console.log(e);continue}} w=w.parent;} if(!compassST){console.log("No compassST")}<\/script>',PREBID_REFRESH:20,PREBID_REFRESH_DELTA:3,RENDER_DELTA:10,CUSTOM_FLOOR_ADJUSTMENT:.02,SENSITIVE_BIDDERS:["aol","conversant","onemobile","onemobileBCM","yahoossp","adf","teads","teadsbcm","onemobilegetmedia"],DFP_SEATS:{DFP:"76043757","DFP LATAM":"78655843","DFP DCL":"21704706682","DFP WILDFI":"21758950839","DFP Danitom":"23089419076"},GEOEDGE_KEY:"14ad3e54-631f-47b3-8941-e4baa4b0f9fd"};exports.default=o;
},{}],"lTk1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./constants"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){i(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=t.default.SENSITIVE_BIDDERS,c=a.reduce(function(t,e){return o(o({},t),{},i({},e,!0))},{});function u(t){if(t.page){var e=t.page;delete t.page,t.page=e}return Object.keys(t).filter(function(e){return void 0!==t[e]}).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function f(){return Math.floor(2147483647*Math.random())}function d(){return/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)}function p(){try{return window.self!==window.top}catch(t){return!0}}function l(t){try{return"string"!=typeof t?"":(t=(t=t.split("//")).length>1?t[1]:t[0]).split("/")[0]}catch(e){return t||""}}function s(){if(window.document.location&&window.document.location.ancestorOrigins&&window.document.location.ancestorOrigins.length>=1)return window.document.location.ancestorOrigins[window.document.location.ancestorOrigins.length-1]}function h(){var t="",e="";try{var n;do{(n=n?n.parent:window).document&&n.document.referrer&&(t=n.document.referrer),e=n.location.href}while(n!==window.top)}catch(r){}return t||e||window.document.referrer}function w(){if(p()){var t;try{t=s()||h()}catch(e){y("Could not obtain top window location",e)}return t?l(t):""}return window.location.host}function g(){if(p()){var t;try{t=s()||h()}catch(e){y("Could not obtain top window location",e)}return t||""}return window.location.origin}function m(){if(p()){var t;try{t=window.top.location.href}catch(e){}if(!t)try{t=h()}catch(e){y("Could not obtain top window location",e)}return t||""}return window.location.href}function b(t,e){try{var n=[];n.push(t);var r=e.split("x");n.push(r[0]),n.push(r[1]);var o=[],i=new Date;o.push(i.getTime());var a=i.getTimezoneOffset();a=a>=0?a:Math.abs(a)+1,o.push(a),o.push(Math.floor(1e17*Math.random()));for(var c=0;c<o.length;c++)o[c]=o[c].toString(36);return n.push(o.join("")),n.join("-")}catch(u){try{return"cst-fallback-id-"+Math.floor(1e10*Math.random())}catch(u){return""}}}function y(){/compass_debug=true/.test(window.location.href)&&console.log.apply(this,arguments)}function v(t){var e="";for(var n in t)void 0!==t[n]&&(e+='.setTargeting("'.concat(n,'","').concat(t[n],'")'));return e}function O(t,e,n){var r=e.country;return o({},{cmp_perm:[t,r=e.countryList.indexOf(r)>-1?r:"other",e.os.toLowerCase()].join("_"),cmp_loop:e.loop||0,viewability_perc:n?n.viewability:void 0})}function j(t){try{if(y("[getViewability]","target",t),!t||"object"!==n(t)||11===t.nodeType)throw new Error("target has to be DOM node");var e="n/a",r=0,o=!!window.performance&&!!window.performance.now;o&&(r=window.performance.now());window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&window.IntersectionObserverEntry.prototype;return function(){try{return window.top.document,!1}catch(t){return!0}}()?{viewability:-1,isVisible:e,time:-1}:function(){var t=!1,e=window.top.document;void 0!==e.hidden?t=e.hidden:void 0!==e.msHidden?t=e.msHidden:void 0!==e.webkitHidden&&(t=e.webkitHidden);return t}()?{viewability:0,isVisible:e,time:-1}:function(){function n(t){return{top:0,left:0,right:t.innerWidth,width:t.innerWidth,bottom:t.innerHeight,height:t.innerHeight}}function i(t){try{var e=t.getBoundingClientRect();return e.width&&e.height||(e.width=e.right-e.left,e.height=e.bottom-e.top),e}catch(n){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}function a(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}function c(t,e){var n=Math.max(t.top,e.top),r=Math.min(t.bottom,e.bottom),o=Math.max(t.left,e.left),i=Math.min(t.right,e.right),a=i-o,c=r-n;if(a>=0&&c>=0)return{top:n,bottom:r,left:o,right:i,width:a,height:c}}function u(t,e){for(var r=i(t),o=r,u=a(t),f=!1;!f;){var d=1==u.nodeType&&e.getComputedStyle?e.getComputedStyle(u):{};if("none"==d.display)return 0;var p=null;if(u===e.document?(f=!0,p=n(e)):u!==e.document.body&&u!==e.document.documentElement&&"visible"!==d.overflow&&(p=i(u)),p&&!(o=c(p,o)))return 0;u=a(u)}return function(t,e){var n=t.width*t.height,r=e.width*e.height;return n>0?r/n:0}(r,o)}var f=(d=function(t){var e=t.ownerDocument,n=e.defaultView||e.parentWindow,r=!1,o=t,i=[];for(;!r;){n===window.top&&(r=!0);var a=u(o,n);i.push(a),o=n.frameElement,n=n.parent}y("ratios",i);for(var c=1,f=0;f<i.length;f++)c*=i[f];return c}(t),d*=100,5*parseInt(d/5)+(d%5<2.5?0:5));var d;if(o){var p=window.performance.now();r=Math.round(p-r)}return{viewability:f,isVisible:e,time:r,io:!1}}()}catch(i){return i}}function M(t,e){e||(e=1);var n=1/e;return Math.floor(t*n)/n}function S(t){return t>=28.8?28.8:M(t,t>=10?.2:t>=5?.1:t>=1?.02:.01)}function _(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n={};for(var r in t){var o=t[r]&&t[r].bids||[];o.length&&(n[r]={bids:o.filter(function(t){return e===!!c[t.bidder]})})}return n}function C(t){for(var e=t,n=!1;!n;){try{if("function"==typeof e.__tcfapi||"function"==typeof e.__cmp){n=!0;break}}catch(r){}try{if(e.frames.__tcfapiLocator){n=!0;break}}catch(r){}try{if(e.frames.__cmpLocator){n=!0;break}}catch(r){}if(e===t.top)break;e=e.parent}return n}var I={jsonToQueryString:u,generateCacheBuster:f,isMobile:d,getTopWindowDomain:w,getTopWindowOrigin:g,getTopWindowUrl:m,generateImpressionId:b,log:y,dfpTargetingToString:v,getTargetingMap:O,getViewability:j,roundToBucket:S,round:M,filterSensitiveBids:T,withCMP:C,isNumber:_};exports.default=I;
},{"./constants":"iJA9"}],"Hk1C":[function(require,module,exports) {
var o={"33Across":{bidder:"33across"},Amazon:{bidder:"Amazon"},AdformOno:{bidder:"adf"},Rubicon:{bidder:"rubicon",floor:"floor",type:"float"},"Index Latam":{bidder:"ix"},OneMobile:{bidder:"yahoossp"},OpenX:{bidder:"openx",floor:"customFloor",type:"float"},"Smart LATAM":{bidder:"smartadserver",floor:"bidfloor",type:"float"},SmartLimp:{bidder:"smartlimp",floor:"bidfloor",type:"float"},SmartSparc:{bidder:"smartsparc",floor:"bidfloor",type:"float"},SmartGetMedia:{bidder:"smartgetmedia",floor:"bidfloor",type:"float"},"152Media":{bidder:"oftmedia"},"152MediaNew":{bidder:"oftmedianew"},PulsePoint:{bidder:"pulsepoint",floor:"bidfloor",type:"float"},"PulsePoint LATAM":{bidder:"pulsepoint",floor:"bidfloor",type:"float"},DistrictM:{bidder:"districtm"},"DistrictM DMX":{bidder:"districtmDMX",floor:"floor",type:"string"},ImproveDigital:{bidder:"improvedigital",floor:"bidFloor",type:"float"},"Sharethrough BCM":{bidder:"sharethrough"},SovrnLimpid:{bidder:"sovrn",floor:"bidfloor",type:"srting"},SovrnMango:{bidder:"sovrnmango",floor:"bidfloor",type:"srting"},RhythmOne:{bidder:"rhythmone"},OpenXLimpid:{bidder:"openxlimpid",floor:"customFloor",type:"float"},RubiconLimpid:{bidder:"rubiconlimpid",floor:"floor",type:"float"},RubiconGetMedia:{bidder:"rubicongetmedia",floor:"floor",type:"float"},Conversant:{bidder:"conversant",floor:"bidfloor",type:"float"},Consumable:{bidder:"consumable"},AppNexus:{bidder:"appnexus",floor:"reserve",type:"float"},AppNexusBrave:{bidder:"appnexusbrave",floor:"reserve",type:"float"},AppNexusBrave2:{bidder:"appnexusbrave2",floor:"reserve",type:"float"},AppNexusTailwind:{bidder:"appnexustailwind",floor:"reserve",type:"float"},AppNexusAudienciad:{bidder:"appnexusaudienciad",floor:"reserve",type:"float"},AppNexusGetmedia:{bidder:"appnexusgetmedia",floor:"reserve",type:"float"},"AppNexus BCM":{bidder:"appnexusbcm",floor:"reserve",type:"float"},Colossus:{bidder:"colossusssp"},Sonobi:{bidder:"sonobi",floor:"floor",type:"float"},"Sonobi BCM":{bidder:"sonobibcm",floor:"floor",type:"float"},TripleLift:{bidder:"triplelift",floor:"floor",type:"float"},"TripleLift Mango":{bidder:"tripleliftmango",floor:"floor",type:"float"},Adagio:{bidder:"adagio"},AdagioLimpid:{bidder:"adagiolimpid"},"Adagio BCM":{bidder:"adagiobcm"},PubmaticLimpid:{bidder:"pubmaticlimpid",floor:"kadfloor",type:"string"},ConversantOno:{bidder:"conversantono",floor:"bidfloor",type:"float"},PubmaticSparc:{bidder:"pubmaticsparc",floor:"kadfloor",type:"string"},PubmaticWhildey:{bidder:"pubmaticwhildey",floor:"kadfloor",type:"string"},AdaptMX:{bidder:"amx"},Mantis:{bidder:"mantis"},Smaato:{bidder:"smaato"},"EMX Digital":{bidder:"emx_digital",floor:"bidfloor",type:"string"},Yieldmo:{bidder:"yieldmo",floor:"bidFloor",type:"float"},"OneMobile BCM":{bidder:"onemobileBCM"},OneMobileGetmedia:{bidder:"onemobilegetmedia"},NoBid:{bidder:"nobid"},"Onetag BCM":{bidder:"onetagbcm"},"Onetag Audienciad":{bidder:"onetagaudienciad"},"Sovrn BCM":{bidder:"sovrnbcm",floor:"bidfloor",type:"string"},Criteo:{bidder:"criteo"},"Pubmatic BCM":{bidder:"pubmaticbcm",floor:"kadfloor",type:"string"},"EMX BCM":{bidder:"emxbcm"},"Beachfront GetMedia":{bidder:"beachfrontgetmedia",floor:"bidfloor",type:"float"},Adyoulike:{bidder:"adyoulike"},"Adyoulike OMS":{bidder:"adyoulikeoms"},SmartyAds:{bidder:"compass"},"Teads BCM":{bidder:"teads"},Unruly:{bidder:"unruly"},Ucfunnel:{bidder:"ucfunnel"},"Synacor BCM":{bidder:"synacorbcm",floor:"bidfloor",type:"float"},Yieldlab:{bidder:"yieldlab"},"Yieldmo BCM":{bidder:"yieldmobcm",floor:"bidFloor",type:"float"},"Pulsepoint BCM":{bidder:"pulsepointbcm",floor:"bidfloor",type:"float"},"MediaNet BCM":{bidder:"medianet",floor:"bidfloor",type:"float"}},e=Object.keys(o).reduce(function(e,d){return e[o[d].bidder]=d,e},{});module.exports={biddersMap:o,reverseBiddersMap:e};
},{}],"RvaL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e="4.6.58",t=e;exports.default=t;
},{}],"Q7Ly":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendError=l,exports.sendDebug=c,exports.sendReport=m,exports.sendZippedReport=u,exports.sendEstimated=y,exports.sendAllBids=f,exports.sendViewability=I,exports.sendTestEvent=b,exports.sendErrorWrapper=p,exports.sendIframeClick=h,exports.sendConfiant=j,exports.sendProtector=T,exports.sendLoaded=g,exports.sendILoaded=S,exports.sendAmazonBiddder=P;var e=o(require("./helpers")),r=require("./hb/biddersMap"),t=o(require("./version"));function o(e){return e&&e.__esModule?e:{default:e}}function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach(function(r){d(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var a=e.default.log;function s(r,o,n){(new Image).src="//"+r+"/"+o+"?"+n+"&cb="+e.default.generateCacheBuster()+"&version="+t.default}function p(e,r,t){return l({code:e,message:r,tagId:t.tagId,loop:t.loop,level:t.level,browser:t.browser,os:t.os,device:t.device,wfId:t.waterfallId,impId:t.impressionId})}function l(r){s("compass-errors.deliverimp.com","errors",e.default.jsonToQueryString(i(i({event:"error"},r),{},{page:window.location.href})))}function c(r){s("compass-errors.deliverimp.com","debug",e.default.jsonToQueryString(i(i({event:"debug"},r),{},{page:window.location.href})))}function m(r,t,o,n){var i,d=r.demands[r.level],a=d&&("HB IL"===d.dp||"HB LATAM"===d.dp);(void 0===r.opportunity||r.opportunity!==r.loop&&void 0!==r.loop)&&(r.opportunity=r.loop||0,i=!0);try{if(a&&d.children&&0===d.children.filter(function(e){return e.id==t.id}).length||!a&&d.id!=t.id)return void l({code:"parent_mismatch",message:"parentInternalId is incorrect",compassInternalId:t.id,parentInternalId:d.id,tagId:r.tagId,loop:r.loop,level:r.level,browser:r.browser,impId:r.impressionId,wfId:r.waterfallId})}catch(m){console.log(m)}var p=v(r,t,d);if(p.parentRequest=o,p.firstDemand=i,p.viewability_perc=n?n.viewability:"n/a",p.viewability_time=n?n.time:0,p.viewability_io=n?n.io:"n/a",s("compass-events.deliverimp.com","report",e.default.jsonToQueryString(p)),o){if(r.level>0&&r.prevReport&&r.prevReport.demand&&r.prevReport.parent){var c=v(r,r.prevReport.demand,r.prevReport.parent);c.level=r.level-1,s("compass-events.deliverimp.com","passback",e.default.jsonToQueryString(c))}r.prevReport={},r.prevReport.demand=t,r.prevReport.parent=d}}function u(r,t,o){var n=r.demands[r.level],i={publisherId:r.publisherId,tagId:r.tagId,size:r.size,page:e.default.getTopWindowUrl(),domain:(e.default.getTopWindowDomain()||"").toLowerCase(),tdomain:(r.domain||"").toLowerCase(),section:r.section,wfId:r.waterfallId,level:r.level,loop:r.loop||0,country:r.country,os:r.os,device:r.device,browser:r.browser,targetingId:r.targetingId,parentId:n.entityId||"",parentInternalId:n.id||"",impId:r.impressionId,paymentType:r.paymentType,pubPlacement:r.pubPlacement},d=t.map(function(e,t){var n=e.id,i=void 0===n?"":n,d=e.entityId,a=void 0===d?"":d,s=e.dp,p=void 0===s?"":s,l=e.placementId,c=void 0===l?"":l,m=0===t&&o?"1":"0",u="0";return(void 0===r.opportunityNew||r.opportunityNew!==r.loop&&void 0!==r.loop)&&(r.opportunityNew=r.loop||0,u="1"),"".concat(p.toLowerCase(),"*").concat(i,"*").concat(a,"*").concat(c,"*").concat(u,"*").concat(m)});i.demand=d.join("!"),s("compass-viewability.deliverimp.com","new-report",e.default.jsonToQueryString(i))}function v(r,t,o){return{publisherId:r.publisherId,tagId:r.tagId,size:r.size,page:e.default.getTopWindowUrl(),domain:(e.default.getTopWindowDomain()||"").toLowerCase(),tdomain:(r.domain||"").toLowerCase(),demand:(t.dp||"").toLowerCase(),section:r.section,wfId:r.waterfallId,level:r.level,loop:r.loop||0,compassInternalId:t.id,entityId:t.entityId,demandTag:t.placementId||"",country:r.country,os:r.os,device:r.device,browser:r.browser,targetingId:r.targetingId,parentId:o.entityId||"",parentInternalId:o.id||"",impId:r.impressionId,paymentType:r.paymentType,pubPlacement:r.pubPlacement}}function f(t,o,n){try{t.length&&t[0].cpm&&(t[0].winning=!0),t.forEach(function(t){var i=r.reverseBiddersMap[t.bidder],d=n.prebidBiddersRaw.filter(function(e){return e.dp===i})[0]||{};"pulsepoint"!==t.bidder||d.dp||(i="PulsePoint LATAM",d=n.prebidBiddersRaw.filter(function(e){return e.dp===i})[0]||{}),"amazon"===t.bidder&&(i="Amazon",d=n.amazonBidders[0]||{});var a=v(o,d,{});a.demand=(i||"").toLowerCase(),a.cpm=t.cpm,a.winning=!!t.winning,a.ttl=t.ttl,a.adId=t.adId,a.auctionId=t.auctionId,a.parentId=n.parentId||"",a.parentInternalId=n.parentInternalId||"",d.floor&&(a.floor=d.floor),s("compass-allbids.deliverimp.com","allbids",e.default.jsonToQueryString(a))})}catch(i){a("Failed to send allbids",i.message),l({code:"allbids_error",message:i.message,tagId:o&&comassST.tagId})}}function I(r,t,o,n,i){var d=v(o,o.demands[o.level]||{},{});d.vBefore=r,d.vAfter=t,d.winner=i,s("compass-viewability.deliverimp.com",n,e.default.jsonToQueryString(d))}function g(r){var t=v(r,r.demands[r.level]||{},{}),o={publisherId:t.publisherId,tagId:t.tagId,wfId:t.wfId,targetingId:t.targetingId,domain:t.domain};s("compass-viewability.deliverimp.com","loaded",e.default.jsonToQueryString(o))}function b(r,t,o){var n=v(r,r.demands[r.level]||{},{});n.hbPb=o,s("compass-viewability.deliverimp.com",t,e.default.jsonToQueryString(n))}var w=-1;function y(r,t,o){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var n=v(r,t,o);if(n.cpm=t.cpm||0,n.cache=t.cache,n.cacherev=t.cacherev,Number(n.cpm)>=250)return p("cpm_limit","Cpm reached the $250 limit, value: ".concat(n.cpm)),!1;/^DFP/i.test(n.demand)||(n.rev=!0),n.loop!==w||r.isBidcachingEnabled()?(a("Sending estimated for the loop ".concat(n.loop,", demand ").concat(n.demand)),w=n.loop,s("compass-events.deliverimp.com","estrev",e.default.jsonToQueryString(n))):a("Estimated for the loop ".concat(n.loop," was sent already")),r.lastWinningBid=t.dp}function h(r,t){var o=r.demands[r.level]||{};if(o&&"WF Filler"!==o.dp&&r.lastWinningBid){var n=v(r,o,{});n.winningBidder=r.lastWinningBid,n.vw=t,s("compass-viewability.deliverimp.com","click",e.default.jsonToQueryString(n))}}function j(r,t){var o=r.demands[r.level]||{},n=i(i({},t),v(r,o,{}));s("compass-viewability.deliverimp.com","confiant",e.default.jsonToQueryString(n))}function T(t){var o=t.compassST,n=t.adData,d=t.blockData,l=void 0===d?{}:d,c=t.errorData,m=void 0===c?{}:c,u=t.scanStatus,v=void 0===u?"":u,f={scanId:o.soldImpressionId,company:"Brightcom",product:"cdn",propertyId:o.publisherId,domain:(o.domain||"").toLowerCase(),size:o.size,dp:"".concat(r.reverseBiddersMap[n.bidderCode]||n.bidderCode).toLowerCase(),creativeId:n.creativeId||""};if(a("[Protector]: report has been sent:",f,"for event ".concat(v,"."),"blocked"===v?l:m),s("protector.deliverimp.com","protector",e.default.jsonToQueryString(i(i({},f),{},{scanStatus:v}))),"blocked"===v){var I=i({meta:"targetingId:".concat(o.targetingId,"_waterfallId:").concat(o.waterfallId)},l);s("protector.deliverimp.com","blocks",e.default.jsonToQueryString(i(i({},f),I)))}else"error"===v&&(s("protector.deliverimp.com","errors",e.default.jsonToQueryString(i(i({},f),m))),p("protector_error","Error in ".concat(m.errorPlace," process: ").concat(m.errorMessage),o))}function S(r){var t=r.tagId,o=r.referral,n={tagId:t,size:r.size,tdomain:o};s("compass-viewability.deliverimp.com","iloaded",e.default.jsonToQueryString(n))}function P(r,t){var o=t.amznp,n=t.cpm,i={publisherId:r.publisherId,tagId:r.tagId,wfId:r.waterfallId,level:r.level,loop:r.loop||0,targetingId:r.targetingId,impId:r.impressionId,amznp:o,cpm:n};s("compass-viewability.deliverimp.com","amazon-bidder",e.default.jsonToQueryString(i))}
},{"./helpers":"lTk1","./hb/biddersMap":"Hk1C","./version":"RvaL"}],"PSwN":[function(require,module,exports) {
"use strict";function e(e,t,n){var s=new XMLHttpRequest;s.open("GET",e,!0),s.onreadystatechange=function(){4===s.readyState&&s.status>=400?n(s.status,s.responseText):4===s.readyState&&0!==s.status&&t(s.response)},s.onerror=function(){var e;try{e=window.frameElement&&(window.frameElement.id||window.frameElement.name)}catch(t){}n(s.status,s.responseText,e)},s.send()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={get:e};exports.default=t;
},{}],"WXpZ":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=function(){function e(r,i,n,o){t(this,e),this.targetId=r,this.creative=i,this.document=n,this.rules=o}return r(e,[{key:"init",value:function(t,e){var r=this.rules;t._patch=this.patch;var i=["25347","25353","25366","25409"].indexOf(e.tagId)>-1&&/msie|trident|edge/i.test(t.navigator.userAgent);t._patch(r,t,e,i);var n="<div id='"+this.targetId+"'>"+this.creative+"</div>";this.document.write(n)}},{key:"patch",value:function(t,e,r,i){var n="appendChild";if(e._cstpr=e._cstpr||{},r)try{e._cstpr.impressionId=r.iid,e._cstpr.size=r.size,e._cstpr.tagId=r.tagId}catch(c){}if(!e.document.oldWrite){e.document.oldWrite=e.document.write,e.Node.__bf__=e.Node.__bf__||{},/native code/.test(e.Node.prototype[n].toString())&&(e.Node.__bf__[n]=e.Node.prototype[n]);var o=function(t,r){var i=new Image,n="tagId="+e._cstpr.tagId+"&iid="+e._cstpr.impressionId+"&size="+e._cstpr.size+"&rule="+encodeURIComponent(r)+"&partner="+encodeURIComponent(e._cstpr.partner);i.src="//adloox-blocks.deliverimp.com/cprotector?"+n},a=function(){var n=arguments;if(0!==n.length){for(var a=0,s=String(n[0]),d=0;d<t.length;d++)if(s.indexOf(t[d])>=0){o(0,t[d]),a=1;break}if(!a&&"string"==typeof s){if(e._cstpr_fl>0){var p=function(t){var e=t.match(/\/\/(?:[a-z-]+\.)+[a-z-]+/),r="";e&&e[0]&&(r=e[0].split(".").slice(-2).join("."));if(/pw\.min\.js/.test(t)){var i=function(t){try{var e=t.match(/bidder:"(.*?)"/g);if(!e||!e.length)return"";for(var r=[],i=0,n=e.length;i<n;i++)"string"==typeof e[i]&&r.push(e[i].slice(8,-1));return r.join(", ")}catch(c){}}(t);r=i||r,r+=" (postbid)"}return r}(s);p?(e._cstpr.partner=p,e._cstpr_fl=0):e._cstpr_fl--}(/^<div.*sandboxed-ad.*compass\?iid=.*div>$/.test(s)||/^<script.*\/pb\?iid=.*script>$/.test(s))&&(e._cstpr_fl=2);var f=function(t){var e=t.match(/(<iframe.*?><\/iframe>)/g);if(!e||!e.length)return[[t,""]];for(var r=t,i=[],n=0;n<e.length;n++){var o=e[n],a=r.split(o),c=a[0];r=a.slice(1).join(o);var s=Math.floor(999999*Math.random()),d=c+o.replace(/<iframe/,"<iframe test-id="+s);i.push([d,s])}r&&i.push([r,""]);return i}(s);for(d=0;d<f.length;d++){var l=f[d];if(e.document.oldWrite.call(e.document,l[0]),l[1]&&!/msie|trident|edge/i.test(e.navigator.userAgent))try{var u=e.document.querySelector("[test-id='"+l[1]+"']");u.contentWindow._patch=e._patch,u.contentWindow._cstpr=JSON.parse(JSON.stringify(e._cstpr)),u.contentWindow._patch(t,u.contentWindow,r,i)}catch(c){}}}}};i?document.write=a:e.document.write=a,/native code/.test(e.Node.prototype[n].toString())&&(e.Node.prototype[n]=function(a){var s=a.src||"",d=0;if(a&&"IFRAME"===a.tagName&&(0!=s.indexOf("https://")&&0!=s.indexOf("http://")||-1!=s.indexOf(e.location.hostname))){var p=a.onload;a.onload=function(n){try{if(a.contentWindow._patch=e._patch,!a.contentWindow._cstpr)try{a.contentWindow._cstpr=JSON.parse(JSON.stringify(e._cstpr))}catch(c){}a.contentWindow._patch(t,a.contentWindow,r,i),p&&p.call(a,n)}catch(c){if(p)try{p.call(a,n)}catch(c){}}}}else if(a&&"SCRIPT"===a.tagName&&s)for(var f=0;f<t.length;f++)if(s.indexOf(t[f])>=0){o(0,t[f]),d=1;break}d||e.Node.__bf__[n].apply(this,arguments)})}}}]),e}(),n=i;exports.default=n;
},{}],"X8Ur":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.writeWithProtector=r;var e=t(require("./protector"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r,o,i){var n=new e.default("sandboxed-ad",r,t,i),u=t.defaultView||t.parentWindow;n.init(u,o)}
},{"./protector":"WXpZ"}],"ZLZB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./helpers")),n=e(require("./constants"));function e(t){return t&&t.__esModule?t:{default:t}}function i(t,n){return s(t)||c(t,n)||o(t,n)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,n){if(t){if("string"==typeof t)return a(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,n):void 0}}function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function c(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],i=!0,r=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(i=(a=c.next()).done)&&(e.push(a.value),!n||e.length!==n);i=!0);}catch(s){r=!0,o=s}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return e}}function s(t){if(Array.isArray(t))return t}var d=t.default.dfpTargetingToString,p={"Direct Deal":function(t){return t.customScript},"Default Creative":function(t){return t.customScript},"WF Filler":function(t){var n=t.size,e=t.tagId,i=t.domain,r=["970x90"].includes(n)||["31431","31391","31348","31347","30502","30287","26419","21412","21411"].includes(e);return"scientificamerican.com"===i&&["300x250","300x50","320x50","300x600","728x90","970x90","970x250"].includes(n)?'<a href="https://www.scientificamerican.com/getsciam/?utm_source=site&utm_medium=display&utm_campaign=evergreen-ads2023_subgridbanner&utm_term=LP_subgrid_v1_s1_display_homepage" target=_blank><img border=0 src="//cdn.marphezis.com/banners/tis/evrgrn-'.concat(n,'-subGrid.jpg"></a>'):r?'<a href="//www.brightcom.com" target=_blank><img border=0 src="//cdn.marphezis.com/banners/brightcom_'+n+'.jpg"></a>':'<a href="//www.theperspective.com" target=_blank><img border=0 src="//cdn.marphezis.com/banners/perspective_'+n+'.jpg"></a>'},Amazon:function(t){console.log(t);var e=t.crid||0,r=i(t.size.split("x"),2),o=r[0],a=r[1],c='<div id="grumi-container"> <script type="text/javascript" nonce="!headerNonce!">window.grumi={wver:"1.1.6",wtype:"dfp",key:"'.concat(n.default.GEOEDGE_KEY,'",meta:{adup:"').concat(t.slotID,'",dest:"%%DEST_URL_ESC%%",w:"').concat(o,'",h:"').concat(a,'",li:"%eaid!",adv:"').concat("Amazon",'",ord:"%ebuy!",cr:"').concat(e,'",ygIds:"%_ygIds!",aduid:"%epid!",haduid:"%esid!",isAfc:"%_isAfc!",isAmp:"%_isAmp!",isEBDA:"%_isEBDA!",qid:"%qid!",cust_imp:"%cust_imp!",cust1:"%cust1!",cust2:"%cust2!",cust3:"%cust3!",caid:"%caid!",di:"%DEMAND_ID!",dn:"%DEMAND_NAME!",dcid:"%DEMAND_CREATIVE_ID!",pid:"%PUBLISHER_ID!",pn:"%PUBLISHER_NAME!",adElId:"%_adElId!",topUrl:"%%TOPURL%%"},sp:"dfp",cfg:{advs:"%%advs%%",pbGlobal:"%_pbGlobal%"},pbAdId:"%%PATTERN:hb_adid%%",pbAdIdAst:"%%PATTERN:hb_adid_appnexusAst%%",pbBidder:"%%PATTERN:hb_bidder%%",hbPb:"%%PATTERN:hb_pb%%",hbCid:"%_hbcid!",hbAd:"%_hbad!",hbSize:"%%PATTERN:hb_size%%",hbCurrency:"%_hbCurrency!",hbAdomains:"%_hbadomains",site:"%%SITE%%",pimp:"%_pimp%",pl:"%%preloaded%%",isHb:"%_isHb!",to:"%_to%"};<')+'/script> <template style="display: none;" id="template0"> <xmp style="display: none;" id="xmp0">',s='<script>window.parent.apstag.renderImp(document, "'.concat(t.amzniid,'");<')+"/script>";return"".concat(c).concat(s).concat('</xmp> </template> <script type="text/javascript" nonce="!footerNonce!">!function(n){var e=window.grumi.key,t=window.grumi,o=t&&t.wtype&&"gpt"===t.wtype,r=window.onerror,i=+new Date,a=navigator.userAgent&&navigator.userAgent.match(/(MSIE)|(Trident)|(Edg)/),w=o&&!a,o=t.to,o=parseInt(o,10)||5e3;function u(){var n=function(){for(var n,e=document.getElementsByTagName("template"),t=e.length-1;0<=t;t--)if("template0"===e[t].id){n=e[t];break}return n}();return n.content?n.content.getElementById?n.content.getElementById("xmp0"):n.content.childNodes[0]:n.getElementsByTagName("xmp")[0]}function d(){var n=u();return n&&n.innerHTML}function c(n,e){e=e||!1,window.parent.postMessage&&window.parent.postMessage({evType:n||"",key:t.key,adup:t.meta.adup,html:window.grumi?window.grumi.tag:"",el:t.meta.adElId,refresh:e},"*")}var m=!1;function g(n,e){var t,o;!m&&(m=!0,t="",o=a&&"complete"===document.readyState,window.grumi&&(window.grumi.fsRan=!0,t=window.grumi.tag),o||(t=t||d(),w&&window.document.open(),window.document.write(t),window.document.close()),(e=e||!1)||o)&&c(n,o)}function s(n,t){return function(){var e=setTimeout(function(){var n=document.getElementById(i);n&&null===function(n){if(void 0!==n.nextElementSibling)return n.nextElementSibling;for(var e=n.nextSibling;e&&1!==e.nodeType;)e=e.nextSibling;return e}(n)&&t&&t(),clearTimeout(e)},n)}}s(o,function(){g()})(),s(2e3,function(){c("slwCl")})(),window.grumi.tag=d(),window.grumi.scriptHost=n,window.grumi.pbGlobal=window.grumi.cfg&&window.grumi.cfg.pbGlobal||"pbjs",window.grumi.onerror=r,window.parent&&window.parent.postMessage&&window.parent.postMessage({iw:!0,key:t.key,adup:t.meta.adup,el:t.meta.adElId},"*"),window.grumiInstance=function(){for(var n=window,e=0;e<10;e++){try{if(n.grumiInstance)return n.grumiInstance}catch(n){}n=n.parent}}()||{q:[]};var p=JSON.parse(JSON.stringify(window.grumi));if(grumiInstance.q.push(function(){grumiInstance.createInstance(window,document,p)}),!grumiInstance.loaded){o=document.createElement("script"),n=(o.type="text/javascript",o.src=n+e+"/grumi.js",o.className="rm",o.id=i,w&&(o.async=!0),"_"+ +new Date);window[n]=function(){g("netErr",!0)},window.grumi.start=+new Date;try{window.document.write(o.outerHTML.replace(\'class="rm"\',\'onerror="\'+n+\'();"\'))}catch(n){g()}}window.onerror=function(n){"function"==typeof r&&r.apply(this,arguments),s(0,g)(),window.onerror=r}}(("http"===window.location.protocol.substr(0,4)?window.location.protocol:"https:")+"//rumcdn.geoedge.be/");<\/script>')},DFP:function(t,n,e){var i=n.dfpSeat,r=n.dfpPageUrl,o=n.mcmChildId,a=n.wrapper,c=n.confiantKey,s=t.dfp_ad_unit_code,p=t.adx_ad_unit_code,u=t.width,m=t.height,g=s||p,l=d(e),w="".concat(i).concat(o?",".concat(o):"");return'\n\t\t\t<div id="gpt-passback">\n\t\t\t\t'.concat("confiant"===a?'<script async="" src="https://cdn.confiant-integrations.net/'.concat(c,'/gpt_and_prebid/config.js"><\/script>'):"","\n\t\t\t\t<script src=\"https://securepubads.g.doubleclick.net/tag/js/gpt.js\"><\/script>\n\t\t\t\t<script>\n\t\t\t\t\tfunction getWindowWithCompassST(w = window, i = 0) {\n\t\t\t\t\t\tif (i === 10) {\n\t\t\t\t\t\t\tthrow new Error('no_window_with_compass_st')\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn w.compassST ? w : getWindowWithCompassST(w.parent, i + 1);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconst windowWithCompassSt = getWindowWithCompassST();\n\t\n\t\t\t\t\tif (windowWithCompassSt.compassST) {\n\t\t\t\t\t\tconst {compassST, googletag = {cmd: []}} = windowWithCompassSt;\n\t\t\t\t\t\tconsole.log(compassST, googletag)\n\t\t\t\t\t\tcompassST.initDfp(window);\n\t\t\t\t\t\tgoogletag.defineSlot('/").concat(w,"/").concat(g,"', [").concat(u,", ").concat(m,"], 'gpt-passback')\n\t\t\t\t\t\t\t  ").concat(r?".set('page_url', '".concat(r,"')"):"","\n\t\t\t\t\t\t\t  ").concat(l,"\n\t\t\t\t\t\t\t  .addService(googletag.pubads());\n\t\t\t\t\t\tgoogletag.enableServices();\n\t\t\t\t\t\tgoogletag.display('gpt-passback');\n\t\t\t\t\t}\n\t\t\t\t<\/script>\n\t\t\t</div>\n\t\t")}};exports.default=p;
},{"./helpers":"lTk1","./constants":"iJA9"}],"MA0g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o={testBid:"0.1","1vd78jk":"2.09","2ztfr4":"2.06","1ivpibk":"0.61","114fhts":"0.63",ycjk00:"0.64",gl9ji8:"0.66","1g3tkhs":"0.67",pgwjr4:"0.68","7pmj9c":"0.70","1786k8w":"0.71",twq1vk:"0.72",c5g1ds:"0.74","1bo02dc":"0.75",l131mo:"0.76","39t14w":"0.78","12sd24g":"0.79",w4msxs:"0.80","1vn6txc":"0.81","1dvwtfk":"0.83",n8zsow:"0.84","1mrjtog":"0.85","1509t6o":"0.87",rotatc:"0.88","1r7dbsw":"0.89","19g3bb4":"0.91",it6akg:"0.92","1ibqbk0":"0.93","10kgb28":"0.95",zghxj4:"0.96","1yz1yio":"0.97","1h7ry0w":"0.99",qkuxa8:"1.00","8tkwsg":"1.02","18c4xs0":"1.03",v0ofeo:"1.04",d9eeww:"1.06","1cryfwg":"1.07",m51f5s:"1.08","13wbfnk":"1.11",x8l6gw:"1.12","1wr57gg":"1.13","1ezv6yo":"1.15",ocy680:"1.16","1nvi77k":"1.17","16486ps":"1.19",ssrocg:"1.20","1wh5m2o":"2.41",f7bklc:"2.42",o2yku8:"2.44","1nlilts":"2.45","15u8lc0":"2.47",sis2yo:"2.48",ari2gw:"2.50","1aa23gg":"2.51","1j5p3pc":"2.53","1vv280":"2.54",xnkkjk:"2.56","1x64lj4":"2.57","1feul1c":"2.59",orxkao:"2.60","1oahla8":"2.61","70njsw":"2.62",t7r2f4:"2.64","1sqb3eo":"2.65","1az12ww":"2.67",kc4268:"2.68","1juo35s":"2.69","123e2o0":"2.71",vfnthc:"2.72",dodszk:"2.74","1d6xtz4":"2.75","1m2ku80":"2.77","4sqsqo":"2.78","14batq8":"2.79","1qieccg":"2.81","98kav4":"2.82",i47b40:"2.84","1hmrc3k":"2.85",zvhbls:"2.87",yriy2o:"2.88","1ya2z28":"2.89","1gisykg":"2.91",pvvxts:"2.92","84lxc0":"2.94","17n5ybk":"2.95",ubpfy8:"2.96",ckffgg:"2.98","1c2zgg0":"2.99",k58u80:"27.00",ib2j28:"31.00",ttlog0:"34.00","1be0gzk":"2.03","14qa7sw":"2.15",mz07b4:"2.12","9njoxs":"2.18","1lnlg5c":"1.09","111xlhc":"5.75","1fjudq8":"0.03","16o7dhc":"0.07",blgum8:"0.10","2ptudc":"0.14","1v37n5s":"0.17","4xqlfk":"0.22","9dk3k0":"0.26","100h4ao":"0.31","1gnsr9c":"0.35","17s5r0g":"0.39","1c7z94w":"0.43","13cc8w0":"0.47","1efw074":"0.51","15k8zy8":"0.55",ahih34:"0.58","1lvgu8":"0.62","1xv3kzk":"0.65","1ozgkqo":"0.69","1tfa2v4":"0.73","1kjn2m8":"0.77",edcsg0:"0.82","5hps74":"0.86","9xjabk":"0.90","11wa2o":"0.94",hp7x1c:"0.98","1q3ey9s":"1.01","1uj8ge8":"1.05","4dreo0":"1.10",fhb5z4:"1.14","6lo5q8":"1.18","1ak1ou8":"1.23","11oeolc":"1.27","1f9uscg":"1.31","16e7s3k":"1.35","1au1a80":"1.39","11ye9z4":"1.43","1d1y1a8":"1.47","146b11c":"1.51","18m4j5s":"1.55",zqhiww:"1.59","1gdt5vk":"1.63","17i65mo":"1.67","1bxznr4":"1.71","132cni8":"1.75","1e5wetc":"1.79","15a9ekg":"1.83","19q2wow":"1.87","10ufwg0":"1.91",gb9y4g:"1.94","7fmxvk":"1.98","1sbbpc0":"1.21",b1hnuo:"1.22",jx4o3k:"1.24","1jfop34":"1.25","25unls":"1.26",xikruo:"1.28","1x14su8":"1.29",frarcw:"1.30",omxrls:"1.32","1o5hslc":"1.33","6vnr40":"1.34",t2r9q8:"1.36","1slbaps":"1.37",bbh98g:"1.38",k749hc:"1.40","1jpoagw":"1.41","2fu8zk":"1.42",vao0sg:"1.44","1ut81s0":"1.45",dje0ao:"1.46",mf10jk:"1.48","1lxl1j4":"1.49","4nr01s":"1.50",quuio0:"1.52","1qdejnk":"1.53","93ki68":"1.54",hz7if4:"1.56","1hhrjeo":"1.57","7xhxc":"1.58",ymj5ds:"1.60","1y536dc":"1.61",gv94w0:"1.62",pqw54w:"1.64","1p9g64g":"1.65","7zm4n4":"1.66",u6pn9c:"1.68","1tp9o8w":"1.69",cffmrk:"1.70",lb2n0g:"1.72","1ktmo00":"1.73","3jsmio":"1.74",wemebk:"1.76","1vx6fb4":"1.77",encdts:"1.78",nize2o:"1.80",e5v3eo:"8.50",ofg2kg:"9.00",uj74zk:"10.00","9et1q8":"10.50",l2bzsw:"11.00","273ls0":"11.50",hgh9ts:"12.50",ml9reo:"13.00","7lvoqo":"13.50",cbos8w:"14.50",iffuo0:"15.00","2okw74":"15.50",fg27sw:"16.50",ppn6yo:"17.00","56h8n4":"17.50",lysoao:"19.00","1or28":"19.50",ntlgjk:"21.00",qvgzr4:"22.00",jnrjsw:"23.00",p2jmrk:"25.00",uettds:"26.00",wwq5ts:"28.00",n24kqo:"29.00",rrxo8w:"30.00",xkg740:"32.00",qcqr5s:"33.00",l7y9kw:"35.00","1xb4e80":"0.01",g1acqo:"0.02",owxczk:"0.04","1ofhdz4":"0.05","75nchs":"0.06",tcqv40:"0.08","1svaw3k":"0.09","1b40vls":"0.11",kh3uv4:"0.12","1jznvuo":"0.13","128dvcw":"0.15",vknm68:"0.16",dtdlog:"0.18","1dbxmo0":"0.19",mp0lxc:"0.20","1m7kmww":"0.21","14gamf4":"0.23",r4u41s:"0.24","1qne51c":"0.25","18w44jk":"0.27",i973sw:"0.28","1hrr4sg":"0.29",hx3b4:"0.30",ywiqrk:"0.32","1yf2rr4":"0.33",h58q9s:"0.34",q0vqio:"0.36","1pjfri8":"0.37","89lq0w":"0.38",ugp8n4:"0.40","1tz99mo":"0.41",cpf85c:"0.42",ll28e8:"0.44","1l3m9ds":"0.45","3ts7wg":"0.46",wolzpc:"0.48","1w760ow":"0.49",exbz7k:"0.50",nsyzgg:"0.52","1nbj0g0":"0.53","61oyyo":"0.54",s8shkw:"0.56","1rrcikg":"0.57","1a02i2o":"0.59",jd5hc0:"0.60",bvgg00:"2.02",vun7k0:"2.08","57q6tc":"2.14","1963pxc":"2.19","1i1qq68":"2.21","1yp2d4w":"2.25","1ptfcw0":"2.29","1u98v0g":"2.33","1ldlurk":"2.37",wyll34:"2.40","1epvlkw":"2.43","6bokcg":"2.46","1s1c3y8":"2.49",jn52ps:"2.52","11ef37k":"2.55",fwak1s:"2.58","16j7ksg":"2.63",bgh1xc:"2.66","2ku1og":"2.70","1uy7ugw":"2.73",mk0t8g:"2.76",qzubcw:"2.80","18r4buo":"2.83",cxam8:"2.86",h08xkw:"2.90","1pefytc":"2.93","1tu9gxs":"2.97",lg2fpc:"3.00","19v2pds":"3.15",c0g8ow:"3.30","1r2dj40":"3.45",uvomps:"3.60","15z8e0w":"3.75","6qnyf4":"3.90",zlhq80:"4.15","3estts":"4.30","1igq48w":"4.45","16t7668":"4.55","52qe4g":"4.70","1pofk74":"4.85",nxys5c:"5.00","1qv9j4":"5.10","14dsq2o":"5.35","1c5hcsg":"5.55","1n1jf28":"1.81","5rpdkw":"1.82",rysw74:"1.84","1rhcx6o":"1.85",a7ivpc:"1.86",j35vy8:"1.88","1ilpwxs":"1.89","1bvvgg":"1.90",y2jym8:"1.92","1xl3zls":"1.93","1fttz40":"1.95",p6wydc:"1.96","1opgzcw":"1.97","16y6yv4":"1.99",tmqghs:"2.00","1t5ahhc":"2.01",kr3g8w:"2.04","1k9nh8g":"2.05","12idgqo":"2.07",e3d728:"2.10","1dlx81s":"2.11","1mhk8ao":"2.13",retpfk:"2.16","1qxdqf4":"2.17",ij6p6o:"2.20",rwoow:"2.22","10agpog":"2.23",z6ic5c:"2.24",hf8bnk:"2.26","1gxscn4":"2.27",qavbwg:"2.28","8jlbeo":"2.30","1825ce8":"2.31",uqou0w:"2.32",czetj4:"2.34","1chyuio":"2.35",lv1ts0:"2.36","43rta8":"2.38","13mbu9s":"2.39","1w26800":"3.05","5wp69s":"3.10",y7jrb4:"3.20","1ougs1s":"3.25","12nd9fk":"3.35",n40000:"3.40",wwhds:"3.50","1h2s5c0":"3.55","1lilngg":"3.65",fcbda8:"3.70",js4veo:"3.80","1ww505c":"3.85","1ap1hj4":"3.95",v5o83k:"4.00","1lsl8u8":"4.05","8ykphc":"4.10",plwcg0:"4.20","1tk9vk0":"4.25","1e0wm4g":"4.35",rtt3i8:"4.40",g6a5fk:"4.50",km3nk0:"4.60","1v87fuo":"4.65","1913x8g":"4.75",z1ijgg:"4.80",cuf0u8:"4.90","13hc1kw":"4.95","1rwcb9c":"5.05","1fhchds":"5.15",ta8yrk:"5.20","1jx5zi8":"5.25",dqvpc0:"5.30",i6p7gg:"5.40","1yckveo":"5.45","873tog":"5.50",wm43cw:"5.60","1n9143k":"5.65",af0kqo:"5.70","1tcs6io":"5.85","37b4sg":"5.90","1dtex34":"5.95",rmbegw:"6.00",hmq0ow:"6.10","189n1fk":"6.15","1wonb40":"6.25","6j69ds":"6.30",xg2vi8:"6.40","1o2zw8w":"6.45",b8zcw0:"6.50",peeneo:"5.80","1i98f7k":"6.05",m2jitc:"6.20","1ahjshs":"6.35","11vwdmo":"6.55","5flkw":"6.70","1kr4rnk":"6.85","1xim39c":"7.05","1mf2by8":"7.25",q8dfk0:"7.40",sga6m8:"7.60","16gpog0":"7.75","18omfi8":"7.95","5k7ojk":"9.50",wfvchs:"12.00",sp0tts:"14.00",ybalts:"16.00",t6i48w:"18.00",ab9q80:"18.50",voegow:"20.00",zc4lxc:"24.00",mcj474:"6.60","1qawnb4":"6.65","1gbb9j4":"6.75",u47qww:"6.80",ekuhhc:"6.90","157ri80":"6.95",j0nzls:"7.00","7d51j4":"7.10","1bbikn4":"7.15",vs5b7k:"7.20","9l1slc":"7.30","107ytc0":"7.35","1u6qyo0":"7.45","419wxs":"7.50","1endp8g":"7.55","1j377cw":"7.65",ftsnpc:"7.70",k9m5ts:"7.80","1uvpy4g":"7.85","4q8we8":"7.90",yp11q8:"8.00"};exports.default=o;
},{}],"gB0C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=o(require("./helpers"));function o(n){return n&&n.__esModule?n:{default:n}}var e=n.default.log;function _(n,o,_,r){e("Choosing strategy:",n,o,_,r);var t=r.prebidWinningBid,d=void 0===t?0:t,u=r.amazonAdjustedBid,a=void 0===u?0:u,i=r.auctionFloorPrice,s=void 0===i?0:i,A=r.adxThreshold,c=void 0===A?0:A;return function n(o,e,_){var r={Amazon_no_Adx_no_IVT_no:function(){return d>s?"renderPrebid":"nextLevel"},Amazon_no_Adx_no_IVT_yes:function(){return n(o,e,"no")},Amazon_yes_Adx_no_IVT_no:function(){return a>Math.max(d,s)?"sendAmazon":n("no","no","no")},Amazon_yes_Adx_no_IVT_yes:function(){return n(o,e,"no")},Amazon_yes_Adx_yes_IVT_yes:function(){return n("no","no","no")},Amazon_yes_Adx_yes_IVT_no:function(){return!c||a>Math.max(d,s)||d>s&&d<c?"sendAdx":n("no","no","no")},Amazon_no_Adx_yes_IVT_yes:function(){return n("no","no","no")},Amazon_no_Adx_yes_IVT_no:function(){return!c||d>s&&d<c?"sendAdx":n("no","no","no")}};return r["Amazon_".concat(o,"_Adx_").concat(e,"_IVT_").concat(_)]()}(n,o,_)}var r=_;exports.default=r;
},{"./helpers":"lTk1"}],"FCGJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../constants")),t=r(require("../helpers"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return l(e)||s(e)||u(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function s(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function l(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}var h=e.default.RENDER_DELTA,y=e.default.PREBID_REFRESH_DELTA,b=e.default.PREBID_REFRESH,g=e.default.CUSTOM_FLOOR_ADJUSTMENT,m=t.default.log,O=function(){function e(){f(this,e),this.storage={}}return v(e,[{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.storage[e];!r&&n?n.push.apply(n,a(t)):this.storage[e]=a(t)}},{key:"setMany",value:function(e,t){for(var r in e)this.set(r,e[r].bids,t)}},{key:"getAll",value:function(){var e=[];for(var t in this.storage)e.push.apply(e,a(this.storage[t]));return e}},{key:"get",value:function(e,t){var r=this.storage[e];if(r){for(var n,o=[],i=0,a=0;a<r.length;a++){var c=r[a],u="rendered"===c.status;this.isBidExpired(c)||u||(!c.locked&&c.cpm>i&&!this.isBidderRecentlyRendered(t,c)&&(i=c.cpm,n=c),o.push(c))}return this.set(e,o,!0),n}}},{key:"getWithoutClearing",value:function(e,t,r){if(t&&r&&r.rendered&&r.ts){for(var n,o=0,i=0;i<t.length;i++){var a=t[i],c="rendered"===a.status;a.locked||this.isBidExpired(a,r.ts)||c||this.isBidderRecentlyRendered(e,a,r)||a.cpm>o&&(o=a.cpm,n=a)}return n&&(n.locked=!0,r.rendered[n.bidder]=r.ts),n}}},{key:"getCustomFloor",value:function(e,t,r){m("Getting custom floor");var n=a(this.storage[e]||[]);if(n){var i=Date.now(),c=o({},t.rendered||{}),u=(t.loopStart+1e3*t.refreshInterval-i)/1e3;m("Next loop in ".concat(u.toFixed(1)," seconds"));var s=void 0!==r?r:Math.ceil((u-2*y)/b);if(m("Possible refreshes: ".concat(s)),!(s<=0)){for(var l,d=[],f=0;f<s;f++){l=f*b*1e3+i;var p=this.getWithoutClearing(t,n,{rendered:c,ts:l});if(!p){m("Refresh ".concat(f,". Bid not found"));break}m("Refresh ".concat(f,". Found bid:"),p),d.push(p)}for(var v=0,h=d;v<h.length;v++){delete h[v].locked}var O=d.reduce(function(e,t){return e+t.cpm},0)-g;return m("Custom floor: ".concat(O)),O}}}},{key:"isBidderRecentlyRendered",value:function(e,t,r){if(!e.isBidcachingEnabled())return!1;var n=r&&r.rendered||e.rendered||{},o=r&&r.ts||Date.now(),i=1e3*(e.refreshInterval-h),a=t.bidder;return!!(n[a]&&o-n[a]<i)&&(m("Skipping ".concat(a," cached bid ").concat(t.cpm," as only ")+"".concat(((o-n[a])/1e3).toFixed(1)," sec passed after render")),!0)}},{key:"getMany",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,r){return o(o({},t),{},i({},r,e.get(r)))},{})}},{key:"isBidExpired",value:function(e,t){var r=e.responseTimestamp,n=1e3*e.ttl;return(t=t||(new Date).getTime())>r+n-1e3}}]),e}(),E=O;exports.default=E;
},{"../constants":"iJA9","../helpers":"lTk1"}],"Xi9k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=s(require("../helpers")),e=s(require("../constants"));function s(i){return i&&i.__esModule?i:{default:i}}function n(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function t(i,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function a(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}function d(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var r=function(){function s(i,e){n(this,s),d(this,"priceGranularityConfig",{buckets:[{precision:2,min:0,max:1,increment:.01},{precision:2,min:1,max:5,increment:.02},{precision:2,min:5,max:10,increment:.1},{precision:2,min:10,max:28.8,increment:.2}]}),this.win=i,this.compassST=e}return a(s,[{key:"aliasBidders",value:function(){this.win.pbjs.aliasBidder("openx","openxlimpid"),this.win.pbjs.aliasBidder("rubicon","rubiconlimpid"),this.win.pbjs.aliasBidder("rubicon","rubicongetmedia"),this.win.pbjs.aliasBidder("pubmatic","pubmaticlimpid"),this.win.pbjs.aliasBidder("pubmatic","pubmaticsparc"),this.win.pbjs.aliasBidder("pubmatic","pubmaticwhildey"),this.win.pbjs.aliasBidder("pubmatic","pubmaticbcm"),this.win.pbjs.aliasBidder("conversant","conversantono"),this.win.pbjs.aliasBidder("appnexus","appnexusbrave"),this.win.pbjs.aliasBidder("appnexus","appnexusbrave2"),this.win.pbjs.aliasBidder("appnexus","appnexustailwind"),this.win.pbjs.aliasBidder("appnexus","appnexusaudienciad"),this.win.pbjs.aliasBidder("appnexus","appnexusgetmedia"),this.win.pbjs.aliasBidder("appnexus","appnexusbcm"),this.win.pbjs.aliasBidder("smartadserver","smartlimp"),this.win.pbjs.aliasBidder("smartadserver","smartsparc"),this.win.pbjs.aliasBidder("smartadserver","smartgetmedia"),this.win.pbjs.aliasBidder("oftmedia","oftmedianew"),this.win.pbjs.aliasBidder("sovrn","sovrnmango"),this.win.pbjs.aliasBidder("sovrn","sovrnbcm"),this.win.pbjs.aliasBidder("yahoossp","onemobileBCM"),this.win.pbjs.aliasBidder("yahoossp","onemobilegetmedia"),this.win.pbjs.aliasBidder("onetag","onetagbcm"),this.win.pbjs.aliasBidder("onetag","onetagaudienciad"),this.win.pbjs.aliasBidder("emx_digital","emxbcm"),this.win.pbjs.aliasBidder("beachfront","beachfrontgetmedia"),this.win.pbjs.aliasBidder("sonobi","sonobibcm"),this.win.pbjs.aliasBidder("adagio","adagiobcm"),this.win.pbjs.aliasBidder("synacormedia","synacorbcm"),this.win.pbjs.aliasBidder("yieldmo","yieldmobcm"),this.win.pbjs.aliasBidder("triplelift","tripleliftmango"),this.win.pbjs.aliasBidder("pulsepoint","pulsepointbcm"),this.win.pbjs.aliasBidder("adyoulike","adyoulikeoms")}},{key:"setPrebidConfig",value:function(){i.default.log("setPrebidConfig","isConfiantReady",this.win.confiant),this.win.pbjs.setConfig({priceGranularity:this.priceGranularityConfig,userSync:{userIds:[],iframeEnabled:!0,filterSettings:{iframe:{bidders:"*",filter:"include"}}}}),i.default.withCMP(this.win)&&this.win.pbjs.setConfig({consentManagement:{gdpr:{cmpApi:"iab",timeout:1e3,allowAuctionWithoutConsent:!0},usp:{cmpApi:"iab",timeout:1e3}}}),"geoedge"===this.compassST.wrapper&&this.win.pbjs.setConfig({realTimeData:{dataProviders:[{name:"geoedge",params:{key:e.default.GEOEDGE_KEY}}]}})}},{key:"addSchain",value:function(){this.win.pbjs.setBidderConfig({bidders:["compass","appnexustailwind","onemobileBCM","unruly","nobid","33across","adagiobcm","synacorbcm","yieldlab","yieldmobcm","teads","pulsepointbcm"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"brightcom.com",sid:this.compassST.publisherId,hp:1}]}}}}),this.win.pbjs.setBidderConfig({bidders:["sonobibcm","medianet","onetagbcm","adyoulike","amx","sovrnbcm","sharethrough","criteo","appnexusbcm","openx","pubmaticbcm"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"onlinemediasolutions.com",sid:this.compassST.publisherId,hp:1}]}}}}),this.win.pbjs.setBidderConfig({bidders:["ix","yahoossp","yieldmo","emx_digital","appnexusaudienciad","onetagaudienciad"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"audienciad.com",sid:this.compassST.publisherId+"2",hp:1}]}}}}),this.win.pbjs.setBidderConfig({bidders:["appnexusgetmedia","smartgetmedia","rubicongetmedia","onemobilegetmedia"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"getmediamx.com",sid:"12"+this.compassST.publisherId,hp:1}]}}}}),this.win.pbjs.setBidderConfig({bidders:["smartlimp","rubiconlimpid","sovrn"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"limpid.tv",sid:"9"+this.compassST.publisherId,hp:1}]}}}}),this.win.pbjs.setBidderConfig({bidders:["appnexus","rubicon","conversantono","sonobi","adf"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"onomagic.com",sid:this.compassST.publisherId+"1",hp:1}]}}}}),this.win.pbjs.setBidderConfig({bidders:["smartsparc"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"adsparc.com",sid:"7"+this.compassST.publisherId,hp:1}]}}}}),this.win.pbjs.setBidderConfig({bidders:["pubmaticsparc"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"sparcmedia.com",sid:"3"+this.compassST.publisherId,hp:1}]}}}}),this.win.pbjs.setBidderConfig({bidders:["pubmaticwhildey"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"whildey.com",sid:this.compassST.publisherId+"5",hp:1}]}}}})}},{key:"setBidderSettings",value:function(){this.win.pbjs.bidderSettings={standard:{storageAllowed:!0},aardvark:{bidCpmAdjustment:function(i,e){return.85*i}},sovrn:{bidCpmAdjustment:function(i,e){return.875*i}},sovrnmango:{bidCpmAdjustment:function(i,e){return.9*i}},oftmedia:{bidCpmAdjustment:function(i,e){return.85*i}},oftmedianew:{bidCpmAdjustment:function(i,e){return.85*i}},openxlimpid:{bidCpmAdjustment:function(i,e){return.875*i}},rubiconlimpid:{bidCpmAdjustment:function(i,e){return.875*i}},adagiolimpid:{bidCpmAdjustment:function(i,e){return.875*i}},pubmaticlimpid:{bidCpmAdjustment:function(i,e){return.875*i}},pubmaticsparc:{bidCpmAdjustment:function(i,e){return.9*i}},pubmaticwhildey:{bidCpmAdjustment:function(i,e){return.9*i}},conversant:{bidCpmAdjustment:function(i,e){return.8*i}},consumable:{bidCpmAdjustment:function(i,e){return 1*i}},appnexusbrave:{bidCpmAdjustment:function(i,e){return.9*i}},improvedigital:{bidCpmAdjustment:function(i,e){return.9*i}},smartlimp:{bidCpmAdjustment:function(i,e){return.875*i}},smartsparc:{bidCpmAdjustment:function(i,e){return.9*i}},amx:{bidCpmAdjustment:function(i,e){return.95*i}},compass:{bidCpmAdjustment:function(i,e){return.9*i}},yieldlab:{bidCpmAdjustment:function(i,e){return.81*i}}}}},{key:"setupPrebid",value:function(){this.aliasBidders(),this.setPrebidConfig(),this.addSchain(),this.setBidderSettings()}}]),s}(),o=r;exports.default=o;
},{"../helpers":"lTk1","../constants":"iJA9"}],"qW0u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../helpers")),n=require("../tracking"),t=i(require("../constants"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach(function(n){r(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,n,t){return n&&c(e.prototype,n),t&&c(e,t),e}var p=t.default.PREBID_JS_VERSION,f=e.default.log,u=function(){function e(n,t,i){s(this,e),this.win=n,this.compassST=t,this.config=i}return d(e,[{key:"loadPrebid",value:function(){if(this.compassST.isBidcachingEnabled())f("[loadPrebid]","Use existing prebid instance"),this.win.pbjs=this.compassST.pbjs;else{f("[loadPrebid]","Load prebid script");var e=this.compassST.isFeatureEnabled("prebidTopsrvimpDomain")?"topsrvimp":"marphezis",n=this.win.document.createElement("script");n.type="text/javascript",n.async=!0,n.src="//cdn.".concat(e,".com/cmpp/prebid").concat(p,".js"),this.win.document.body||this.win.document.documentElement.appendChild(this.win.document.createElement("body")),this.win.document.body.appendChild(n)}}},{key:"loadAmazon",value:function(){!function(e,n,t,i,a,o,r){function s(t,i){n[e]._Q.push([t,i])}n[e]||(n[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(o=t.createElement(i)).async=!0,o.src="//c.amazon-adsystem.com/aax2/apstag.js",(r=t.getElementsByTagName(i)[0]).parentNode.insertBefore(o,r))}("apstag",this.win,this.win.document,"script"),this.win.apstag.init({pubID:"48266a61-b3d9-4cb7-b172-553abc6a42a4",adServer:"googletag",schain:{complete:1,ver:"1.0",nodes:[{asi:"onlinemediasolutions.com",sid:this.compassST.publisherId,hp:1}]}})}},{key:"loadLibraries",value:function(){var e=this;if("confiant"===this.compassST.wrapper){f("Add confiant script");var t=this.compassST.confiantKey,i=this.win.document.createElement("script");i.src="https://cdn.confiant-integrations.net/".concat(t,"/gpt_and_prebid/config.js"),this.win.document.body.appendChild(i),this.win.confiant=this.win.confiant||{},this.win.confiant[t]=this.win.confiant[t]||{clientSettings:{}};var a=this.win.confiant[t].clientSettings||(this.win.confiant[t].clientSettings={});a.onRendered=function(t){f("Confiant has rendered the ad:",t);var i={bidId:t,confiantEvent:"render"};e&&e.compassST&&(0,n.sendConfiant)(e.compassST,i)},a.callback=function(e,t,i,a,r,s){f("Confiant has blocked the ad:",arguments);var c=s&&s.prebid?s.prebid:{},d=s&&s.dfp?s.dfp:{},p=o(o({blockingType:e,blockingId:t,isBlocked:i,wrapperId:a,tagId:r,confiantEvent:"callback"},c),d);this&&this.compassST&&(0,n.sendConfiant)(this.compassST,p)},a.on_prebid_error=function(t){f("Confiant: failed to scan an ad:",t),e&&e.compassST&&(0,n.sendErrorWrapper)("confiant_error",t.message,e.compassST)}}this.config.isPrebid&&this.loadPrebid(),this.config.isAmazon&&this.loadAmazon()}}]),e}(),l=u;exports.default=l;
},{"../helpers":"lTk1","../tracking":"Q7Ly","../constants":"iJA9"}],"pLkT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=["www.bing.com","r.search.yahoo.com","getpocket.com","search.yahoo.com","tpc.googlesyndication.com","pubads.g.doubleclick.net","t.co","duckduckgo.com","www.msn.com","r.search.aol.com","us.search.yahoo.com","cn.bing.com","mail.tiscali.it","mail.yahoo.com","www.yahoo.com","principiabio.arreya.com","www.fool.ca","www.essinta.com","www.wcvb.com","prod.uhrs.playmsn.com","canary-","wlos.com","wgntv.com","www.wcvb.com","www.wtnh.com","motorsport.uol.com.br","www.nbcchicago.com","www.bing.com","www.wbal.com","www.ksbw.com","www.koamnewsnow.com","www.woodtv.com","www.fox29.com","www.protopage.com","newschannel9.com","www.wafb.com","wlos.com","www.ksbw.com","www.fox5atlanta.com","www.localdvm.com","www.nbcsandiego.com"];exports.default=o;
},{}],"m7GI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.smartSparcFormatMap=exports.smartFormatMap=exports.smartGetMediaMap=void 0;var x={"728x90":127894,"160x600":127895,"320x50":127896,"300x600":127897,"300x250":127898,"970x250":127899,"970x90":127900,"300x100":129904,"320x100":129905,"300x50":129906};exports.smartGetMediaMap=x;var a={"1x1":97122,"120x600":108544,"160x600":96311,"200x200":119383,"250x250":119382,"300x50":97802,"300x100":120415,"300x250":96303,"300x600":96312,"320x50":96313,"320x100":108545,"336x280":97803,"320x480":96314,"468x60":120414,"728x90":96310,"970x90":109017,"970x250":96316,HB_display:92141,"Video - Linear":80585,"Video - Non Linear":80586};exports.smartFormatMap=a;var r={"160x600":85670,"250x250":96726,"300x250":85162,"300x50":97702,"300x600":85673,"320x100":97253,"320x250":97927,"320x50":85672,"336x280":86702,"468x60":95249,"728x90":85671,"970x90":86703,"970x250":99290,"Bilboard_970250":83008,Outstream:83009,"Parallax_1600 x 1000":83010,"Video - Linear":82965,"Video - Non Linear":82966};exports.smartSparcFormatMap=r;
},{}],"frFy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("../helpers")),r=d(require("./openxBlacklistDomains")),t=require("./smartFormatMap"),i=require("../tracking"),n=require("./biddersMap"),a=d(require("../constants"));function d(e){return e&&e.__esModule?e:{default:e}}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach(function(r){f(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function f(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function p(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,r,t){return r&&p(e.prototype,r),t&&p(e,t),e}var l=e.default.log,h=a.default.RENDER_DELTA,m=function(){function a(e,r,t,i){c(this,a),this.win=e,this.compassST=r,this.demand=t,this.refreshId=i,this.refreshMode=!!i}return u(a,[{key:"getIframeId",value:function(){return this.compassST.isBidcachingEnabled()?this.compassST.pubPlacement+"_hb":"hb_if_"+e.default.generateCacheBuster()}},{key:"filterBidders",value:function(){var e=this.demand.children;return e=this.filterBiddersByOpenxDomain(e),e=this.filterBiddersByRenderTime(e)}},{key:"filterBiddersByOpenxDomain",value:function(e){return r.default.indexOf(this.win.location.hostname)>-1&&(l("Trying to filter OpenX, hostname:",this.win.location.hostname),e=e.filter(function(e){return"OpenX"!==e.dp})),e}},{key:"filterBiddersByRenderTime",value:function(e){if(l("Filtering bidders by render time"),!this.compassST.isBidcachingEnabled())return e;var r=this.compassST.rendered||{},t=Date.now(),i=1e3*(this.compassST.refreshInterval-h);return e=e.filter(function(e){var a=n.biddersMap[e.dp];if(!a)return!0;var d=a.bidder;return!(r[d]&&t-r[d]<i)||(l("Skipping bidder ".concat(d," as only ")+"".concat(((t-r[d])/1e3).toFixed(1)," sec passed after render")),!1)})}},{key:"getHbConfig",value:function(){var e=this.filterBidders();l("Bidders:",e);var r=this.compassST.size.split("x"),t=r[0],i=r[1],n=this.refreshId||this.getIframeId(),a=this.validateConfig(e);return a.timeout=this.demand.timeout||2e3,a.width=parseInt(t,10),a.height=parseInt(i,10),a.id=n,a.refreshMode=this.refreshMode,l("Hb config:",a),a}},{key:"validateConfig",value:function(e){var r=[],a=[],d=[],o=[],f=!1,c=!1,p=!1,u="",h="",m=this.demand.entityId,b=this.demand.id,v=this.compassST,y=this.demand,g=this.refreshMode;if(e.forEach(function(e){if("Amazon"===e.dp){if(g)return;o.push(e),c=!0}else if("DFP"===e.dp.slice(0,3)){if(g)return;e.floor=y.floor,d.push(e)}else{var p=e.params,u=n.biddersMap[e.dp];if(!u)return(0,i.sendErrorWrapper)("hb_no_bidder","No bidder "+e.dp,v);!function(e,r,t){var i=parseFloat(r.floor);i&&t.floor&&(e[t.floor]="string"===t.type?i.toFixed(2):i)}(p,e,u),"Smart LATAM"!==e.dp&&"SmartLimp"!==e.dp&&"SmartSparc"!==e.dp&&"SmartGetMedia"!==e.dp||function(e,r){var n;if("Smart LATAM"===r||"SmartLimp"===r?n=t.smartFormatMap[v.size]:"SmartSparc"===r?n=t.smartSparcFormatMap[v.size]:"SmartGetMedia"===r&&(n=108607),!n)return(0,i.sendErrorWrapper)("hb_invalid_config","".concat(r," formatId not found"),v);e.formatId=n}(p,e.dp),r.push({bidder:u.bidder,params:s({},p)}),a.push(e),f=!0}}),o.length>1)throw new Error("More than one Amazon bidder");if(!c&&!f)throw new Error("No Amazon and no Prebid bidders");var O=y.dfp_ad_unit_code,B=y.adx_ad_unit_code,_=v.mcm_childid,S=_&&v.mcm_dfp?","+v.mcm_childid:"",w=_&&v.mcm_dfpLatam?","+v.mcm_childid:"";return B&&(d.length&&(p=!0),"HB IL"==y.dp?h="/76043757"+S+"/"+B:"HB LATAM"==y.dp&&(h="/78655843"+w+"/"+B)),O&&("HB IL"==y.dp?u="/76043757"+S+"/"+O:"HB LATAM"==y.dp&&(u="/78655843"+w+"/"+O)),l("prebidBidders",r),{prebidBidders:r,prebidBiddersRaw:a,dfpBidders:d,amazonBidders:o,isPrebid:f,isAmazon:c,isAdx:p,dfpPath:u,adxPath:h,parentId:m,parentInternalId:b,floor:y.floor||0,adxThreshold:y.adx_threshold||0}}}]),a}(),b=m;exports.default=b;
},{"../helpers":"lTk1","./openxBlacklistDomains":"pLkT","./smartFormatMap":"m7GI","../tracking":"Q7Ly","./biddersMap":"Hk1C","../constants":"iJA9"}],"Wqgd":[function(require,module,exports) {
"use strict";function t(t,n){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=e(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==i.return||i.return()}finally{if(u)throw s}}}}function e(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=function(){function e(t,n,r){i(this,e),this.config=t,this.win=n,this.compassST=r}return o(e,[{key:"getHbWrappers",value:function(){var t=[];return this.config.isAmazon&&t.push("a9"),this.config.isPrebid&&t.push("prebid"),t}},{key:"getAmazonSlots",value:function(){var t=this.config.isAdx&&!1!==this.compassST.isDfpEnabled()?this.config.adxPath:this.config.dfpPath;return[{slotID:this.config.id,slotName:t,sizes:[[this.config.width,this.config.height]]}]}},{key:"getPrebidAdUnits",value:function(){return[{code:this.config.id,sizes:[[this.config.width,this.config.height]],mediaTypes:{banner:{sizes:[[this.config.width,this.config.height]]}},bids:this.config.prebidBidders}]}},{key:"fetchHeaderBids",value:function(e){var n=this.getHbWrappers(),i=this.getAmazonSlots(),r=this.getPrebidAdUnits(),o=this.win,s=this.config,a=this.compassST,u=s.timeout,f={adserverRequestSent:!1,apstagSlots:i,adUnits:r};function c(t,i){!0!==f.adserverRequestSent&&("a9"===t?(f.amazonBids=i,f.a9=!0):"prebid"===t&&(f.prebidBids=i,f.prebid=!0),n.map(function(t){return f[t]}).filter(Boolean).length===n.length&&e(s,o,a,f))}n.forEach(function(t){f[t]=!1}),s.isPrebid&&o.pbjs.que.push(function(){var e,n=t(f.adUnits);try{for(n.s();!(e=n.n()).done;){var i=e.value;o.pbjs.removeAdUnit(i.code)}}catch(r){n.e(r)}finally{n.f()}o.pbjs.addAdUnits(f.adUnits),o.pbjs.requestBids({bidsBackHandler:function(t){c("prebid",t)}})}),s.isAmazon&&o.apstag.fetchBids({slots:f.apstagSlots},function(t){c("a9",t)}),window.setTimeout(function(){e(s,o,a,f,!0)},u)}}]),e}(),a=s;exports.default=a;
},{}],"NNoK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkSize=void 0;var t=e(require("../../helpers"));function e(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return a(t)||c(t,e)||i(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var c,a=t[Symbol.iterator]();!(n=(c=a.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(u){i=!0,o=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}}function a(t){if(Array.isArray(t))return t}var u=t.default.log,l=function(t,e){var n=t.targetingSize,i=t.creativeSize;u("[Protector]: check size: targeting size = ".concat(n," and creative size = ").concat(i,". Check type: ").concat(e.strictSizeCheck?"strict":"eligible"));var o=r(n.split("x").map(function(t){return+t}),2),c=o[0],a=o[1],l=r(i.split("x").map(function(t){return+t}),2),s=l[0],f=l[1];return e.firstCheck=!1,e.strictSizeCheck?n!==i:n!==i&&(s>c||f>a)};exports.checkSize=l;
},{"../../helpers":"lTk1"}],"GimK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkString=void 0;var t=require("../../tracking"),e=r(require("../../helpers"));function r(t){return t&&t.__esModule?t:{default:t}}function n(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=o(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,i=t},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw i}}}}function o(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var i=e.default.log,c=function(e,r){var o=r.adData,a=r.compassST,c=r.html,l=r.PASSBACK;i("[Protector]: check string:",c);var u,s=n(a.blacklistedDomains);try{for(s.s();!(u=s.n()).done;){var f=u.value;if(c.toString().indexOf(f)>=0){var d={blockedRule:f,blockedReason:"string"};return i("[Protector]: creative has been blocked, rule was found: ".concat(f,". Write PASSBACK")),(0,t.sendProtector)({compassST:a,adData:o,blockData:d,scanStatus:"blocked"}),e.oldMethods.oldWrite.call(e,l),e.close()}}}catch(v){s.e(v)}finally{s.f()}i("[Protector]: creative without malwares. Write creative"),e.oldMethods.oldWrite.call(e,c),e.close()};exports.checkString=c;
},{"../../tracking":"Q7Ly","../../helpers":"lTk1"}],"My6m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checker=void 0;var e=require("./checkSize"),r=require("./checkString"),t=require("../../tracking"),o=a(require("../../helpers"));function a(e){return e&&e.__esModule?e:{default:e}}var c=o.default.log,s=function(o,a,s){var i=a.adData,l=a.compassST,d=a.html,n=a.PASSBACK;try{if(c("[Protector]: start check algorithm!"),s.firstCheck&&(0,e.checkSize)({targetingSize:l.size,creativeSize:i.size},s)){var h={blockedRule:i.size,blockedReason:"size"};c("[Protector]: wrong size has been found: ".concat(l.size," is not eligable with ").concat(i.size)),(0,t.sendProtector)({compassST:l,adData:i,blockData:h,scanStatus:"blocked"}),o.oldMethods.oldWrite.call(o,n),o.close()}else c("[Protector]: size is valid!"),(0,r.checkString)(o,{adData:i,compassST:l,html:d,PASSBACK:n})}catch(S){var u={errorMessage:S.message,errorPlace:"algorithm"};c("[Protector]: error in algorithm: ".concat(S.message,"! Invoke old method!")),(0,t.sendProtector)({compassST:l,adData:i,errorData:u,scanStatus:"error"}),o.oldMethods.oldWrite.call(o,d),o.close()}};exports.checker=s;
},{"./checkSize":"NNoK","./checkString":"GimK","../../tracking":"Q7Ly","../../helpers":"lTk1"}],"nxIy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wrapMethods=void 0;var e=require("./checker"),o=r(require("../../helpers"));function r(e){return e&&e.__esModule?e:{default:e}}var t=o.default.log,a=function(o,r,a){var d=r.adData,s=r.compassST,l=r.PASSBACK;t("[Protector]: wrap methods"),o.oldMethods||(o.oldMethods={},o.oldMethods.oldWrite=o.write),o.oldMethods?(o.write=function(r){return(0,e.checker)(o,{adData:d,compassST:s,html:r,PASSBACK:l},a)},console.log("[Protector]: methods have been wrapped")):console.log("[Protector]: basic methods for this iframe have been already wrapped")};exports.wrapMethods=a;
},{"./checker":"My6m","../../helpers":"lTk1"}],"hPVJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.protector=void 0;var e=require("../../tracking"),r=require("./wrapMethods"),t=s(require("../../helpers")),o=s(require("../../constants"));function s(e){return e&&e.__esModule?e:{default:e}}var a=t.default.log,d=o.default.PASSBACK,i=function(t,o){var s=o.compassST,i=o.adData,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{a("[Protector]: init for bid:",i,"with next options:",c),(0,e.sendProtector)({compassST:s,adData:i,scanStatus:"monitored"}),c.firstCheck=!0,t.oldMethods||(t.oldMethods={},t.oldMethods.oldWrite=t.write),(0,r.wrapMethods)(t,{adData:i,compassST:s,PASSBACK:d},c)}catch(l){t.write=t.oldMethods.oldWrite;var n={errorMessage:l.message,errorPlace:"init"};a("[Protector]: error in init process: ".concat(l.message,"! Reset methods overrides!")),(0,e.sendProtector)({compassST:s,adData:i,errorData:n,scanStatus:"error"})}};exports.protector=i;
},{"../../tracking":"Q7Ly","./wrapMethods":"nxIy","../../helpers":"lTk1","../../constants":"iJA9"}],"w587":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.BidCacherSensitive=exports.BidCacherRegular=void 0;var r=l(require("./helpers")),n=require("./tracking"),t=l(require("./hb/amazonBidsMap")),i=require("./hb/biddersMap"),a=l(require("./strategy")),d=l(require("./hb/BidCacher")),o=l(require("./hb/PrebidInitializer")),c=l(require("./hb/HbLoader")),s=l(require("./hb/HbConfigurator")),p=l(require("./hb/AuctionManager")),u=l(require("./constants")),f=require("./wrappers/protector/protector");function l(e){return e&&e.__esModule?e:{default:e}}function m(e,r){return g(e)||h(e,r)||E(e,r)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],t=!0,i=!1,a=void 0;try{for(var d,o=e[Symbol.iterator]();!(t=(d=o.next()).done)&&(n.push(d.value),!r||n.length!==r);t=!0);}catch(c){i=!0,a=c}finally{try{t||null==o.return||o.return()}finally{if(i)throw a}}return n}}function g(e){if(Array.isArray(e))return e}function v(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function y(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?v(Object(n),!0).forEach(function(r){w(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function _(e){return j(e)||S(e)||E(e)||B()}function B(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,r){if(e){if("string"==typeof e)return z(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,r):void 0}}function S(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function j(e){if(Array.isArray(e))return z(e)}function z(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}var P=r.default.log,C=r.default.dfpTargetingToString,M=r.default.getTargetingMap,O=r.default.roundToBucket,A=r.default.filterSensitiveBids,I=u.default.ADX_COMMISSION,W=u.default.PASSBACK,T=u.default.PREBID_REFRESH_DELTA,R=u.default.PREBID_REFRESH,x=new d.default;exports.BidCacherRegular=x;var F=new d.default;function q(r,t,i,a){P("HB init ".concat(a?"in a refresh mode":""));var d={};try{d=new s.default(r,t,i,a).getHbConfig()}catch(e){return(0,n.sendErrorWrapper)("hb_invalid_config",e.message,t),t.next(r)}if(d.demand=i,t.hbConfig=d,t.isFeatureEnabled("iframeOnLoad"))try{var o=D(r,d),p=!1;o.onload=function(){if(!p){if(p=!0,!o.contentWindow.document)return(0,n.sendErrorWrapper)("hb_iframe_onload","Failed to create HB iframe'",t);if(!d.refreshMode&&(new c.default(r,t,d).loadLibraries(),k(d,t),t.isFeatureEnabled("zippedReport"))){var e=d,i=e.amazonBidders,a=e.prebidBiddersRaw;(0,n.sendZippedReport)(t,[].concat(_(i.slice(0,1)),_(a)),!d.refreshMode)}ne(d,r,t)}},o.onerror=function(e){(0,n.sendErrorWrapper)("hb_iframe_onload",e.message,t)},r.document.body||r.document.documentElement.appendChild(r.document.createElement("body")),d.refreshMode&&(r.document.body.innerHTML=""),r.document.body.appendChild(o)}catch(m){(0,n.sendErrorWrapper)("hb_error",e.message,t)}else try{if(!H(r,d))throw new Error("Failed to create HB iframe");if(!d.refreshMode&&(new c.default(r,t,d).loadLibraries(),k(d,t),t.isFeatureEnabled("zippedReport"))){var u=d,f=u.amazonBidders,l=u.prebidBiddersRaw;(0,n.sendZippedReport)(t,[].concat(_(f.slice(0,1)),_(l)),!d.refreshMode)}ne(d,r,t)}catch(e){(0,n.sendErrorWrapper)("hb_error",e.message,t)}}function H(e,r){var n=r.id,t=r.width,i=r.height,a=r.refreshMode,d=e.document.createElement("iframe");return d.src="javascript:'<html><body></body></html>'",d.id=n,d.width=t,d.height=i,d.marginHeight=0,d.marginWidth=0,d.scrolling="NO",d.frameBorder=0,e.document.body||e.document.documentElement.appendChild(e.document.createElement("body")),a&&(e.document.body.innerHTML=""),e.document.body.appendChild(d),d.contentWindow.document}function D(e,r){var n=r.id,t=r.width,i=r.height,a=(r.refreshMode,e.document.createElement("iframe"));return a.src="javascript:'<html><body></body></html>'",a.id=n,a.width=t,a.height=i,a.marginHeight=0,a.marginWidth=0,a.scrolling="NO",a.frameBorder=0,a}function k(e,r){var t=e.amazonBidders,i=e.prebidBiddersRaw;[].concat(_(t.slice(0,1)),_(i)).forEach(function(t,i){var a=0===i&&!e.refreshMode||void 0;(0,n.sendReport)(r,t,a)})}function L(e,r,t){return function(a){P("[bidWon]",{fromCache:a.fromCache,curBidCpm:a.curBidCpm,cpm:a.cpm},a);var d=i.reverseBiddersMap[a.bidder],o=r.prebidBiddersRaw,c=r.amazonBidders,s=[].concat(_(o),_(c)).filter(function(e){return e.dp===d})[0]||{};"pulsepoint"!==a.bidder||s.dp||(d="PulsePoint LATAM",s=r.prebidBiddersRaw.filter(function(e){return e.dp===d})[0]||{});var p=y(y({},s),{dp:d,cpm:a.cpm}),u={entityId:r.parentId,id:r.parentInternalId};if(t.isBidcachingEnabled()&&(p.cache=!!a.fromCache,p.cacherev=a.cpm-a.curBidCpm),(0,n.sendEstimated)(t,p,u,a),!a.skipBidcaching&&t.isBidcachingEnabled())if(r.sensitiveBidder)P("Sensitive bidder is rendered -> do not refresh");else{P("Setting ".concat(a.bidder," render time")),t.rendered=t.rendered||{},t.rendered[a.bidder]=Date.now();var f=(t.loopStart+1e3*t.refreshInterval-Date.now())/1e3;P("Next loop in ".concat(f.toFixed(1)," seconds")),f-T>R?(P("Enough time to do Prebid refresh in ".concat(R," sec")),e.setTimeout(function(){P("Refreshing Prebid"),q(e,t,r.demand,r.id)},1e3*R)):P("Not enough time to do Prebid refresh")}}}function N(n,t,i){var a={32481:"1749820"},d={34036:20759242},o=i.waterfallId;try{if(Object.keys(y(y({},a),d)).find(function(e){return o===e})){var c=r.default.getViewability(t.document.getElementById(n.id));if(c&&c.viewability>=80)return n.prebidBidders=n.prebidBidders.map(function(e){return"rubicon"===e.bidder&&a[o]&&(e.params.zoneId=a[o]),"appnexus"===e.bidder&&d[o]&&(e.params.placementId=d[o]),e}),n}}catch(e){console.log("Replace Bidder Params By Viewability error:",e)}return n}function U(e){e.write("<html><head></head><body>"+W+"</body></html>"),e.close()}function K(e,r){return r&&r.viewability>=80||-1===["/78655843/30287_353730_1","/78655843/30287_353739_1","/78655843/30396_360796_1","/78655843/30396_360810_1","/78655843/30097_356058_1","/78655843/30097_356077_1","/78655843/30097_348341_1","/78655843/30097_348347_1","/78655843/26729_362809_1","/78655843/26729_362822_1","/78655843/20834_362874_1","/78655843/20834_362911_1","/78655843/26497_367711_1","/78655843/26497_367717_1","/78655843/30270_361725_1","/78655843/30270_361738_1"].indexOf(e)?e:e.slice(0,-1)+"3"}function V(e,r,n,t){var i={prebidWinningBid:e?e.cpm:0,auctionFloorPrice:n.floor,amazonAdjustedBid:r?Math.max(0,r.cpm-I):0,adxThreshold:n.adxThreshold},d=n.isAmazon?"yes":"no",o=n.isAdx?"yes":"no",c=!1===t.isDfpEnabled()?"yes":"no",s=(0,a.default)(d,o,c,i);return P("Strategy selected:",s),s}function Z(e,r){var n=r.length&&r[0].bidder?r[0].bidder:"no",t=i.reverseBiddersMap[n]||"no",a=e.prebidBiddersRaw.filter(function(e){return e.dp===t})[0]||{};return"pulsepoint"!==n||a.dp||(t="PulsePoint LATAM"),"amazon"===n&&(t="Amazon"),t.toLowerCase()}function J(e,n,t,i,a){var d=M(t,i,a),o=r.default.round((n[0]||{}).cpm||0,.05),c=o>.9?.9:o;return d.hb_bucket=c.toFixed(2),e.customFloor&&(d.adx_pb=e.customFloor.toFixed(2)),C(d)}function X(e,r,t,i,a,d,o){P("renderDfpTag vObj:",o),"sendAdx"==a&&t.dfpBidders[0]&&((0,n.sendReport)(r,t.dfpBidders[0],void 0,o),r.isFeatureEnabled("zippedReport")&&(0,n.sendZippedReport)(r,[t.dfpBidders[0]],!1)),Q(e,$(r,t,i,a,d,o),r)}function $(r,n,t,i,a,d){var o=J(n,t,Z(n,t),r,d),c=JSON.stringify(a),s=r.dfpPageUrl?'.set("page_url","'+r.dfpPageUrl+'")':"",p="sendAdx"==i?n.adxPath:n.dfpPath;p=K(p,d);try{r.hbConfig.adManagerPath=p}catch(e){}return G({adManagerPath:p,width:n.width,height:n.height,dfpPageUrl:s,targetingString:o,adServerTargetingString:c,confiantKey:r.confiantKey,wrapper:r.wrapper})}function G(e){var r=e.adManagerPath,n=e.width,t=e.height,i=e.dfpPageUrl,a=e.targetingString,d=e.adServerTargetingString,o=e.wrapper,c=e.confiantKey;return'\n        <head></head>\n        <body>\n            <div id="gpt-passback">\n                '.concat("confiant"===o?'<script async="" src="https://cdn.confiant-integrations.net/'.concat(c,'/gpt_and_prebid/config.js"><\/script>'):"","\n                <script src=\"https://securepubads.g.doubleclick.net/tag/js/gpt.js\"><\/script>\n                <script>\n                    var inDapIF = true;\n                    function getWindowWithCompassST(w = window, i = 0) {\n                        if (i === 10) {\n                            throw new Error('no_window_with_compass_st')\n                        }\n                        return w.compassST ? w : getWindowWithCompassST(w.parent, i + 1);\n                    }\n    \n                    const windowWithCompassSt = getWindowWithCompassST();\n    \n                    if (windowWithCompassSt.compassST) {\n                        const {compassST} = windowWithCompassSt;\n                        console.log(compassST, googletag)\n                        compassST.initDfp(window);\n                        googletag.defineSlot('").concat(r,"', [").concat(n,", ").concat(t,"], 'gpt-passback')\n                              ").concat(a,"\n                              ").concat(i?".set('page_url', '".concat(i,"')"):"","\n                              .updateTargetingFromMap(").concat(d,")\n                              .addService(googletag.pubads());\n                        googletag.enableServices();\n                        googletag.display('gpt-passback');\n                    }\n                <\/script>\n            </div>\n        </body>\n\t")}function Q(e,r,n){0===n.level?n.writeWithWrapper(e,r):e.write(r),e.close()}function Y(e,r,n){var t,i=[];if(Object.keys(e).map(function(r){return e[r]}).forEach(function(e){e.bids.forEach(function(e){(!t||e.cpm>t.cpm)&&(t=e),i.push({bidder:e.bidder,cpm:e.cpm,adId:e.adId,ttl:e.ttl,auctionId:e.auctionId})})}),r.isBidcachingEnabled()){var a=r.isBidcachingEnabled()&&n.sensitiveBidder?F.get(n.id,r):x.get(n.id,r);if(a){var d=t?t.cpm:0;(t=a).curBidCpm=d,i.some(function(e){return e.adId===t.adId})||(t.fromCache=!0,i.push(t))}}return[t,i]}function ee(r,i,a,d){try{r.amzniid=i.amzniid,r.amznbid=i.amznbid,r.amznp=i.amznp;var o=parseFloat(t.default[r.amznbid]);o&&a.push({bidder:"amazon",cpm:o})}catch(e){(0,n.sendErrorWrapper)("hb_amzn_targ","Amazon targeting error: "+e.message,d)}}function re(e,t,i,a,d){if(!0!==a.adserverRequestSent){a.adserverRequestSent=!0;var o=a.prebidBids||{},c=(a.amazonBids||[])[0];if(e.isPrebid&&i.isBidcachingEnabled()&&(x.setMany(A(o,!1)),F.setMany(A(o,!0))),i.isBidcachingEnabled()&&!e.refreshMode){var s=F.getCustomFloor(e.id,i,1),p=x.getCustomFloor(e.id,i),u=p,l=!1;s>p&&(u=s,l=!0,P("Sensitive custom floor ".concat(s," > regular custom floor ").concat(p," => show only one sensitive bidder"))),u>0&&(e.customFloor=O(u),e.sensitiveBidder=l)}var b=m(Y(o,i,e),2),h=b[0],g=b[1],v=h&&h.adserverTargeting||{};!e.isAmazon||d&&!c||ee(v,c,g,i),g.sort(function(e,r){return r.cpm-e.cpm}),(0,n.sendAllBids)(g.filter(function(e){return!e.fromCache}),i,e);var y=t.document.getElementById(e.id),w=y.contentWindow.document,_=g.find(function(e){return"amazon"===e.bidder}),B=e.refreshMode?"renderPrebid":V(h,_,e,i);if("sendDfp"==B||"sendAdx"==B){var E=void 0;i.isFeatureEnabled("viewability")&&(E=r.default.getViewability(y))instanceof Error&&(P(E),(0,n.sendErrorWrapper)("viewability_error",E.message,i),E=void 0),X(w,i,e,g,B,v,E)}else if("renderPrebid"==B)v.hb_adid?("new-protector"===i.wrapper&&(P("[Protector]: init for prebid"),i.soldImpressionId=r.default.generateImpressionId(i.tagId,i.size),(0,f.protector)(w,{compassST:i,adData:h},i.protectorOptions)),t.pbjs.renderAd(w,v.hb_adid)):U(w);else if("sendAmazon"===B)if(t.apstag&&c.amzniid){if("geoedge"===i.wrapper){var S=i.templates.Amazon(c);w.write(S),w.close()}else t.apstag.renderImp(w,c.amzniid);L(t,e,i)({bidder:"Amazon",skipBidcaching:!0,curBidCpm:_.cpm,cpm:_.cpm}),i.isFeatureEnabled("amazonBidderSplit")&&(0,n.sendAmazonBiddder)(i,{amznp:c.amznp,cpm:_.cpm})}else(0,n.sendErrorWrapper)("amazon_error","apstag or amzniid (".concat(c.amzniid,") not found ")),U(w);else U(w)}}function ne(e,r,n){if(e.isPrebid)if(e.refreshMode)re(e,r,n,{});else{var t=L(r,e,n);r.pbjs=r.pbjs||{},r.pbjs.que=r.pbjs.que||[];r.pbjs.que.push(function(){e.refreshMode||new o.default(r,n).setupPrebid(),n.isBidcachingEnabled()?(r.pbjs.offEvent("bidWon",r.pbjs.bidWonHandler),r.pbjs.bidWonHandler=t,r.pbjs.onEvent("bidWon",r.pbjs.bidWonHandler)):r.pbjs.onEvent("bidWon",t),e=N(e,r,n),new p.default(e,r,n).fetchHeaderBids(re)})}else e=N(e,r,n),new p.default(e,r,n).fetchHeaderBids(re)}exports.BidCacherSensitive=F;var te={init:q};exports.default=te;
},{"./helpers":"lTk1","./tracking":"Q7Ly","./hb/amazonBidsMap":"MA0g","./hb/biddersMap":"Hk1C","./strategy":"gB0C","./hb/BidCacher":"FCGJ","./hb/PrebidInitializer":"Xi9k","./hb/HbLoader":"qW0u","./hb/HbConfigurator":"frFy","./hb/AuctionManager":"Wqgd","./constants":"iJA9","./wrappers/protector/protector":"hPVJ"}],"wyXr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pubmaticIdentityWrapper=void 0;var e=function(e,t){var r=!1;e.PWT={jsLoaded:function(){r||(r=!0,t())}},setTimeout(t,300);var p=window.location.href,a="";if(p.indexOf("pwtv=")>0){var i=/pwtv=(.*?)(&|$)/g.exec(p);i.length>=2&&i[1].length>0&&(a="/"+i[1])}var c=document.createElement("script");c.async=!0,c.type="text/javascript",c.src="//ads.pubmatic.com/AdServer/js/pwt/161332/6093"+a+"/pwt.js",e.document.body.appendChild(c)};exports.pubmaticIdentityWrapper=e;
},{}],"YNG3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./tracking"),t=p(require("./ajax")),r=p(require("./helpers")),i=require("./wrappers/wrappers"),n=p(require("./templates")),a=c(require("./hb")),o=p(require("./constants")),s=require("./wrappers/pubmaticIdentityWrapper"),d=require("./wrappers/protector/protector");function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=i?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=m(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function f(e){return b(e)||g(e)||m(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function g(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function b(e){if(Array.isArray(e))return v(e)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){I(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function W(e,t,r){return t&&_(e.prototype,t),r&&_(e,r),e}var P=r.default.log,k=o.default.PASSBACK,F=o.default.PREBID_JS_VERSION,S=o.default.DFP_SEATS,C=function(){function o(){E(this,o),this.templates=n.default,this.countryList=["us","ca","gb","de","au","in","mx","br","fr","nl","cn","jp","es","sg","it","se","be","at","lu","ch","ae","hk","tw","kr","kp"],this.lastWinningBid=void 0,this.clicked=!1}return W(o,[{key:"start",value:function(){var t=document.getElementById(this.impressionId);if(!t)return(0,e.sendErrorWrapper)("iframe_not_found","Failed to find an iframe",this);var r=t.contentWindow.document;r.write('\n            <html>\n                <head></head>\n                <body>\n                    <script>\n                        var inDapIF = true;\n                        var w = window;\n                        for (var i = 0; i < 10; i++) {\n                            if (w.compassST) {\n                                try {\n                                    w.compassST.initWithWrapper(window);\n                                    break\n                                } catch (e) {\n                                    console.log(e);\n                                    continue\n                                }\n                            }\n                            w = w.parent;\n                        }\n                        if (!w.compassST) {\n                            console.log("No compassST")\n                        }\n                    <\/script>\n                </body>\n            </html>'),r.close()}},{key:"initWithWrapper",value:function(e){var t=this;if(this.isFeatureEnabled("pubmaticIdentityHub"))return(0,s.pubmaticIdentityWrapper)(e,function(){return t.init(e)});this.init(e)}},{key:"init",value:function(e){P("Called init");var t=this;this.isBidcachingEnabled()&&this.loadPrebid(e),this.maxRefreshes>0?(this.timer=setInterval(function(){t.refreshContent(e)},1e3*this.refreshInterval),this.refreshContent(e)):(this.loopStart=Date.now(),this.next(e))}},{key:"loadPrebid",value:function(e){P("[loadPrebid]","load prebid in top iframe");var t=e.document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//cdn.topsrvimp.com/cmpp/prebid".concat(F,".js"),e.document.body||e.document.documentElement.appendChild(e.document.createElement("body")),e.document.body.appendChild(t),e.pbjs=e.pbjs||{},this.pbjs=e.pbjs}},{key:"initDfp",value:function(t){P("Adding DFP slotRenderEnded event");var i=this,n=w({},this),a=!1,o=-1,s=function(e){try{return e.slot.getTargeting("viewability_perc")[0]||-3}catch(t){return-3}},d=function(e){try{if(e.isEmpty)return"empty";var t=e.slot.getHtml();return/pbjs\.renderAd/.test(t)?"prebid":/compassST/.test(t)?"passback":"adx"}catch(r){return""}};t.googletag.cmd.push(function(){t.googletag.pubads().addEventListener("slotRenderEnded",function(a){P("GPT slot has been rendered:",a);try{if(i.isFeatureEnabled("viewability")){var o=r.default.getViewability(t.frameElement),l=o instanceof Error?-1:o.viewability;(0,e.sendViewability)(s(a),l,n,"vchange3",d(a)),setTimeout(function(){var i=r.default.getViewability(t.frameElement),o=i instanceof Error?-1:i.viewability;(0,e.sendViewability)(s(a),o,n,"vchange4",d(a))},2e3)}}catch(D){}try{var c=a.slot.getTargeting("hb_auction_id")[0],p=a.slot.getTargeting("cmp_perm")[0],h=a.slot.getHtml();if(a.isEmpty){var f="";try{f=a.size.join("x")}catch(D){console.log("Cannot get a size of an empty creative",D.message)}var u="",m="",g="",b="";try{var v=i.demands[i.level];/^DFP/i.test(v.dp)?(u=v.dp,m=v.params.dfp_ad_unit_code||v.params.adx_ad_unit_code,b=v.id):(u=i.hbConfig.dfpBidders[0].dp,m=compassST.hbConfig.adManagerPath,b=i.hbConfig.dfpBidders[0].id)}catch(D){}try{g=t.frameElement.id||t.frameElement.name}catch(D){}if((0,e.sendError)({code:"empty_creative",message:"DFP did not return a creative",advertiserId:a.advertiserId,lineItemId:a.lineItemId,creativeId:a.creativeId,tagId:i.tagId,size:f,impId:i.impressionId,seat:u,adUnit:m,frame:g,loop:i.loop||0,level:i.level,browser:i.browser,wfId:i.waterfallId,compassInternalId:b}),i.isBidcachingEnabled()&&i.tryRenderPrebid(t))return;var y="pb_"+Math.floor(2147483647*Math.random()),I=i.size.split("x"),E=t.document.createElement("iframe");E.src="javascript:'<html><body></body></html>'",E.id=y,E.width=I[0],E.height=I[1],E.marginHeight=0,E.marginWidth=0,E.scrolling="NO",E.frameBorder=0,(t.document.querySelector('div[id^="google_ads_iframe_"]')||t.document.body).appendChild(E),E.contentWindow.compassST=i;var _=E.contentWindow.document;_.open(),_.write(k);try{_.close()}catch(D){}}else{if(/pbjs\.renderAd/.test(h))return;if(/compassST/.test(h))return;if(!c&&!p)return void(0,e.sendError)({code:"no_dfp_targ",advertiserId:a.advertiserId,lineItemId:a.lineItemId,creativeId:a.creativeId,tagId:i.tagId,impId:i.impressionId,loop:i.loop||0,level:i.level,browser:i.browser});var W=i.demands[i.level];if(W&&/^DFP/i.test(W.dp))return(0,e.sendEstimated)(i,w(w({},W),{cpm:W.floor}),{entityId:W.entityId,id:W.id});var F=parseFloat(a.slot.getTargeting("hb_pb")[0])||0,S={},C=0;try{S=i.hbConfig.dfpBidders[0],C=parseFloat(S.floor)||0}catch(D){return(0,e.sendErrorWrapper)("report_error","DFP demand not found: "+D.message,i)}var j=Math.max(F,C),O=w(w({},S),{cpm:j}),T={entityId:i.hbConfig&&i.hbConfig.parentId,id:i.hbConfig&&i.hbConfig.parentInternalId};(0,e.sendEstimated)(i,O,T)}}catch(D){(0,e.sendErrorWrapper)("report_error","Failed to report bidwon: "+D.message,i)}}),t.googletag.pubads().addEventListener("slotVisibilityChanged",function(t){try{if(!i.isFeatureEnabled("viewability"))return;if(o=t.inViewPercentage,!a){a=!0,(0,e.sendViewability)(s(t),o,n,"vchange",d(t));try{setTimeout(function(){(0,e.sendViewability)(s(t),o,n,"vchange2",d(t))},2e3)}catch(r){console.log(r)}}}catch(r){}})})}},{key:"tryRenderPrebid",value:function(t){P("Trying to render prebid after passback or empty");try{if(void 0===this.level)return!1;var i=this.demands[this.level];if(!("HB IL"===i.dp||"HB LATAM"===i.dp))return!1;var n=t.parent.pbjs||t.parent.parent.pbjs||this.pbjs,o=t.googletag||t.parent.googletag;if(!o||!o.pubads)return!1;var s=o.pubads().getSlots()[0];if(!s)return(0,e.sendErrorWrapper)("split_test_error","Slot not found",this),!1;var l=s.getTargeting("hb_adid")[0],c=parseFloat(s.getTargeting("hb_pb")[0])||0;if(!l)return!1;var p=[].concat(f(a.BidCacherRegular.getAll()),f(a.BidCacherSensitive.getAll())).find(function(e){return e.adId===l});if(this.isBidcachingEnabled()){var h=this.hbConfig;return h?!!(h.customFloor>h.floor&&l)&&(n?(P("Bid Caching. Prebid creative is eligible for rendering."+"Floor: ".concat(i.floor,", custom floor: ").concat(h.customFloor,", hb_pb: ").concat(c)),"new-protector"===this.wrapper&&(P("[Protector]: init for Bid Caching"),this.soldImpressionId=r.default.generateImpressionId(this.tagId,this.size),(0,d.protector)(t.document,{compassST:this,adData:p},this.protectorOptions)),n.renderAd(t.document,l),!0):((0,e.sendErrorWrapper)("split_test_error","Prebid not found",this),!1)):((0,e.sendErrorWrapper)("no_hb_config","Hb config with floors not found",this),!1)}return!!(c>=i.floor&&l)&&(n?(P("Split test C. Prebid creative is eligible for rendering. Floor: ".concat(i.floor,", hb_pb: ").concat(c)),"new-protector"===this.wrapper&&(P("[Protector]: init for Split test C"),this.soldImpressionId=r.default.generateImpressionId(this.tagId,this.size),(0,d.protector)(t.document,{compassST:this,adData:p},this.protectorOptions)),n.renderAd(t.document,l),(0,e.sendTestEvent)(this,"split_test_c",c),!0):((0,e.sendErrorWrapper)("split_test_error","Prebid not found",this),!1))}catch(u){return(0,e.sendErrorWrapper)("split_test_error",u.message,this),!1}}},{key:"next",value:function(t){if(P("Called next"),!this.isBidcachingEnabled()||!this.tryRenderPrebid(t)){this.level=this.level>=0?this.level+1:0;var i=this.demands[this.level];if(i){if(P("This level demand:",i),void 0!==this.loop){var n=this.timeouts[this.level],o="WF Filler"==i.dp||"Default Creative"==i.dp?this.refreshInterval:parseInt(i.refreshInterval,10)||60;if(void 0!==n&&(this.loop-n)*this.refreshInterval<o)return P("Skipping demand ".concat(i.dp,", since only ").concat((this.loop-n)*this.refreshInterval," sec passed, ")+"but the limit is ".concat(o)),this.next(t);this.timeouts[this.level]=this.loop}var s="HB IL"===i.dp||"HB LATAM"===i.dp;if(!1===this.isDfpEnabled()&&"DFP"===(i.dp||"").slice(0,3))return P("Skipping demand ".concat(i.dp,", since only dfp_enabled param is false")),this.next(t);if(s&&!i.children)return(0,e.sendErrorWrapper)("no_hb_children","No HB children",this),this.next(t);if(!s&&!/dfp/gi.test(i.dp)&&!this.templates[i.dp])return(0,e.sendErrorWrapper)("no_template","Template not found for "+i.dp,this),this.next(t);if(P("Writing demand:",i.dp),s)a.default.init(t,this,i);else{var d=void 0,l="";if(/dfp/gi.test(i.dp)&&this.isFeatureEnabled("viewability")&&((d=r.default.getViewability(t.frameElement))instanceof Error&&(P(d),(0,e.sendErrorWrapper)("viewability_error",d.message,this),d=void 0),P("processOtherTags vObj",d)),(0,e.sendReport)(this,i,!0,d),this.isFeatureEnabled("zippedReport")&&(0,e.sendZippedReport)(this,[i],!0),/dfp/gi.test(i.dp)){var c=this.mcm_childid,p=this.mcm_dfp,h=this.mcm_dfpLatam,f=this.dfpPageUrl,u=this.templates.DFP,m=r.default.getTargetingMap("dfp",this,d),g=S[i.dp];if(!g)return(0,e.sendErrorWrapper)("no_dfp_seat","DFP seat not found in the list",this),this.next(t);var b={DFP:p,"DFP LATAM":h}[i.dp]&&c?c:void 0;l=u(i.params,{dfpSeat:g,dfpPageUrl:f,mcmChildId:b,wrapper:this.wrapper,confiantKey:this.confiantKey},m)}else{l=(0,this.templates[i.dp])(i.params)}0===this.level?this.writeWithWrapper(t.document,l):t.document.write(l)}}}}},{key:"refreshContent",value:function(t){P("Called refreshContent");var r=this.size.split("x");if(this.loop=this.loop>=0?this.loop+1:0,this.loopStart=Date.now(),P("Loop",this.loop),this.level=void 0,this.prevReport={},this.loop>this.maxRefreshes-1)clearInterval(this.timer);else try{t.document.body||t.document.documentElement.appendChild(t.document.createElement("body")),t.document.body.innerHTML="";var i=t.document.createElement("iframe");i.src="javascript:'<html><body></body></html>'",i.id=this.impressionId+"-lp",i.width=r[0],i.height=r[1],i.marginHeight=0,i.marginWidth=0,i.scrolling="NO",i.frameBorder=0,t.document.body.appendChild(i);var n=i.contentWindow.document;n.write("<html><head></head><body>"+k+"</body></html>"),n.close()}catch(a){(0,e.sendErrorWrapper)("iframe_error","Failed to create a looping iframe: "+a.message,this)}}},{key:"isTagValid",value:function(t){return t?!!(t.t&&t.y_b&&t.y_b.s)||((0,e.sendError)({code:"missing_param"}),!1):((0,e.sendError)({code:"novar"}),!1)}},{key:"getPlacement",value:function(){try{return window.frameElement&&window.frameElement.id||document.currentScript&&document.currentScript.closest("[id]").id}catch(e){return""}}},{key:"parseTag",value:function(e){this.tagId=e.t,this.referral=e.referral||"",this.size=e.y_b.s,this.impressionId=r.default.generateImpressionId(this.tagId,this.size),this.pubPlacement=e.plc||this.getPlacement(),this.adSlotId=e.y_b.pl}},{key:"requestWaterfall",value:function(i){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.tagId,o=this.referral,s=this.size,d=r.default.generateCacheBuster(),l={tagId:a,domain:o,tdomain:r.default.getTopWindowDomain(),size:s,pu:r.default.getTopWindowUrl(),aurl:r.default.getTopWindowUrl().replace(/^https:\/\/|^http:\/\//,"").split("?")[0].split("#")[0],uid:d,pubPlacement:this.pubPlacement,refresh:n,cb:r.default.generateCacheBuster()},c="//compass-v2.deliverimp.com/wf?"+r.default.jsonToQueryString(l),p=this;t.default.get(c,function(t){if(""===t)return p.writeFiller();try{t=JSON.parse(t)}catch(r){return(0,e.sendError)({code:"invalid_wf_response",message:r.message,refresh:n}),p.writeFiller()}i(t)},function(t,r,i){return(0,e.sendError)({code:"ajax_error",message:"Failed to load WF config, status: ".concat(t,", text: ").concat(r),tagId:p.tagId,ajaxUrl:c,uid:d,ifr:i,refresh:n}),p.writeFiller()})}},{key:"refreshWaterfall",value:function(){var e=this;this.requestWaterfall(function(t){e.parseWFConfig(t)},!0)}},{key:"writeFiller",value:function(){var t=(0,this.templates["WF Filler"])({size:this.size,tagId:this.tagId,domain:this.referral}),r=document.getElementById(this.impressionId);if(!r)return(0,e.sendErrorWrapper)("filler_failed","Failed to find an iframe",this);var i=r.contentWindow.document;i.write(t),i.close()}},{key:"parseWFConfig",value:function(t){if(!t.demands||!t.demands.length)return(0,e.sendError)({code:"missing_demands",tagId:this.tagId}),!1;this.publisherId=t.publisherId,this.demands=t.demands,this.targetingId=t.targetingId,this.domain=t.domain||r.default.getTopWindowDomain(),this.waterfallId=t.waterfallId,this.country=(t.country||"other").toLowerCase(),this.os=t.os||"",this.device=t.device||"",this.browser=t.browser||"",this.blacklistedDomains=[],this.dfpPageUrl=t.dfp_page_url,this.paymentType=t.paymentType,this.dfpEnabled=t.dfp_enabled,this.isBidcaching=t.isBidcaching,this.dfpMaxLoop=t.dfpMaxLoop||20,this.minDfpViewability=t.minDfpViewability||30,this.mcm_childid=t.mcm_childid,this.mcm_dfp=t.mcm_dfp,this.mcm_dfpLatam=t.mcm_dfpLatam,this.features=t.features||[],this.wfTimeLoading=Date.now(),this.wfReloadTimeInMinutes=1440;try{var i=t.blacklistedDomains||[];this.blacklistedDomains=i.map(function(e){return atob(e)})}catch(n){P("Failed to parse blacklisted domains",n.message),(0,e.sendErrorWrapper)("blacklisted_domains_error",n.message,this)}return this.section=t.section||"",this.maxRefreshes=parseInt(t.maxRefreshes,10)||0,this.refreshInterval=parseInt(t.refreshInterval,10)||0,this.refreshInterval>=0&&this.refreshInterval<15&&(this.refreshInterval=15),this.maxRefreshes>200&&(this.maxRefreshes=200),this.scanRate=parseInt(t.scanRate)||0,this.confiantKey=t.confiantKey,this.confiantPercentage=parseInt(t.confiantPercentage)||0,this.wrapper=this.defineWrapper(),this.timeouts=[],this.rendered={},!0}},{key:"createIframe",value:function(){var t=this.size.split("x"),r=document.createElement("iframe");r.src="javascript:'<html><body></body></html>'",r.id=this.impressionId,r.width=t[0],r.height=t[1],r.marginHeight=0,r.marginWidth=0,r.scrolling="NO",r.frameBorder=0;var i,n,a=!1;try{if(this.adSlotId){var o=document.querySelectorAll('[id="cst_'.concat(this.adSlotId,'"]'));if(o.length)try{var s,d=h(o);try{for(d.s();!(s=d.n()).done;){var l=s.value;if(!l.childNodes.length){l.appendChild(r),a=!0;break}}}catch(f){d.e(f)}finally{d.f()}a||(0,e.sendErrorWrapper)("iframe_error_ads","Unable to find an empty ad-slot element",this)}catch(f){(0,e.sendErrorWrapper)("iframe_error_ads","Failed to place iframe in ad-slot: "+f.message,this)}}if(!a)try{var c=document.getElementsByTagName("script"),p=c[c.length-1];p&&"HEAD"!==p.parentNode.tagName&&(n=r,(i=p).parentNode.insertBefore(n,i.nextSibling),a=!0)}catch(u){}a||(document.body||document.documentElement.appendChild(document.createElement("body")),document.body.appendChild(r))}catch(u){(0,e.sendErrorWrapper)("iframe_error","Failed to create an iframe: "+u.message,this)}}},{key:"writeWithWrapper",value:function(e,t){if(P("Wrapper ".concat(this.wrapper,", scan rate ").concat(this.scanRate)),"protector"===this.wrapper&&!/msie|trident|edge/i.test(window.navigator.userAgent)&&100*Math.random()<=this.scanRate){P("Writing with Protector");var r={tagId:this.tagId,iid:this.impressionId,size:this.size};(0,i.writeWithProtector)(e,t,r,this.blacklistedDomains)}else P("Writing without wrapper"),e.write(t)}},{key:"isDfpEnabled",value:function(){if(this.dfpEnabled&&void 0!==this.loop)try{var t=r.default.getViewability(window.frameElement).viewability;return this.isFeatureEnabled("disableDFPAfterClick")?t>0&&!this.clicked:this.isFeatureEnabled("dfpMaxLoop")&&r.default.isNumber(this.dfpMaxLoop)&&r.default.isNumber(this.minDfpViewability)?this.loop<=this.dfpMaxLoop||t>=this.minDfpViewability:this.loop<=this.dfpMaxLoop}catch(i){(0,e.sendErrorWrapper)("is_dfp_enabled","Failed to control if DFP enabled"+i.message,this)}return this.dfpEnabled}},{key:"isBidcachingEnabled",value:function(){return this.isBidcaching}},{key:"trackIframeClick",value:function(t){try{var i=document.getElementById(t.impressionId),n={iframeMouseOver:!1};window.focus(),window.addEventListener("blur",function(){if(n.iframeMouseOver){t.clicked=!0;var a=r.default.getViewability(i),o=a instanceof Error?-1:a.viewability;(0,e.sendIframeClick)(t,o)}}),i.addEventListener("mouseover",function(){n.iframeMouseOver=!0}),i.addEventListener("mouseout",function(){n.iframeMouseOver=!1,window.focus()})}catch(a){(0,e.sendErrorWrapper)("track_iframe_click",a.message,t)}}},{key:"defineWrapper",value:function(){return this.wrapper?this.wrapper:this.isFeatureEnabled("geoedge")?"geoedge":this.confiantKey&&100*Math.random()<this.confiantPercentage?"confiant":this.isFeatureEnabled("newProtectorWrapper")?(this.protectorOptions={},this.protectorOptions.strictSizeCheck=this.isFeatureEnabled("protectorStrictSizeCheck"),"new-protector"):"protector"}},{key:"isFeatureEnabled",value:function(e){return this.features.includes(e)}}]),o}(),j=new C;exports.default=j;
},{"./tracking":"Q7Ly","./ajax":"PSwN","./helpers":"lTk1","./wrappers/wrappers":"X8Ur","./templates":"ZLZB","./hb":"w587","./constants":"iJA9","./wrappers/pubmaticIdentityWrapper":"wyXr","./wrappers/protector/protector":"hPVJ"}],"Focm":[function(require,module,exports) {
"use strict";var e=r(require("./compassST")),a=r(require("./helpers")),t=require("./tracking");function r(e){return e&&e.__esModule?e:{default:e}}var d=a.default.log;window.compassST=e.default;var f=window.compassSmartTag;if(e.default.isTagValid(f)){e.default.parseTag(f);var l=[];l.includes(e.default.tagId)&&(0,t.sendILoaded)(e.default),e.default.createIframe(),e.default.requestWaterfall(u)}function u(a){if(e.default.parseWFConfig(a)){d("waterfallCallback"),(0,t.sendLoaded)(e.default);var r=document.getElementById(e.default.impressionId);if(r){var f=r.contentDocument||r.contentWindow.document;!f||"complete"!==f.readyState&&"interactive"!==f.readyState?(d("iframe_ready_error"),(0,t.sendErrorWrapper)("iframe_ready_error","Iframe document is not ready",e.default)):(r.contentWindow.compassST=e.default,e.default.trackIframeClick(e.default))}e.default.start(),e.default.isFeatureEnabled("refreshWf")&&setInterval(function(){e.default.wfTimeLoading&&Date.now()>=e.default.wfTimeLoading+60*e.default.wfReloadTimeInMinutes*1e3&&e.default.refreshWaterfall()},3e4)}}
},{"./compassST":"YNG3","./helpers":"lTk1","./tracking":"Q7Ly"}]},{},["Focm"], null)
//# sourceMappingURL=/index.js.map