(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{pr:()=>nf});var t=function(e,t,n,r,o){var i="https://".concat(e,"/cgi-bin/pixeltrack.pl?action=")+o;t&&(i+="&smartad_id=".concat(t)),n&&(i+="&context_id=".concat(n)),r&&(i+="&cf=".concat(encodeURIComponent(r))),navigator.sendBeacon(i)},n=function(e){Math.random()<.01&&e()};const r={notify:t,notify_context:function(e,r,o,i){n((function(){return t(e,null,r,o,i)}))},notify_smartad:function(e,r,o){n((function(){return t(e,r,null,null,o)}))}};var o;!function(e){e.NoTcData="tcf_blank",e.NoPermissions="tcf_no_permissions"}(o||(o={}));var i={CONTEXT_NOT_LOADED:"0",CONTEXT_LOADED:"1",LAZY_LOADING_ENABLED:"1",LAZY_LOADING_ROOT_MARGIN:"100",STICKY_AD:"1",PARTNER_TCF_STATUS:"2.0"};function a(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=e.frameDocument,u=a.createElement("div");u.classList.add("dianomi-sticky-div"),u.style.position="fixed",u.style.bottom=null!==(o=n.stickyOffsetBottom)&&void 0!==o?o:"0",u.style.left="0",u.style.width="100%",u.style.zIndex="9999999999";var c=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.createElement("div");o.style.position="absolute",o.style.right="16px",o.style.bottom="0",o.style.height="auto";var i=e.createElement("a");i.href="https://".concat(t,"/whatsthis.pl?id=").concat(n),i.target="_blank",i.rel="nofollow";var a=e.createElement("img");if(a.style.height="auto",a.style.width="30px",a.src="https://".concat(t,"/img/dianomi/dianomi-ad-tag-Grey.png"),i.append(a),o.append(i),r){var u=e.createElement("a");u.href="https://".concat(t,"/legal/privacy.epl"),u.target="_blank",u.style.marginLeft="5px";var c=e.createElement("img");c.src="https://".concat(t,"/img/YAC_Icon.png"),c.alt="ad choices logo",c.style.height="12px",c.style.width="12px",u.append(c),o.append(u)}return o}(a,t,r,i);u.appendChild(c);var s=function(e,t,n,r){var o=e.frameDocument,i=e.frameWindow,a=o.createElement("div");a.style.position="absolute",a.style.right="12px",a.style.top="-12px",a.style.width="30px",a.style.height="auto",a.style.cursor="pointer";var u=o.createElement("img");return u.id="sticky-dianomi-close",u.loading="eager",u.style.height="auto",u.style.width="100%",u.src="https://".concat(n,"/img/dianomi/dianomi-ad-tag-X2.png"),u.onclick=function(){var e;try{e=encodeURIComponent(i.location.href)}catch(t){e=encodeURIComponent(window.location.href)}var o="https://".concat(n,"/cgi-bin/pixeltrack.pl?action=close&id=").concat(r,"&href=").concat(e),a=new XMLHttpRequest;a.open("GET",o,!0),a.send(),t.remove()},a.append(u),a}(e,u,t,r);return u.appendChild(s),u}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}var l,f={id:"data-dianomi-context-id",done:"data-dianomi-context-done",host:{attribute:"data-dianomi-context-hostname",default:"www.dianomi.com",allowedValues:["www.dianomi.com","dev.dianomi.com"]},endpoint:{attribute:"data-dianomi-context-endpoint",default:"context.pl",allowedValues:["context.pl","bidcore-context.pl"]},affiliate:"data-dianomi-context-affiliate",cfTest:"data-dianomi-cf-test",clickMacro:"data-dianomi-click-macro",consent:"data-dianomi-consent",darkmodeOverride:"data-dianomi-darkmode-override",pageDomain:"data-dianomi-page-domain",referrer:"data-referrer-url",topProductId:"data-dianomi-top-product-id",trafficSource:"data-dianomi-traffic-source"},p=(l=f,Object.keys(l).map((function(e){var t=l[e];return"string"==typeof t?t:t.attribute})));function d(e,t,n){t.mobileHeight&&n<480?e.style.height=t.mobileHeight:t.tabletHeight&&n<769&&n>=480?e.style.height=t.tabletHeight:t.height&&(e.style.height=t.height)}function h(e,t,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];arguments.length>3&&void 0!==arguments[3]&&arguments[3]&&!t.nativeUnit?n<480?(e.style.padding="0",e.style.width=t.mobileWidthSM||t.mobileWidth||"",e.style.margin="0 auto"):t.mobileWidth&&n<580?(e.style.padding="0",e.style.width=t.mobileWidth):t.tabletWidth&&n<769&&n>=580?(e.style.padding="0",e.style.width=t.tabletWidth):t.width&&(e.style.width=t.width):r?e.style.width="100%":t.mobileWidthSM&&n<480?e.style.width=t.mobileWidthSM||t.mobileWidth||"":t.mobileWidth&&n<580?e.style.width=t.mobileWidth:t.tabletWidth&&n<769&&n>=580?e.style.width=t.tabletWidth:t.width&&(e.style.width=t.width)}function y(e,t,n){t.mobileFloat&&n<480?e.style.cssFloat=t.mobileFloat:t.float&&(e.style.cssFloat=t.float)}function v(e){return e.parent.innerWidth||e.parent.document.documentElement.clientWidth}function b(e,t){(e.parent||e).addEventListener("resize",(function(){t(),S(e,"resize")}),!1)}var g={collapse:"dianomi-parent-collapse",resize:"dianomi-parent-resize"};function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.parent.postMessage({type:g[t],frameId:n},"*")}function E(e,t){return e&&(n=t.allowedValues,function(e){if(Array.isArray(e))return u(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||s(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([t.default]).includes(e)?e:t.default;var n}function m(e,t,n){return"dianomi-".concat(e.id,"-").concat(n.unique_id).concat(t)}function O(e,t){return e.some((function(e){return _(e,t)}))}function _(e,t){return t.type===e}function w(e,t,n){t.lazy&&t.lazy===i.LAZY_LOADING_ENABLED?(e.className="lazy dianomiLazy",e.setAttribute("data-src",n)):e.setAttribute("src",n)}function T(e,t){if(t){var n=!0,r=!1,o=void 0;try{for(var i,a=Object.entries(t)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=c(i.value,2),s=u[0],l=u[1];e.style[s]=l}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}}function I(e,t){return t?"".concat(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"?":"&").concat(e,"=").concat(encodeURIComponent(t)):""}function P(){try{return window.top||window.parent||window}catch(e){return window}}function N(){try{return P().location.href}catch(e){return window.location.href}}function A(e){var t={},n=!1;return e.forEach((function(e,r){var o,i,a;if(_("smartad",e)&&((null==e||null===(i=e.args)||void 0===i?void 0:i.responsiveHeight)||"1"===(null==e||null===(a=e.args)||void 0===a?void 0:a.closeIfEmpty))&&(n=!0),_("recirc",e)&&(null==e||null===(o=e.args)||void 0===o?void 0:o.responsiveHeight)&&(n=!0),_("cfWaterfall",e))t["cfWaterfall-".concat(r)]=e;else if(O(["smartad","video"],e)){var u,c,s;if((null==e||null===(u=e.args)||void 0===u?void 0:u.nativeUnit)&&t["native-".concat(null==e||null===(c=e.args)||void 0===c?void 0:c.nativeUnit)]){var l=t["native-".concat(e.args.nativeUnit)];_("native",l)&&l.units.push(e)}else(null==e||null===(s=e.args)||void 0===s?void 0:s.nativeUnit)?t["native-".concat(e.args.nativeUnit)]={type:"native",units:[e]}:t["smartad-".concat(e.args.id,"-").concat(r)]=e}else t["other-".concat(r)]=e})),{responsiveHeight:n,units:t}}function C(e){return"1"===e||1===e||!0===e||"true"===e||"string"==typeof e&&"true"===e.toLowerCase()}function R(e){var t;try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch(n){t=e.data}return t}function D(e,t,n,r){var o=e;o.style.maxWidth="100%",o.style.minHeight="1px",t.scrolling&&(o.style.overflow=t.scrolling),t.minWidth&&(o.style.minWidth=t.minWidth),t.margin&&(o.style.margin=t.margin),t.maxWidth&&(o.style.maxWidth=t.maxWidth),o.style.border="none",o.style.overflow="hidden";var i=v(r);return h(o,t,i,!1,n),y(o,t,i),d(o,t,i),o}function k(e,t,n){return k=M()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&j(o,n.prototype),o},k.apply(null,arguments)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function L(e){var t="function"==typeof Map?new Map:void 0;return L=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return k(e,arguments,V(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),j(r,e)},L(e)}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(o,e);var t,n,r=(t=o,n=M(),function(){var e,r=V(t);if(n){var o=V(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="DecodingError",t}return o}(L(Error));function x(e,t,n){return x=H()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&F(o,n.prototype),o},x.apply(null,arguments)}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function B(e){var t="function"==typeof Map?new Map:void 0;return B=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return x(e,arguments,G(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),F(r,e)},B(e)}function H(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(o,e);var t,n,r=(t=o,n=H(),function(){var e,r=G(t);if(n){var o=G(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="EncodingError",t}return o}(B(Error));function Y(e,t,n){return Y=q()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Q(o,n.prototype),o},Y.apply(null,arguments)}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}function Q(e,t){return Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Q(e,t)}function K(e){var t="function"==typeof Map?new Map:void 0;return K=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Y(e,arguments,z(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Q(r,e)},K(e)}function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(o,e);var t,n,r=(t=o,n=q(),function(){var e,r=z(t);if(n){var o=z(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="GVLError",t}return o}(K(Error));function X(e,t,n){return X=te()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Z(o,n.prototype),o},X.apply(null,arguments)}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function ee(e){var t="function"==typeof Map?new Map:void 0;return ee=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return X(e,arguments,$(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Z(r,e)},ee(e)}function te(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(o,e);var t,n,r=(t=o,n=te(),function(){var e,r=$(t);if(n){var o=$(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,e)});function o(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,"invalid value ".concat(t," passed for ").concat(e," ").concat(i))).name="TCModelError",n}return o}(ee(Error));function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e){if(!/^[0-1]+$/.test(e))throw new W("Invalid bitField");var t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";for(var n="",r=0;r<e.length;r+=this.BASIS)n+=this.DICT[parseInt(e.substr(r,this.BASIS),2)];return n}},{key:"decode",value:function(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new U("Invalidly encoded Base64URL string");for(var t="",n=0;n<e.length;n++){var r=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-r.length)+r}return t}}],null&&re(t.prototype,null),n&&re(t,n),e}();function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}oe(ie,"DICT","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),oe(ie,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]])),oe(ie,"BASIS",6),oe(ie,"LCM",24);var ue,ce,se,le=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"has",value:function(t){return e.langSet.has(t)}},{key:"forEach",value:function(t){e.langSet.forEach(t)}},{key:"size",get:function(){return e.langSet.size}}])&&ae(t.prototype,n),e}();function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ue=le,ce="langSet",se=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]),ce in ue?Object.defineProperty(ue,ce,{value:se,enumerable:!0,configurable:!0,writable:!0}):ue[ce]=se;var pe=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}fe(pe,"cmpId","cmpId"),fe(pe,"cmpVersion","cmpVersion"),fe(pe,"consentLanguage","consentLanguage"),fe(pe,"consentScreen","consentScreen"),fe(pe,"created","created"),fe(pe,"supportOOB","supportOOB"),fe(pe,"isServiceSpecific","isServiceSpecific"),fe(pe,"lastUpdated","lastUpdated"),fe(pe,"numCustomPurposes","numCustomPurposes"),fe(pe,"policyVersion","policyVersion"),fe(pe,"publisherCountryCode","publisherCountryCode"),fe(pe,"publisherCustomConsents","publisherCustomConsents"),fe(pe,"publisherCustomLegitimateInterests","publisherCustomLegitimateInterests"),fe(pe,"publisherLegitimateInterests","publisherLegitimateInterests"),fe(pe,"publisherConsents","publisherConsents"),fe(pe,"publisherRestrictions","publisherRestrictions"),fe(pe,"purposeConsents","purposeConsents"),fe(pe,"purposeLegitimateInterests","purposeLegitimateInterests"),fe(pe,"purposeOneTreatment","purposeOneTreatment"),fe(pe,"specialFeatureOptins","specialFeatureOptins"),fe(pe,"useNonStandardStacks","useNonStandardStacks"),fe(pe,"vendorConsents","vendorConsents"),fe(pe,"vendorLegitimateInterests","vendorLegitimateInterests"),fe(pe,"vendorListVersion","vendorListVersion"),fe(pe,"vendorsAllowed","vendorsAllowed"),fe(pe,"vendorsDisclosed","vendorsDisclosed"),fe(pe,"version","version");var ye,ve=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"clone",value:function(){var e=this,t=new this.constructor;return Object.keys(this).forEach((function(n){var r=e.deepClone(e[n]);void 0!==r&&(t[n]=r)})),t}},{key:"deepClone",value:function(e){var t=void 0===e?"undefined":function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(e);if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(he(e,Date))return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;n.push(this.deepClone(c))}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return he(e,Array)?n:new e.constructor(n)}var s={};for(var l in e)e.hasOwnProperty(l)&&(s[l]=this.deepClone(e[l]));return s}}}],n&&de(t.prototype,n),e}();function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e){return Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ee(e)}function me(e,t){return me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},me(e,t)}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Ee(e);if(t){var a=Ee(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?be(r):o}}!function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(ye||(ye={}));var _e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(i,e);var t,n,r,o=Oe(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Se(be(n=o.call(this)),"purposeId_",void 0),Se(be(n),"restrictionType",void 0),void 0!==e&&(n.purposeId=e),void 0!==t&&(n.restrictionType=t),n}return t=i,r=[{key:"unHash",value:function(e){var t=e.split(this.hashSeparator),n=new i;if(2!==t.length)throw new ne("hash",e);return n.purposeId=parseInt(t[0],10),n.restrictionType=parseInt(t[1],10),n}}],(n=[{key:"hash",get:function(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return"".concat(this.purposeId).concat(i.hashSeparator).concat(this.restrictionType)}},{key:"purposeId",get:function(){return this.purposeId_},set:function(e){this.purposeId_=e}},{key:"isValid",value:function(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===ye.NOT_ALLOWED||this.restrictionType===ye.REQUIRE_CONSENT||this.restrictionType===ye.REQUIRE_LI)}},{key:"isSameAs",value:function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}])&&ge(t.prototype,n),r&&ge(t,r),i}(ve);function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e){return Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ie(e)}function Pe(e,t){return Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pe(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Ie(e);if(t){var a=Ie(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?we(r):o}}Se(_e,"hashSeparator","-");var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(i,e);var t,n,r,o=Ne(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,n){t in e?Object.defineProperty(e,t,{value:null,enumerable:!0,configurable:!0,writable:!0}):e[t]=null}(we(e=o.apply(this,arguments)),"root"),e}return t=i,n=[{key:"getRoot",value:function(){return this.root}},{key:"isEmpty",value:function(){return!this.root}},{key:"add",value:function(e){var t,n={value:e,left:null,right:null};if(this.isEmpty())this.root=n;else for(t=this.root;;)if(e<t.value){if(null===t.left){t.left=n;break}t=t.left}else{if(!(e>t.value))break;if(null===t.right){t.right=n;break}t=t.right}}},{key:"get",value:function(){for(var e=[],t=this.root;t;)if(t.left){for(var n=t.left;n.right&&n.right!=t;)n=n.right;n.right==t?(n.right=null,e.push(t.value),t=t.right):(n.right=t,t=t.left)}else e.push(t.value),t=t.right;return e}},{key:"contains",value:function(e){for(var t=!1,n=this.root;n;){if(n.value===e){t=!0;break}e>n.value?n=n.right:e<n.value&&(n=n.left)}return t}},{key:"min",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;t;)t.left?t=t.left:(e=t.value,t=null);return e}},{key:"max",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;t;)t.right?t=t.right:(e=t.value,t=null);return e}},{key:"remove",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root,n=null,r="left";t;)if(e<t.value)n=t,t=t.left,r="left";else if(e>t.value)n=t,t=t.right,r="right";else{if(t.left||t.right)if(t.left)if(t.right){var o=this.min(t.right);this.remove(o,t.right),t.value=o}else n?n[r]=t.left:this.root=t.left;else n?n[r]=t.right:this.root=t.right;else n?n[r]=null:this.root=null;t=null}}}],r=[{key:"build",value:function(e){if(e&&0!==e.length){if(1===e.length){var t=new i;return t.add(e[0]),t}var n=e.length>>1,r=new i;r.add(e[n]);var o=r.getRoot();if(o){if(n+1<e.length){var a=i.build(e.slice(n+1));o.right=a?a.getRoot():null}if(n-1>0){var u=i.build(e.slice(0,n-1));o.left=u?u.getRoot():null}}return r}return null}}],n&&Te(t.prototype,n),r&&Te(t,r),i}(ve);function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e){return Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ve(e)}function je(e,t){return je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},je(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Ve(e);if(t){var a=Ve(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?Re(r):o}}var Me,Ue,xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(o,e);var t,n,r=Le(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),ke(Re(e=r.apply(this,arguments)),"bitLength",0),ke(Re(e),"map",new Map),ke(Re(e),"gvl_",void 0),e}return t=o,n=[{key:"has",value:function(e){return this.map.has(e)}},{key:"isOkToHave",value:function(e,t,n){var r,o=!0;if(null===(r=this.gvl)||void 0===r?void 0:r.vendors){var i=this.gvl.vendors[n];if(i)if(e===ye.NOT_ALLOWED)o=i.legIntPurposes.includes(t)||i.purposes.includes(t);else if(i.flexiblePurposes.length)switch(e){case ye.REQUIRE_CONSENT:o=i.flexiblePurposes.includes(t)&&i.legIntPurposes.includes(t);break;case ye.REQUIRE_LI:o=i.flexiblePurposes.includes(t)&&i.purposes.includes(t)}else o=!1;else o=!1}return o}},{key:"add",value:function(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){var n=t.hash;this.has(n)||(this.map.set(n,new Ae),this.bitLength=0),this.map.get(n).add(e)}}},{key:"restrictPurposeToLegalBasis",value:function(e){for(var t=this.gvl.vendorIds,n=e.hash,r=function(){var e,n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)e=i.value}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}(),o=(a=Array(r).keys(),function(e){if(Array.isArray(e))return Ce(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e+1})),i=1;i<=r;i++)this.has(n)||(this.map.set(n,Ae.build(o)),this.bitLength=0),this.map.get(n).add(i);var a}},{key:"getVendors",value:function(e){var t=[];if(e){var n=e.hash;this.has(n)&&(t=this.map.get(n).get())}else{var r=new Set;this.map.forEach((function(e){e.get().forEach((function(e){r.add(e)}))})),t=Array.from(r)}return t}},{key:"getRestrictionType",value:function(e,t){var n;return this.getRestrictions(e).forEach((function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)})),n}},{key:"vendorHasRestriction",value:function(e,t){for(var n=!1,r=this.getRestrictions(e),o=0;o<r.length&&!n;o++)n=t.isSameAs(r[o]);return n}},{key:"getMaxVendorId",value:function(){var e=0;return this.map.forEach((function(t){e=Math.max(t.max(),e)})),e}},{key:"getRestrictions",value:function(e){var t=[];return this.map.forEach((function(n,r){e?n.contains(e)&&t.push(_e.unHash(r)):t.push(_e.unHash(r))})),t}},{key:"getPurposes",value:function(){var e=new Set;return this.map.forEach((function(t,n){e.add(_e.unHash(n).purposeId)})),Array.from(e)}},{key:"remove",value:function(e,t){var n=t.hash,r=this.map.get(n);r&&(r.remove(e),r.isEmpty()&&(this.map.delete(n),this.bitLength=0))}},{key:"gvl",get:function(){return this.gvl_},set:function(e){var t=this;this.gvl_||(this.gvl_=e,this.map.forEach((function(e,n){var r=_e.unHash(n);e.get().forEach((function(n){t.isOkToHave(r.restrictionType,r.purposeId,n)||e.remove(n)}))})))}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"numRestrictions",get:function(){return this.map.size}}],n&&De(t.prototype,n),o}(ve);function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(Me||(Me={})),function(e){e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC"}(Ue||(Ue={}));var Fe,Be=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e){return ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ze(e)}function Qe(e,t){return Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qe(e,t)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=ze(e);if(t){var a=ze(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?He(r):o}}Ge(Be,"ID_TO_KEY",[Ue.CORE,Ue.VENDORS_DISCLOSED,Ue.VENDORS_ALLOWED,Ue.PUBLISHER_TC]),Ge(Be,"KEY_TO_ID",(Ge(Fe={},Ue.CORE,0),Ge(Fe,Ue.VENDORS_DISCLOSED,1),Ge(Fe,Ue.VENDORS_ALLOWED,2),Ge(Fe,Ue.PUBLISHER_TC,3),Fe));var qe=Symbol.iterator,Je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(o,e);var t,n,r=Ke(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Ye(He(e=r.apply(this,arguments)),"bitLength",0),Ye(He(e),"maxId_",0),Ye(He(e),"set_",new Set),e}return t=o,n=[{key:qe,value:function(){var e;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:e=1,t.label=1;case 1:return e<=this.maxId?[4,[e,this.has(e)]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}},{key:"values",value:function(){return this.set_.values()}},{key:"maxId",get:function(){return this.maxId_}},{key:"has",value:function(e){return this.set_.has(e)}},{key:"unset",value:function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t.unset(e)})):"object"==typeof e?this.unset(Object.keys(e).map((function(e){return Number(e)}))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((function(e){t.maxId_=Math.max(t.maxId,e)}))))}},{key:"isIntMap",value:function(e){var t=this,n="object"==typeof e;return n=n&&Object.keys(e).every((function(n){var r=Number.isInteger(parseInt(n,10));return(r=r&&t.isValidNumber(e[n].id))&&void 0!==e[n].name})),n}},{key:"isValidNumber",value:function(e){return parseInt(e,10)>0}},{key:"isSet",value:function(e){var t,n,r=!1;return t=e,(null!=(n=Set)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)&&(r=Array.from(e).every(this.isValidNumber)),r}},{key:"set",value:function(e){var t=this;if(Array.isArray(e))e.forEach((function(e){return t.set(e)}));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map((function(e){return Number(e)})));else{if(!this.isValidNumber(e))throw new ne("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}},{key:"empty",value:function(){this.set_=new Set}},{key:"forEach",value:function(e){for(var t=1;t<=this.maxId;t++)e(this.has(t),t)}},{key:"size",get:function(){return this.set_.size}},{key:"setAll",value:function(e){this.set(e)}}],n&&We(t.prototype,n),o}(ve);function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $e=pe.cmpVersion,Ze=pe.consentLanguage,et=pe.consentScreen,tt=pe.created,nt=pe.isServiceSpecific,rt=pe.lastUpdated,ot=pe.policyVersion,it=pe.publisherCountryCode,at=pe.publisherLegitimateInterests,ut=pe.publisherConsents,ct=pe.purposeConsents,st=pe.purposeLegitimateInterests,lt=pe.purposeOneTreatment,ft=pe.specialFeatureOptins,pt=pe.useNonStandardStacks,dt=pe.vendorListVersion,ht=pe.version,yt=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Xe(yt,pe.cmpId,12),Xe(yt,$e,12),Xe(yt,Ze,12),Xe(yt,et,6),Xe(yt,tt,36),Xe(yt,nt,1),Xe(yt,rt,36),Xe(yt,ot,6),Xe(yt,it,12),Xe(yt,at,24),Xe(yt,ut,24),Xe(yt,ct,24),Xe(yt,st,24),Xe(yt,lt,1),Xe(yt,ft,12),Xe(yt,pt,1),Xe(yt,dt,12),Xe(yt,ht,6),Xe(yt,"anyBoolean",1),Xe(yt,"encodingType",1),Xe(yt,"maxId",16),Xe(yt,"numCustomPurposes",6),Xe(yt,"numEntries",12),Xe(yt,"numRestrictions",12),Xe(yt,"purposeId",6),Xe(yt,"restrictionType",2),Xe(yt,"segmentType",3),Xe(yt,"singleOrRange",1),Xe(yt,"vendorId",16);var bt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e,t){var n;if("string"==typeof e&&(e=parseInt(e,10)),(n=e.toString(2)).length>t||e<0)throw new W("".concat(e," too large to encode into ").concat(t));return n.length<t&&(n="0".repeat(t-n.length)+n),n}},{key:"decode",value:function(e,t){if(t!==e.length)throw new U("invalid bit length");return parseInt(e,2)}}],null&&vt(t.prototype,null),n&&vt(t,n),e}();function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var St=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e,t){return bt.encode(Math.round(e.getTime()/100),t)}},{key:"decode",value:function(e,t){if(t!==e.length)throw new U("invalid bit length");var n=new Date;return n.setTime(100*bt.decode(e,t)),n}}],null&&gt(t.prototype,null),n&&gt(t,n),e}();function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var mt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e){return String(Number(e))}},{key:"decode",value:function(e){return"1"===e}}],null&&Et(t.prototype,null),n&&Et(t,n),e}();function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _t=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e,t){for(var n="",r=1;r<=t;r++)n+=mt.encode(e.has(r));return n}},{key:"decode",value:function(e,t){if(e.length!==t)throw new U("bitfield encoding length mismatch");for(var n=new Je,r=1;r<=t;r++)mt.decode(e[r-1])&&n.set(r);return n.bitLength=e.length,n}}],null&&Ot(t.prototype,null),n&&Ot(t,n),e}();function wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Tt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,r=e.charCodeAt(1)-65;if(n<0||n>25||r<0||r>25)throw new W("invalid language code: ".concat(e));if(t%2==1)throw new W("numBits must be even, ".concat(t," is not valid"));return t/=2,bt.encode(n,t)+bt.encode(r,t)}},{key:"decode",value:function(e,t){if(t!==e.length||e.length%2)throw new U("invalid bit length for language");var n=e.length/2,r=bt.decode(e.slice(0,n),n)+65,o=bt.decode(e.slice(n),n)+65;return String.fromCharCode(r)+String.fromCharCode(o)}}],null&&wt(t.prototype,null),n&&wt(t,n),e}();function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pt,Nt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e){var t=bt.encode(e.numRestrictions,yt.numRestrictions);return e.isEmpty()||e.getRestrictions().forEach((function(n){var r=function(t){var n=o[t];0===u&&(a++,u=n);var r=o[i-1],s=e.gvl.vendorIds;if(t===i-1||o[t+1]>function(e){for(;++e<=r&&!s.has(e););return e}(n)){var l=!(n===u);c+=mt.encode(l),c+=bt.encode(u,yt.vendorId),l&&(c+=bt.encode(n,yt.vendorId)),u=0}};t+=bt.encode(n.purposeId,yt.purposeId),t+=bt.encode(n.restrictionType,yt.restrictionType);for(var o=e.getVendors(n),i=o.length,a=0,u=0,c="",s=0;s<i;s++)r(s);t+=bt.encode(a,yt.numEntries),t+=c})),t}},{key:"decode",value:function(e){var t=0,n=new xe,r=bt.decode(e.substr(t,yt.numRestrictions),yt.numRestrictions);t+=yt.numRestrictions;for(var o=0;o<r;o++){var i=bt.decode(e.substr(t,yt.purposeId),yt.purposeId);t+=yt.purposeId;var a=bt.decode(e.substr(t,yt.restrictionType),yt.restrictionType);t+=yt.restrictionType;var u=new _e(i,a),c=bt.decode(e.substr(t,yt.numEntries),yt.numEntries);t+=yt.numEntries;for(var s=0;s<c;s++){var l=mt.decode(e.substr(t,yt.anyBoolean));t+=yt.anyBoolean;var f=bt.decode(e.substr(t,yt.vendorId),yt.vendorId);if(t+=yt.vendorId,l){var p=bt.decode(e.substr(t,yt.vendorId),yt.vendorId);if(t+=yt.vendorId,p<f)throw new U("Invalid RangeEntry: endVendorId ".concat(p," is less than ").concat(f));for(var d=f;d<=p;d++)n.add(d,u)}else n.add(f,u)}}return n.bitLength=t,n}}],null&&It(t.prototype,null),n&&It(t,n),e}();function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(Pt||(Pt={}));var Ct=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e){var t,n=[],r=[],o=bt.encode(e.maxId,yt.maxId),i="",a=yt.maxId+yt.encodingType,u=a+e.maxId,c=2*yt.vendorId+yt.singleOrRange+yt.numEntries,s=a+yt.numEntries;return e.forEach((function(o,a){i+=mt.encode(o),(t=e.maxId>c&&s<u)&&o&&(e.has(a+1)?0===r.length&&(r.push(a),s+=yt.singleOrRange,s+=yt.vendorId):(r.push(a),s+=yt.vendorId,n.push(r),r=[]))})),t?(o+=String(Pt.RANGE),o+=this.buildRangeEncoding(n)):(o+=String(Pt.FIELD),o+=i),o}},{key:"decode",value:function(e,t){var n,r=0,o=bt.decode(e.substr(r,yt.maxId),yt.maxId);r+=yt.maxId;var i=bt.decode(e.charAt(r),yt.encodingType);if(r+=yt.encodingType,i===Pt.RANGE){if(n=new Je,1===t){if("1"===e.substr(r,1))throw new U("Unable to decode default consent=1");r++}var a=bt.decode(e.substr(r,yt.numEntries),yt.numEntries);r+=yt.numEntries;for(var u=0;u<a;u++){var c=mt.decode(e.charAt(r));r+=yt.singleOrRange;var s=bt.decode(e.substr(r,yt.vendorId),yt.vendorId);if(r+=yt.vendorId,c){var l=bt.decode(e.substr(r,yt.vendorId),yt.vendorId);r+=yt.vendorId;for(var f=s;f<=l;f++)n.set(f)}else n.set(s)}}else{var p=e.substr(r,o);r+=o,n=_t.decode(p,o)}return n.bitLength=r,n}},{key:"buildRangeEncoding",value:function(e){var t=e.length,n=bt.encode(t,yt.numEntries);return e.forEach((function(e){var t=1===e.length;n+=mt.encode(!t),n+=bt.encode(e[0],yt.vendorId),t||(n+=bt.encode(e[1],yt.vendorId))})),n}}],null&&At(t.prototype,null),n&&At(t,n),e}();function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(){var e;return Rt(e={},pe.version,bt),Rt(e,pe.created,St),Rt(e,pe.lastUpdated,St),Rt(e,pe.cmpId,bt),Rt(e,pe.cmpVersion,bt),Rt(e,pe.consentScreen,bt),Rt(e,pe.consentLanguage,Tt),Rt(e,pe.vendorListVersion,bt),Rt(e,pe.policyVersion,bt),Rt(e,pe.isServiceSpecific,mt),Rt(e,pe.useNonStandardStacks,mt),Rt(e,pe.specialFeatureOptins,_t),Rt(e,pe.purposeConsents,_t),Rt(e,pe.purposeLegitimateInterests,_t),Rt(e,pe.purposeOneTreatment,mt),Rt(e,pe.publisherCountryCode,Tt),Rt(e,pe.vendorConsents,Ct),Rt(e,pe.vendorLegitimateInterests,Ct),Rt(e,pe.publisherRestrictions,Nt),Rt(e,"segmentType",bt),Rt(e,pe.vendorsDisclosed,Ct),Rt(e,pe.vendorsAllowed,Ct),Rt(e,pe.publisherConsents,_t),Rt(e,pe.publisherLegitimateInterests,_t),Rt(e,pe.numCustomPurposes,bt),Rt(e,pe.publisherCustomConsents,_t),Rt(e,pe.publisherCustomLegitimateInterests,_t),e}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jt=function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Vt(this,"1",[Ue.CORE]),Vt(this,"2",[Ue.CORE]),2===t.version)if(t.isServiceSpecific)this[2].push(Ue.PUBLISHER_TC);else{var r=!(!n||!n.isForVendors);r&&!0!==t[pe.supportOOB]||this[2].push(Ue.VENDORS_DISCLOSED),r&&(t[pe.supportOOB]&&t[pe.vendorsAllowed].size>0&&this[2].push(Ue.VENDORS_ALLOWED),this[2].push(Ue.PUBLISHER_TC))}};function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e,t){var n,r=this;try{n=this.fieldSequence[String(e.version)][t]}catch(n){throw new W("Unable to encode version: ".concat(e.version,", segment: ").concat(t))}var o="";t!==Ue.CORE&&(o=bt.encode(Be.KEY_TO_ID[t],yt.segmentType));var i=Dt();return n.forEach((function(n){var a=e[n],u=i[n],c=yt[n];void 0===c&&r.isPublisherCustom(n)&&(c=Number(e[pe.numCustomPurposes]));try{o+=u.encode(a,c)}catch(e){throw new W("Error encoding ".concat(t,"->").concat(n,": ").concat(e.message))}})),ie.encode(o)}},{key:"decode",value:function(e,t,n){var r=this,o=ie.decode(e),i=0;n===Ue.CORE&&(t.version=bt.decode(o.substr(i,yt[pe.version]),yt[pe.version])),n!==Ue.CORE&&(i+=yt.segmentType);var a=this.fieldSequence[String(t.version)][n],u=Dt();return a.forEach((function(e){var n=u[e],a=yt[e];if(void 0===a&&r.isPublisherCustom(e)&&(a=Number(t[pe.numCustomPurposes])),0!==a){var c=o.substr(i,a);if(t[e]=n===Ct?n.decode(c,t.version):n.decode(c,a),Number.isInteger(a))i+=a;else{if(!Number.isInteger(t[e].bitLength))throw new U(e);i+=t[e].bitLength}}})),t}},{key:"isPublisherCustom",value:function(e){return 0===e.indexOf("publisherCustom")}}],null&&Lt(t.prototype,null),n&&Lt(t,n),e}();function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Mt,"fieldSequence",new function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),kt(this,"1",kt({},Ue.CORE,[pe.version,pe.created,pe.lastUpdated,pe.cmpId,pe.cmpVersion,pe.consentScreen,pe.consentLanguage,pe.vendorListVersion,pe.purposeConsents,pe.vendorConsents])),kt(this,"2",(kt(t={},Ue.CORE,[pe.version,pe.created,pe.lastUpdated,pe.cmpId,pe.cmpVersion,pe.consentScreen,pe.consentLanguage,pe.vendorListVersion,pe.policyVersion,pe.isServiceSpecific,pe.useNonStandardStacks,pe.specialFeatureOptins,pe.purposeConsents,pe.purposeLegitimateInterests,pe.purposeOneTreatment,pe.publisherCountryCode,pe.vendorConsents,pe.vendorLegitimateInterests,pe.publisherRestrictions]),kt(t,Ue.PUBLISHER_TC,[pe.publisherConsents,pe.publisherLegitimateInterests,pe.numCustomPurposes,pe.publisherCustomConsents,pe.publisherCustomLegitimateInterests]),kt(t,Ue.VENDORS_ALLOWED,[pe.vendorsAllowed]),kt(t,Ue.VENDORS_DISCLOSED,[pe.vendorsDisclosed]),t))});var xt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"process",value:function(e,t){var n=e.gvl;if(!n)throw new W("Unable to encode TCModel without a GVL");if(!n.isReady)throw new W("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.toUpperCase(),(null==t?void 0:t.version)>0&&(null==t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;var r=e.version-1;if(!this.processor[r])throw new W("Invalid version: ".concat(e.version));return this.processor[r](e,n)}}],null&&Ut(t.prototype,null),n&&Ut(t,n),e}();function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(xt,"processor",[function(e){return e},function(e,t){e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset(1);var n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach((function(n,r){n.forEach((function(o,i){if(o){var a=t.vendors[i];if(!a||a.deletedDate)n.unset(i);else if(0===a[r].length)if("legIntPurposes"===r&&0===a.purposes.length&&0===a.legIntPurposes.length&&a.specialPurposes.length>0);else if(e.isServiceSpecific)if(0===a.flexiblePurposes.length)n.unset(i);else{for(var u=e.publisherRestrictions.getRestrictions(i),c=!1,s=0,l=u.length;s<l&&!c;s++)c=u[s].restrictionType===ye.REQUIRE_CONSENT&&"purposes"===r||u[s].restrictionType===ye.REQUIRE_LI&&"legIntPurposes"===r;c||n.unset(i)}else n.unset(i)}}))})),e.vendorsDisclosed.set(t.vendors),e}]);var Ft=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"absCall",value:function(e,t,n,r){return new Promise((function(o,i){var a=new XMLHttpRequest;a.withCredentials=n,a.addEventListener("load",(function(){if(a.readyState==XMLHttpRequest.DONE)if(a.status>=200&&a.status<300){var e=a.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}o(e)}else i(new Error("HTTP Status: ".concat(a.status," response type: ").concat(a.responseType)))})),a.addEventListener("error",(function(){i(new Error("error"))})),a.addEventListener("abort",(function(){i(new Error("aborted"))})),null===t?a.open("GET",e,!0):a.open("POST",e,!0),a.responseType="json",a.timeout=r,a.ontimeout=function(){i(new Error("Timeout "+r+"ms "+e))},a.send(t)}))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),n,r)}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,n)}}],null&&Gt(t.prototype,null),n&&Gt(t,n),e}();function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Wt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ht(i,r,o,a,u,"next",e)}function u(e){Ht(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qt(e){return Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qt(e)}function Kt(e,t){return Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Kt(e,t)}function qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Qt(e);if(t){var a=Qt(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?Bt(r):o}}function Jt(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var Xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(i,e);var t,n,r,o=qt(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),zt(Bt(t=o.call(this)),"readyPromise",void 0),zt(Bt(t),"gvlSpecificationVersion",void 0),zt(Bt(t),"vendorListVersion",void 0),zt(Bt(t),"tcfPolicyVersion",void 0),zt(Bt(t),"lastUpdated",void 0),zt(Bt(t),"purposes",void 0),zt(Bt(t),"specialPurposes",void 0),zt(Bt(t),"features",void 0),zt(Bt(t),"specialFeatures",void 0),zt(Bt(t),"isReady_",!1),zt(Bt(t),"vendors_",void 0),zt(Bt(t),"vendorIds",void 0),zt(Bt(t),"fullVendorList",void 0),zt(Bt(t),"byPurposeVendorMap",void 0),zt(Bt(t),"bySpecialPurposeVendorMap",void 0),zt(Bt(t),"byFeatureVendorMap",void 0),zt(Bt(t),"bySpecialFeatureVendorMap",void 0),zt(Bt(t),"stacks",void 0),zt(Bt(t),"lang_",void 0),zt(Bt(t),"isLatest",!1);var n=i.baseUrl;if(t.lang_=i.DEFAULT_LANGUAGE,t.isVendorList(e))t.populate(e),t.readyPromise=Promise.resolve();else{if(!n)throw new J("must specify GVL.baseUrl before loading GVL json");if(e>0){var r=e;i.CACHE.has(r)?(t.populate(i.CACHE.get(r)),t.readyPromise=Promise.resolve()):(n+=i.versionedFilename.replace("[VERSION]",String(r)),t.readyPromise=t.fetchJson(n))}else i.CACHE.has(i.LATEST_CACHE_KEY)?(t.populate(i.CACHE.get(i.LATEST_CACHE_KEY)),t.readyPromise=Promise.resolve()):(t.isLatest=!0,t.readyPromise=t.fetchJson(n+i.latestFilename))}return t}return t=i,r=[{key:"baseUrl",get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new J("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}},{key:"emptyLanguageCache",value:function(e){var t=!1;return void 0===e&&i.LANGUAGE_CACHE.size>0?(i.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(i.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}},{key:"emptyCache",value:function(e){var t=!1;return Number.isInteger(e)&&e>=0?(i.CACHE.delete(e),t=!0):void 0===e&&(i.CACHE=new Map,t=!0),t}},{key:"isInstanceOf",value:function(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}}],(n=[{key:"cacheLanguage",value:function(){i.LANGUAGE_CACHE.has(this.lang_)||i.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})}},{key:"fetchJson",value:function(e){var t=this;return Wt((function(){var n,r;return Jt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n=t.populate,[4,Ft.fetch(e)];case 1:return n.apply(t,[o.sent()]),[3,3];case 2:throw r=o.sent(),new J(r.message);case 3:return[2]}}))}))()}},{key:"getJson",value:function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))}},{key:"changeLanguage",value:function(e){var t=this;return Wt((function(){var n,r,o,a;return Jt(this,(function(u){switch(u.label){case 0:if(n=e.toUpperCase(),!i.consentLanguages.has(n))return[3,6];if(n===t.lang_)return[3,5];if(t.lang_=n,!i.LANGUAGE_CACHE.has(n))return[3,1];for(var c in r=i.LANGUAGE_CACHE.get(n))r.hasOwnProperty(c)&&(t[c]=r[c]);return[3,5];case 1:o=i.baseUrl+i.languageFilename.replace("[LANG]",e),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,t.fetchJson(o)];case 3:return u.sent(),t.cacheLanguage(),[3,5];case 4:throw a=u.sent(),new J("unable to load language: "+a.message);case 5:return[3,7];case 6:throw new J("unsupported language ".concat(e));case 7:return[2]}}))}))()}},{key:"language",get:function(){return this.lang_}},{key:"isVendorList",value:function(e){return void 0!==e&&void 0!==e.vendors}},{key:"populate",value:function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&i.CACHE.set(i.LATEST_CACHE_KEY,this.getJson()),i.CACHE.has(this.vendorListVersion)||i.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}},{key:"mapVendors",value:function(e){var t=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((function(e){t.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((function(e){t.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((function(e){t.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((function(e){t.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((function(e){return+e}))),this.vendorIds=new Set(e),this.vendors_=e.reduce((function(e,n){var r=t.vendors_[String(n)];return r&&void 0===r.deletedDate&&(r.purposes.forEach((function(e){t.byPurposeVendorMap[String(e)].consent.add(n)})),r.specialPurposes.forEach((function(e){t.bySpecialPurposeVendorMap[String(e)].add(n)})),r.legIntPurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].legInt.add(n)})),r.flexiblePurposes&&r.flexiblePurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].flexible.add(n)})),r.features.forEach((function(e){t.byFeatureVendorMap[String(e)].add(n)})),r.specialFeatures.forEach((function(e){t.bySpecialFeatureVendorMap[String(e)].add(n)})),e[n]=r),e}),{})}},{key:"getFilteredVendors",value:function(e,t,n,r){var o=this,i=e.charAt(0).toUpperCase()+e.slice(1),a={};return("purpose"===e&&n?this["by"+i+"VendorMap"][String(t)][n]:this["by"+(r?"Special":"")+i+"VendorMap"][String(t)]).forEach((function(e){a[String(e)]=o.vendors[String(e)]})),a}},{key:"getVendorsWithConsentPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"consent")}},{key:"getVendorsWithLegIntPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"legInt")}},{key:"getVendorsWithFlexiblePurpose",value:function(e){return this.getFilteredVendors("purpose",e,"flexible")}},{key:"getVendorsWithSpecialPurpose",value:function(e){return this.getFilteredVendors("purpose",e,void 0,!0)}},{key:"getVendorsWithFeature",value:function(e){return this.getFilteredVendors("feature",e)}},{key:"getVendorsWithSpecialFeature",value:function(e){return this.getFilteredVendors("feature",e,void 0,!0)}},{key:"vendors",get:function(){return this.vendors_}},{key:"narrowVendorsTo",value:function(e){this.mapVendors(e)}},{key:"isReady",get:function(){return this.isReady_}},{key:"clone",value:function(){var e=new i(this.getJson());return this.lang_!==i.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}}])&&Yt(t.prototype,n),r&&Yt(t,r),i}(ve);function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tn(e){return tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tn(e)}function nn(e,t){return nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nn(e,t)}function rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=tn(e);if(t){var a=tn(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?$t(r):o}}zt(Xt,"LANGUAGE_CACHE",new Map),zt(Xt,"CACHE",new Map),zt(Xt,"LATEST_CACHE_KEY",0),zt(Xt,"DEFAULT_LANGUAGE","EN"),zt(Xt,"consentLanguages",new le),zt(Xt,"baseUrl_",void 0),zt(Xt,"latestFilename","vendor-list.json"),zt(Xt,"versionedFilename","archives/vendor-list-v[VERSION].json"),zt(Xt,"languageFilename","purposes-[LANG].json");var on=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(o,e);var t,n,r=rn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),en($t(t=r.call(this)),"isServiceSpecific_",!1),en($t(t),"supportOOB_",!0),en($t(t),"useNonStandardStacks_",!1),en($t(t),"purposeOneTreatment_",!1),en($t(t),"publisherCountryCode_","AA"),en($t(t),"version_",2),en($t(t),"consentScreen_",0),en($t(t),"policyVersion_",2),en($t(t),"consentLanguage_","EN"),en($t(t),"cmpId_",0),en($t(t),"cmpVersion_",0),en($t(t),"vendorListVersion_",0),en($t(t),"numCustomPurposes_",0),en($t(t),"gvl_",void 0),en($t(t),"created",void 0),en($t(t),"lastUpdated",void 0),en($t(t),"specialFeatureOptins",new Je),en($t(t),"purposeConsents",new Je),en($t(t),"purposeLegitimateInterests",new Je),en($t(t),"publisherConsents",new Je),en($t(t),"publisherLegitimateInterests",new Je),en($t(t),"publisherCustomConsents",new Je),en($t(t),"publisherCustomLegitimateInterests",new Je),en($t(t),"customPurposes",void 0),en($t(t),"vendorConsents",new Je),en($t(t),"vendorLegitimateInterests",new Je),en($t(t),"vendorsDisclosed",new Je),en($t(t),"vendorsAllowed",new Je),en($t(t),"publisherRestrictions",new xe),e&&(t.gvl=e),t.updated(),t}return t=o,(n=[{key:"gvl",get:function(){return this.gvl_},set:function(e){Xt.isInstanceOf(e)||(e=new Xt(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}},{key:"cmpId",get:function(){return this.cmpId_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new ne("cmpId",e);this.cmpId_=e}},{key:"cmpVersion",get:function(){return this.cmpVersion_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new ne("cmpVersion",e);this.cmpVersion_=e}},{key:"consentScreen",get:function(){return this.consentScreen_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new ne("consentScreen",e);this.consentScreen_=e}},{key:"consentLanguage",get:function(){return this.consentLanguage_},set:function(e){this.consentLanguage_=e}},{key:"publisherCountryCode",get:function(){return this.publisherCountryCode_},set:function(e){if(!/^([A-z]){2}$/.test(e))throw new ne("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}},{key:"vendorListVersion",get:function(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_},set:function(e){if((e=Number(e)>>0)<0)throw new ne("vendorListVersion",e);this.vendorListVersion_=e}},{key:"policyVersion",get:function(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_},set:function(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new ne("policyVersion",e)}},{key:"version",get:function(){return this.version_},set:function(e){this.version_=parseInt(e,10)}},{key:"isServiceSpecific",get:function(){return this.isServiceSpecific_},set:function(e){this.isServiceSpecific_=e}},{key:"useNonStandardStacks",get:function(){return this.useNonStandardStacks_},set:function(e){this.useNonStandardStacks_=e}},{key:"supportOOB",get:function(){return this.supportOOB_},set:function(e){this.supportOOB_=e}},{key:"purposeOneTreatment",get:function(){return this.purposeOneTreatment_},set:function(e){this.purposeOneTreatment_=e}},{key:"setAllVendorConsents",value:function(){this.vendorConsents.set(this.gvl.vendors)}},{key:"unsetAllVendorConsents",value:function(){this.vendorConsents.empty()}},{key:"setAllVendorsDisclosed",value:function(){this.vendorsDisclosed.set(this.gvl.vendors)}},{key:"unsetAllVendorsDisclosed",value:function(){this.vendorsDisclosed.empty()}},{key:"setAllVendorsAllowed",value:function(){this.vendorsAllowed.set(this.gvl.vendors)}},{key:"unsetAllVendorsAllowed",value:function(){this.vendorsAllowed.empty()}},{key:"setAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.set(this.gvl.vendors)}},{key:"unsetAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.empty()}},{key:"setAllPurposeConsents",value:function(){this.purposeConsents.set(this.gvl.purposes)}},{key:"unsetAllPurposeConsents",value:function(){this.purposeConsents.empty()}},{key:"setAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.set(this.gvl.purposes)}},{key:"unsetAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.empty()}},{key:"setAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}},{key:"unsetAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.empty()}},{key:"setAll",value:function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}},{key:"unsetAll",value:function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}},{key:"numCustomPurposes",get:function(){var e=this.numCustomPurposes_;if("object"==typeof this.customPurposes){var t=Object.keys(this.customPurposes).sort((function(e,t){return Number(e)-Number(t)}));e=parseInt(t.pop(),10)}return e},set:function(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new ne("numCustomPurposes",e)}},{key:"updated",value:function(){var e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}])&&Zt(t.prototype,n),o}(ve);function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}en(on,"consentLanguages",Xt.consentLanguages);var un=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e,t){var n,r="";return e=xt.process(e,t),(n=Array.isArray(null==t?void 0:t.segments)?t.segments:new jt(e,t)[""+e.version]).forEach((function(t,o){var i="";o<n.length-1&&(i="."),r+=Mt.encode(e,t)+i})),r}},{key:"decode",value:function(e,t){var n=e.split("."),r=n.length;t||(t=new on);for(var o=0;o<r;o++){var i=n[o],a=ie.decode(i.charAt(0)).substr(0,yt.segmentType),u=Be.ID_TO_KEY[bt.decode(a,yt.segmentType).toString()];Mt.decode(i,t,u)}return t}}],null&&an(t.prototype,null),n&&an(t,n),e}();function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fn={DIANOMI:885},pn=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ln(this,"_can_serve_ads",void 0),ln(this,"tcData",void 0),ln(this,"_can_cookie",void 0),this.tcData=t,this._can_serve_ads=n,this._can_cookie=r}var t,n;return t=e,(n=[{key:"toString",value:function(){return"permissions<can_serve_ads=".concat(this.can_serve_ads,", can_cookie=").concat(this.can_cookie,">")}},{key:"get_tcData",value:function(){return this.tcData||null}},{key:"gdpr",value:function(){var e;return(null===(e=this.tcData)||void 0===e?void 0:e.gdprApplies)||null}},{key:"gdpr_consent",value:function(){var e;return ho(this.tcData)?null:(null===(e=this.tcData)||void 0===e?void 0:e.tcString)||null}},{key:"can_serve_ads",value:function(){return this._can_serve_ads||!1}},{key:"can_cookie",value:function(){return this._can_cookie||!1}},{key:"initialize_can_serve_ads",value:function(e){null===this._can_serve_ads&&(this._can_serve_ads=e)}},{key:"initialize_can_cookie",value:function(e){null===this._can_cookie&&(this._can_cookie=e)}}])&&sn(t.prototype,n),e}();function dn(e){var t;if(!e.gdprApplies)throw new Error("decideTCF shouldn't be called if gdprApplies=false");var n={};"string"!=typeof e.purpose.consents&&(n=e.purpose.consents);var r,o={};"string"!=typeof e.purpose.legitimateInterests&&(o=e.purpose.legitimateInterests);var i,a=null===(r=e.vendor.legitimateInterests[fn.DIANOMI])||void 0===r||r,u=null===(i=e.vendor.consents[fn.DIANOMI])||void 0===i||i,c=null==e||null===(t=e.publisher)||void 0===t?void 0:t.restrictions;c&&Object.entries(c).forEach((function(e){var t,r,i=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,r)||function(e,t){if(e){if("string"==typeof e)return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],u=i[1];if("string"!=typeof u){var c=u[fn.DIANOMI];void 0!==c&&(c===ye.NOT_ALLOWED?(o[a]=!1,n[a]=!1):c===ye.REQUIRE_LI?n[a]=!1:c===ye.REQUIRE_CONSENT&&(o[a]=!1))}}));var s=Boolean(o[2]&&o[7]&&o[10]&&a||n[2]&&n[7]&&n[10]&&u);return[s,Boolean(s&&n[1]&&n[2]&&n[7]&&n[10]&&u)]}var hn={id:2,version:3};function yn(e,t){try{if(e.frames[t])return e}catch(e){}return e===window.top?null:yn(e.parent,t)}function vn(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function bn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){vn(i,r,o,a,u,"next",e)}function u(e){vn(i,r,o,a,u,"throw",e)}a(void 0)}))}}function gn(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var Sn,En,mn,On,_n,wn,Tn,In,Pn=50;function Nn(e,t){return An.apply(this,arguments)}function An(){return An=bn((function(e,t){var n,r,o=arguments;return gn(this,(function(i){switch(i.label){case 0:n=o.length>2&&void 0!==o[2]&&o[2];try{if("function"==typeof t.__tcfapi)return[2,!0]}catch(e){}return n?[2,!1]:[4,Cn(e,t)];case 1:return null===(r=i.sent())?[2,!1]:(function(e,t,n){var r={};t.__tcfapi=function(e,t,o,i){var a="".concat(e,"-").concat(Math.random()),u={__tcfapiCall:{command:e,parameter:i,version:t,callId:a}};r[a]=o,n.postMessage(u,"*")},e.addEventListener("message",(function(e){return function(e,t){var n=R(e),r=null==n?void 0:n.__tcfapiReturn;if(r){var o=t[r.callId];"function"==typeof o&&(o(r.returnValue,r.success),r.callId.startsWith("addEventListener")||(t[r.callId]=null))}}(e,r)}),!1),window.addEventListener("message",(function(t){return function(e,t){var n=R(e);n.__tcfapiReturn&&t.postMessage(n)}(t,e)}),!1)}(t,t,r),[2,!0])}}))})),An.apply(this,arguments)}function Cn(e,t){return Rn.apply(this,arguments)}function Rn(){return(Rn=bn((function(e,t){var n,r;return gn(this,(function(o){switch(o.label){case 0:n=0,o.label=1;case 1:return n<e?null!==(r=yn(t,"__tcfapiLocator"))?[2,r]:[4,Dn()]:[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2,null]}}))}))).apply(this,arguments)}function Dn(){return kn.apply(this,arguments)}function kn(){return(kn=bn((function(){return gn(this,(function(e){return[2,new Promise((function(e){setTimeout((function(){e()}),Pn)}))]}))}))).apply(this,arguments)}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(In=Sn||(Sn={})).PING="ping",In.GET_TC_DATA="getTCData",In.GET_IN_APP_TC_DATA="getInAppTCData",In.GET_VENDOR_LIST="getVendorList",In.ADD_EVENT_LISTENER="addEventListener",In.REMOVE_EVENT_LISTENER="removeEventListener",(Tn=En||(En={})).STUB="stub",Tn.LOADING="loading",Tn.LOADED="loaded",Tn.ERROR="error",(wn=mn||(mn={})).VISIBLE="visible",wn.HIDDEN="hidden",wn.DISABLED="disabled",(_n=On||(On={})).TC_LOADED="tcloaded",_n.CMP_UI_SHOWN="cmpuishown",_n.USER_ACTION_COMPLETE="useractioncomplete";var Ln=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jn(this,"listenerId",void 0),jn(this,"callback",void 0),jn(this,"next",void 0),jn(this,"param",void 0),jn(this,"success",!0),Object.assign(this,{callback:t,listenerId:r,param:n,next:o});try{this.respond()}catch(e){this.invokeCallback(null)}}var t,n;return t=e,(n=[{key:"invokeCallback",value:function(e){var t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)}}])&&Vn(t.prototype,n),e}();function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e){return Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Un(e)}function xn(e,t){return xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xn(e,t)}function Gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Un(e);if(t){var a=Un(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var Fn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(o,e);var t,n,r=Gn(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"respond",value:function(){this.throwIfParamInvalid(),this.invokeCallback(new sr(this.param,this.listenerId))}},{key:"throwIfParamInvalid",value:function(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")}}])&&Mn(t.prototype,n),o}(Ln);function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Hn(this,"eventQueue",new Map),Hn(this,"queueNumber",0)}var t,n;return t=e,(n=[{key:"add",value:function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}},{key:"remove",value:function(e){return this.eventQueue.delete(e)}},{key:"exec",value:function(){this.eventQueue.forEach((function(e,t){new Fn(e.callback,e.param,t,e.next)}))}},{key:"clear",value:function(){this.queueNumber=0,this.eventQueue.clear()}},{key:"size",get:function(){return this.eventQueue.size}}])&&Bn(t.prototype,n),e}();function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"reset",value:function(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=En.LOADING,this.disabled=!1,this.displayStatus=mn.HIDDEN,this.eventQueue.clear()}}],null&&Yn(t.prototype,null),n&&Yn(t,n),e}();function Kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}zn(Qn,"apiVersion","2"),zn(Qn,"tcfPolicyVersion",void 0),zn(Qn,"eventQueue",new Wn),zn(Qn,"cmpStatus",En.LOADING),zn(Qn,"disabled",!1),zn(Qn,"displayStatus",mn.HIDDEN),zn(Qn,"cmpId",void 0),zn(Qn,"cmpVersion",void 0),zn(Qn,"eventStatus",void 0),zn(Qn,"gdprApplies",void 0),zn(Qn,"tcModel",void 0),zn(Qn,"tcString",void 0);var qn=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Kn(this,"cmpId",Qn.cmpId),Kn(this,"cmpVersion",Qn.cmpVersion),Kn(this,"gdprApplies",Qn.gdprApplies),Kn(this,"tcfPolicyVersion",Qn.tcfPolicyVersion)};function Jn(e,t,n){return Jn=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&$n(o,n.prototype),o},Jn.apply(null,arguments)}function Xn(e){return Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xn(e)}function $n(e,t){return $n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$n(e,t)}function Zn(e){var t="function"==typeof Map?new Map:void 0;return Zn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Jn(e,arguments,Xn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),$n(r,e)},Zn(e)}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(e,t,n){return nr=cr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&ar(o,n.prototype),o},nr.apply(null,arguments)}function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ir(e){return ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ir(e)}function ar(e,t){return ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ar(e,t)}function ur(e){var t="function"==typeof Map?new Map:void 0;return ur=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return nr(e,arguments,ir(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ar(r,e)},ur(e)}function cr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Zn(qn);var sr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}(a,e);var t,n,r,o,i=(t=a,n=cr(),function(){var e,r,o,i=ir(t);if(n){var a=ir(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return r=this,!(o=e)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?tr(r):o});function a(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),or(tr(n=i.call(this)),"tcString",void 0),or(tr(n),"listenerId",void 0),or(tr(n),"eventStatus",void 0),or(tr(n),"cmpStatus",void 0),or(tr(n),"isServiceSpecific",void 0),or(tr(n),"useNonStandardStacks",void 0),or(tr(n),"publisherCC",void 0),or(tr(n),"purposeOneTreatment",void 0),or(tr(n),"outOfBand",void 0),or(tr(n),"purpose",void 0),or(tr(n),"vendor",void 0),or(tr(n),"specialFeatureOptins",void 0),or(tr(n),"publisher",void 0),n.eventStatus=Qn.eventStatus,n.cmpStatus=Qn.cmpStatus,n.listenerId=t,Qn.gdprApplies){var r=Qn.tcModel;n.tcString=Qn.tcString,n.isServiceSpecific=r.isServiceSpecific,n.useNonStandardStacks=r.useNonStandardStacks,n.purposeOneTreatment=r.purposeOneTreatment,n.publisherCC=r.publisherCountryCode,n.outOfBand={allowedVendors:n.createVectorField(r.vendorsAllowed,e),disclosedVendors:n.createVectorField(r.vendorsDisclosed,e)},n.purpose={consents:n.createVectorField(r.purposeConsents),legitimateInterests:n.createVectorField(r.purposeLegitimateInterests)},n.vendor={consents:n.createVectorField(r.vendorConsents,e),legitimateInterests:n.createVectorField(r.vendorLegitimateInterests,e)},n.specialFeatureOptins=n.createVectorField(r.specialFeatureOptins),n.publisher={consents:n.createVectorField(r.publisherConsents),legitimateInterests:n.createVectorField(r.publisherLegitimateInterests),customPurpose:{consents:n.createVectorField(r.publisherCustomConsents),legitimateInterests:n.createVectorField(r.publisherCustomLegitimateInterests)},restrictions:n.createRestrictions(r.publisherRestrictions)}}return n}return r=a,o=[{key:"createRestrictions",value:function(e){var t={};if(e.numRestrictions>0)for(var n=function(n){var r=n.toString();e.getRestrictions(n).forEach((function(e){var n=e.purposeId.toString();t[n]||(t[n]={}),t[n][r]=e.restrictionType}))},r=e.getMaxVendorId(),o=1;o<=r;o++)n(o);return t}},{key:"createVectorField",value:function(e,t){return t?t.reduce((function(t,n){return t[String(n)]=e.has(Number(n)),t}),{}):(n=e,function(e){if(Array.isArray(e))return er(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?er(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reduce((function(e,t){return e[t[0].toString(10)]=t[1],e}),{});var n}}],o&&rr(r.prototype,o),a}(ur(qn));function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e){return pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pr(e)}function dr(e,t){return dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dr(e,t)}function hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=pr(e);if(t){var a=pr(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var yr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dr(e,t)}(o,e);var t,n,r=hr(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),delete(t=r.call(this,e)).outOfBand,t}return t=o,(n=[{key:"createVectorField",value:function(e){return(t=e,function(e){if(Array.isArray(e))return lr(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lr(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reduce((function(e,t){return e+(t[1]?"1":"0")}),"");var t}},{key:"createRestrictions",value:function(e){var t={};if(e.numRestrictions>0){var n=function(n){var r=n+1;e.getRestrictions(r).forEach((function(e){var r=e.restrictionType.toString(),o=e.purposeId.toString(),i=t[o].substr(0,n),a=t[o].substr(n+1);t[o]=i+r+a}))},r=e.getMaxVendorId();e.getRestrictions().forEach((function(e){t[e.purposeId.toString()]="_".repeat(r)}));for(var o=0;o<r;o++)n(o)}return t}}])&&fr(t.prototype,n),o}(sr);function vr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function br(e,t,n){return br=Or()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Er(o,n.prototype),o},br.apply(null,arguments)}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sr(e){return Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sr(e)}function Er(e,t){return Er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Er(e,t)}function mr(e){var t="function"==typeof Map?new Map:void 0;return mr=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return br(e,arguments,Sr(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Er(r,e)},mr(e)}function Or(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Er(e,t)}(o,e);var t,n,r=(t=o,n=Or(),function(){var e,r,o,i=Sr(t);if(n){var a=Sr(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return r=this,!(o=e)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?vr(r):o});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),gr(vr(e=r.call(this)),"cmpLoaded",!0),gr(vr(e),"cmpStatus",Qn.cmpStatus),gr(vr(e),"displayStatus",Qn.displayStatus),gr(vr(e),"apiVersion",String(Qn.apiVersion)),gr(vr(e),"gvlVersion",void 0),Qn.tcModel&&Qn.tcModel.vendorListVersion&&(e.gvlVersion=+Qn.tcModel.vendorListVersion),e}return o}(mr(qn));function wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e){return Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tr(e)}function Ir(e,t){return Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ir(e,t)}function Pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Tr(e);if(t){var a=Tr(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var Nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(o,e);var t,n,r=Pr(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"respond",value:function(){this.invokeCallback(new _r)}}])&&wr(t.prototype,n),o}(Ln);function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e){return Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cr(e)}function Rr(e,t){return Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rr(e,t)}function Dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Cr(e);if(t){var a=Cr(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}(o,e);var t,n,r=Dr(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"respond",value:function(){this.throwIfParamInvalid(),this.invokeCallback(new yr(this.param))}}])&&Ar(t.prototype,n),o}(Fn);function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jr(e){return jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jr(e)}function Lr(e,t){return Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lr(e,t)}function Mr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=jr(e);if(t){var a=jr(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var Ur=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(o,e);var t,n,r=Mr(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"respond",value:function(){var e,t=this,n=Qn.tcModel,r=n.vendorListVersion;void 0===this.param&&(this.param=r),(e=this.param===r&&n.gvl?n.gvl:new Xt(this.param)).readyPromise.then((function(){t.invokeCallback(e.getJson())}))}}])&&Vr(t.prototype,n),o}(Ln);function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gr(e,t,n){return Gr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},Gr(e,t,n||e)}function Fr(e){return Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fr(e)}function Br(e,t){return Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Br(e,t)}function Hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Fr(e);if(t){var a=Fr(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var Wr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}(o,e);var t,n,r=Hr(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"respond",value:function(){this.listenerId=Qn.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),Gr(Fr(o.prototype),"respond",this).call(this)}}])&&xr(t.prototype,n),o}(Fn);function Yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e){return zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zr(e)}function Qr(e,t){return Qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qr(e,t)}function Kr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=zr(e);if(t){var a=zr(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qr(e,t)}(o,e);var t,n,r=Kr(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"respond",value:function(){this.invokeCallback(Qn.eventQueue.remove(this.param))}}])&&Yr(t.prototype,n),o}(Ln);function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xr=Sn.PING,$r=Sn.GET_TC_DATA,Zr=Sn.GET_IN_APP_TC_DATA,eo=Sn.GET_VENDOR_LIST,to=Sn.ADD_EVENT_LISTENER,no=Sn.REMOVE_EVENT_LISTENER,ro=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Jr(ro,Xr,Nr),Jr(ro,$r,Fn),Jr(ro,Zr,kr),Jr(ro,eo,Ur),Jr(ro,to,Wr),Jr(ro,no,qr);var io=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"has",value:function(e){return"string"==typeof e&&(e=Number(e)),this.set_.has(e)}}],null&&oo(t.prototype,null),n&&oo(t,n),e}();function ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uo(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function co(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){uo(i,r,o,a,u,"next",e)}function u(e){uo(i,r,o,a,u,"throw",e)}a(void 0)}))}}function so(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ao(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(io,"set_",new Set([0,2,void 0,null]));var fo=20,po=10;function ho(e){return void 0!==(null==e?void 0:e.apiVersion)&&void 0!==(null==e?void 0:e.displayStatus)}function yo(e,t,n){return vo.apply(this,arguments)}function vo(){return vo=co((function(e,t,n){var r,o,i,a,u,c,s=arguments;return lo(this,(function(l){switch(l.label){case 0:return[4,Nn(fo,n,r=s.length>3&&void 0!==s[3]&&s[3])];case 1:return o=l.sent(),r&&!o?[2,null]:o?[4,bo(n)]:[2,new pn(null,e,t)];case 2:return l.sent()?[4,So(n)]:[2,new pn(null,e,t)];case 3:return null===(i=l.sent())?[2,new pn(null,e,t)]:!i.gdprApplies||ho(i)?[2,new pn(i,e,t)]:(a=so(dn(i),2),u=a[0],c=a[1],[2,new pn(i,u,c)])}}))})),vo.apply(this,arguments)}function bo(e){return go.apply(this,arguments)}function go(){return go=co((function(e){return lo(this,(function(t){return[2,new Promise((function(t){var n=0,r=setInterval(co((function(){var o,i;return lo(this,(function(a){switch(a.label){case 0:return n++>50&&(clearInterval(r),t(!1)),[4,_o(e,"ping")];case 1:return o=so.apply(void 0,[a.sent(),1]),(i=o[0].cmpLoaded)&&(clearInterval(r),t(i)),[2]}}))})),100)}))]}))})),go.apply(this,arguments)}function So(e){return Eo.apply(this,arguments)}function Eo(){return(Eo=co((function(e){var t,n,r;return lo(this,(function(o){switch(o.label){case 0:t=0,o.label=1;case 1:return t<fo?[4,_o(e,"addEventListener")]:[3,9];case 2:if(n=so.apply(void 0,[o.sent(),2]),r=n[0],!n[1])return[3,8];switch(r.eventStatus){case On.TC_LOADED:return[3,3];case On.USER_ACTION_COMPLETE:return[3,4];case On.CMP_UI_SHOWN:return[3,5]}return[3,7];case 3:case 4:return[2,r];case 5:return[4,mo(e)];case 6:return[2,so.apply(void 0,[o.sent(),1])[0]];case 7:if("loaded"===r.cmpStatus)return[2,r];throw new Error("Unknown Event Status: "+r.eventStatus);case 8:return t++,[3,1];case 9:return[2,null]}}))}))).apply(this,arguments)}function mo(e){return Oo.apply(this,arguments)}function Oo(){return Oo=co((function(e){return lo(this,(function(t){return[2,new Promise((function(t){var n=function(e,n){e.eventStatus===On.USER_ACTION_COMPLETE&&t([e,n])};function r(){return r=co((function(){return lo(this,(function(t){switch(t.label){case 0:return[4,_o(e,"addEventListener",n)];case 1:return t.sent(),[2]}}))})),r.apply(this,arguments)}!function(){r.apply(this,arguments)}(),setTimeout(co((function(){var n;return lo(this,(function(r){switch(r.label){case 0:return[4,_o(e,"ping")];case 1:return n=r.sent(),_o(e,"removeEventListener"),t(n),[2]}}))})),1e3*po)}))]}))})),Oo.apply(this,arguments)}function _o(e,t,n){return wo.apply(this,arguments)}function wo(){return(wo=co((function(e,t,n){return lo(this,(function(r){return[2,new Promise((function(r,o){var i=null!=n?n:function(e,t){r([e,t])};void 0!==e.__tcfapi?e.__tcfapi(t,2,i):o("__tcfapi is undefined")}))]}))}))).apply(this,arguments)}function To(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Io(e,t){return Po.apply(this,arguments)}function Po(){var e;return e=function(e,t){var n,r,o,i,a,u;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(c){switch(c.label){case 0:return n="https://data.dianomi.com/frontend/usync?redirect=https%3A%2F%2Fdata.dianomi.com%2Ffrontend%2Fping%3Fuid%3D%24UID",null!==e&&!0===e&&(n+="&gdpr=1&gdpr_consent="+t),[4,fetch(n)];case 1:return(r=c.sent()).redirected?(o=r.url,i=new URL(o),a=new URLSearchParams(i.search),null===(u=a.get("uid"))?[2,void 0]:[2,u]):[2,void 0]}}))},Po=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){To(i,r,o,a,u,"next",e)}function u(e){To(i,r,o,a,u,"throw",e)}a(void 0)}))},Po.apply(this,arguments)}function No(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var Ao=15552e3,Co="DIANOMI-CLICK-COOKIE",Ro="session",Do="dnt";function ko(){var e;return e=function(e,t){var n,r;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(o){switch(o.label){case 0:return Fo()?(Mo(),document.cookie=Co+"=;Expires=Mon, 1 Jan 1970 00:00:00 GMT",[2]):(function(){var e=localStorage.getItem(Co);if(null!==e){var t=JSON.parse(e).timestamp;if(null!==t){var n=new Date(Date.parse(t));((new Date).getTime()-n.getTime())/1e3>Ao&&Mo()}}}(),n=Uo(),void 0!==(r=xo(n))?[3,2]:[4,Io(e,t)]);case 1:r=o.sent(),o.label=2;case 2:return void 0===r||(function(e){var t="".concat(Co,"=").concat(e,"; max-age=").concat(Ao);document.cookie=t}(r),void 0===n.localStorageId&&jo(r)),[2]}}))},ko=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){No(i,r,o,a,u,"next",e)}function u(e){No(i,r,o,a,u,"throw",e)}a(void 0)}))},ko.apply(this,arguments)}function Vo(){if(!Fo()){var e=xo(Uo());if(void 0!==e)return{source:"dianomi.com",atype:1,stype:"ppuid",uids:[{id:e,atype:1,ext:{stype:"ppuid"}}]}}}function jo(e){var t={id:e,timestamp:(new Date).toISOString()};localStorage.setItem(Co,JSON.stringify(t))}function Lo(){var e=localStorage.getItem(Co);if(null!==e){var t=null;try{t=JSON.parse(e)}catch(e){return void console.error("Error parsing localStorage data:",e)}if(null!==t)return jo(t.id),t.id}}function Mo(){localStorage.removeItem(Co)}function Uo(){return{localStorageId:Lo(),firstPartyId:Go(Co),thirdPartyId:Go(Ro)}}function xo(e){var t=!0,n=!1,r=void 0;try{for(var o,i=Object.values(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(void 0!==a)return a}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}function Go(e){var t;return null===(t=document.cookie.split("; ").find((function(t){return t.startsWith(e+"=")})))||void 0===t?void 0:t.split("=")[1]}function Fo(){var e=Go(Do);return void 0!==e&&""!==e}function Bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ho(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var Wo=1293,Yo=1;function zo(e,t){var n,r,o;if(null===e)return!t;if(r=e,null!=(o=_r)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](r):r instanceof o)return!1;if(!e.gdprApplies)return!0;if(!e.vendor.consents[fn.DIANOMI]||!e.purpose.consents[Yo])return!1;var i=!1,a=null==e||null===(n=e.publisher)||void 0===n?void 0:n.restrictions;return a?(Object.entries(a).forEach((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bo(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1];if("string"!=typeof a){var u=a[fn.DIANOMI];void 0!==u&&(u===ye.NOT_ALLOWED?o===Yo.toString()&&(i=!0):u===ye.REQUIRE_LI&&o===Yo.toString()&&(i=!0))}})),!i):!i}function Qo(e,t){return Ko.apply(this,arguments)}function Ko(){var e;return e=function(e,t){var n,r,o;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(i){switch(i.label){case 0:return e.dnt?[2]:[4,qo(e.dianomiContextHost,t)];case 1:return(n=i.sent())?(r=[],e.identity.id5&&r.push({name:"id5Id",params:{partner:Wo},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}),e.identity.sharedId&&r.push({name:"sharedId",storage:{type:"cookie",name:"sharedId",expires:90,refreshInSeconds:28800}}),e.identity.dmp&&zo(e.tcfPermissions.get_tcData(),e.inGDPR)&&(function(e,t){ko.apply(this,arguments)}(e.tcfPermissions.gdpr(),e.tcfPermissions.gdpr_consent()),r.push({name:"pubProvidedId",params:{eidsFunction:Vo}})),o={consentManagement:{gdpr:{cmpApi:"iab",timeout:8e3,defaultGdprScope:e.inGDPR}},debug:!0,userSync:{userIds:r,auctionDelay:50}},n.setConfig(o),[4,n.getUserIdsAsync()]):[2];case 2:return i.sent(),[2,n.getUserIdsAsEids()]}}))},Ko=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ho(i,r,o,a,u,"next",e)}function u(e){Ho(i,r,o,a,u,"throw",e)}a(void 0)}))},Ko.apply(this,arguments)}function qo(e,t){var n=t.frameDocument,r=t.frameWindow;return new Promise((function(t){try{if(null==r?void 0:r.pbjs)return void t(r.pbjs);var o=n.createElement("script");o.src="https://".concat(e,"/js/contextfeed/prebid.js"),n.body.appendChild(o),o.onload=function(){r.pbjs?t(r.pbjs):t(null)},o.onerror=function(){t(null)}}catch(e){t(null)}}))}function Jo(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Xo(e){return $o.apply(this,arguments)}function $o(){var e;return e=function(e){var t;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Zo(e)];case 1:return[2,n.sent()];case 2:return t=n.sent(),console.error("USP Error: ",t),[2,null];case 3:return[2]}}))},$o=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Jo(i,r,o,a,u,"next",e)}function u(e){Jo(i,r,o,a,u,"throw",e)}a(void 0)}))},$o.apply(this,arguments)}function Zo(e){return new Promise((function(t,n){var r=yn(e,"__uspapiLocator");if(r){var o,i,a,u=function(e,t){return"function"==typeof e.__uspapi}(e);u||(i=r,a={},(o=e).__uspapi=function(e,t,n){var r="usp-".concat(e,"-").concat(Math.random()),o={__uspapiCall:{command:e,parameter:"",version:t,callId:r}};a[r]=n,i.postMessage(o,"*")},o.addEventListener("message",(function(e){return function(e,t){var n;try{n="string"==typeof e.data?JSON.parse(e.data):e.data}catch(t){n=e.data}var r=null==n?void 0:n.__uspapiReturn;if(r){var o=t[r.callId];"function"==typeof o&&o(r.returnValue,r.success)}}(e,a)}),!1)),e.__uspapi?e.__uspapi("getUSPData",1,(function(e){(null==e?void 0:e.uspString)?t(e.uspString):n("No USP string present")})):n("No __uspapi on dianomi window")}else n("No __uspapiLocator frame")}))}function ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ti=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ei(this,"gppVersion",void 0),ei(this,"cmpStatus",void 0),ei(this,"cmpDisplayStatus",void 0),ei(this,"signalStatus",void 0),ei(this,"supportedAPIs",void 0),ei(this,"cmpId",void 0),ei(this,"sectionList",void 0),ei(this,"applicableSections",void 0),ei(this,"gppString",void 0),ei(this,"parsedSections",void 0),this.gppVersion=t.gppVersion,this.cmpStatus=t.cmpStatus,this.cmpDisplayStatus=t.cmpDisplayStatus,this.signalStatus=t.signalStatus,this.supportedAPIs=t.supportedAPIs,this.cmpId=t.cmpId,this.sectionList=t.gppModel.getSectionIds(),this.applicableSections=t.applicableSections,this.gppString=t.gppModel.encode(),this.parsedSections=t.gppModel.toObject()};function ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oi=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ri(this,"callback",void 0),ri(this,"parameter",void 0),ri(this,"success",!0),ri(this,"cmpApiContext",void 0),this.cmpApiContext=t,Object.assign(this,{callback:n,parameter:r})}var t,n;return t=e,(n=[{key:"execute",value:function(){try{return this.respond()}catch(e){return this.invokeCallback(null),null}}},{key:"invokeCallback",value:function(e){var t=null!==e;this.callback&&this.callback(e,t)}}])&&ni(t.prototype,n),e}();function ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ai(e){return ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ai(e)}function ui(e,t){return ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ui(e,t)}function ci(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=ai(e);if(t){var a=ai(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var si=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ui(e,t)}(o,e);var t,n,r=ci(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"respond",value:function(){var e=new ti(this.cmpApiContext);this.invokeCallback(e)}}])&&ii(t.prototype,n),o}(oi);function li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fi(e){return fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fi(e)}function pi(e,t){return pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pi(e,t)}function di(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=fi(e);if(t){var a=fi(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var hi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pi(e,t)}(o,e);var t,n,r=di(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>.<field> parameter required");var e=this.parameter.split(".");if(2!=e.length)throw new Error("Field name must be in the format <section>.<fieldName>");var t=e[0],n=e[1],r=this.cmpApiContext.gppModel.getFieldValue(t,n);this.invokeCallback(r)}}])&&li(t.prototype,n),o}(oi);function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vi(e){return vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vi(e)}function bi(e,t){return bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bi(e,t)}function gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=vi(e);if(t){var a=vi(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var Si=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bi(e,t)}(o,e);var t,n,r=gi(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section> parameter required");var e=null;this.cmpApiContext.gppModel.hasSection(this.parameter)&&(e=this.cmpApiContext.gppModel.getSection(this.parameter)),this.invokeCallback(e)}}])&&yi(t.prototype,n),o}(oi);function Ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mi(e){return mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mi(e)}function Oi(e,t){return Oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oi(e,t)}function _i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=mi(e);if(t){var a=mi(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var wi,Ti=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oi(e,t)}(o,e);var t,n,r=_i(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>[.version] parameter required");var e=this.cmpApiContext.gppModel.hasSection(this.parameter);this.invokeCallback(e)}}])&&Ei(t.prototype,n),o}(oi);function Ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.ADD_EVENT_LISTENER="addEventListener",e.GET_FIELD="getField",e.GET_SECTION="getSection",e.HAS_SECTION="hasSection",e.PING="ping",e.REMOVE_EVENT_LISTENER="removeEventListener"}(wi||(wi={}));var Pi=function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ii(this,"eventName",void 0),Ii(this,"listenerId",void 0),Ii(this,"data",void 0),Ii(this,"pingData",void 0),this.eventName=t,this.listenerId=n,this.data=r,this.pingData=o};function Ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ai(e){return Ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ai(e)}function Ci(e,t){return Ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ci(e,t)}function Ri(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Ai(e);if(t){var a=Ai(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var Di=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ci(e,t)}(o,e);var t,n,r=Ri(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"respond",value:function(){var e=this.cmpApiContext.eventQueue.add({callback:this.callback,parameter:this.parameter}),t=new Pi("listenerRegistered",e,!0,new ti(this.cmpApiContext));this.invokeCallback(t)}}])&&Ni(t.prototype,n),o}(oi);function ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vi(e){return Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vi(e)}function ji(e,t){return ji=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ji(e,t)}function Li(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Vi(e);if(t){var a=Vi(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var Mi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ji(e,t)}(o,e);var t,n,r=Li(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"respond",value:function(){var e=this.parameter,t=this.cmpApiContext.eventQueue.remove(e),n=new Pi("listenerRemoved",e,t,new ti(this.cmpApiContext));this.invokeCallback(n)}}])&&ki(t.prototype,n),o}(oi);function Ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xi,Gi,Fi,Bi,Hi=wi.ADD_EVENT_LISTENER,Wi=wi.GET_FIELD,Yi=wi.GET_SECTION,zi=wi.HAS_SECTION,Qi=wi.PING,Ki=wi.REMOVE_EVENT_LISTENER,qi=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function Ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ui(qi,Hi,Di),Ui(qi,Wi,hi),Ui(qi,Yi,Si),Ui(qi,zi,Ti),Ui(qi,Qi,si),Ui(qi,Ki,Mi),function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(xi||(xi={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(Gi||(Gi={})),function(e){e.GPP_LOADED="gpploaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(Fi||(Fi={})),function(e){e.NOT_READY="not ready",e.READY="ready"}(Bi||(Bi={}));var Zi=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$i(this,"callQueue",void 0),$i(this,"customCommands",void 0),$i(this,"cmpApiContext",void 0),this.cmpApiContext=t,n){var r=wi.ADD_EVENT_LISTENER;if(null==n?void 0:n[r])throw new Error("Built-In Custom Commmand for ".concat(r," not allowed"));if(r=wi.REMOVE_EVENT_LISTENER,null==n?void 0:n[r])throw new Error("Built-In Custom Commmand for ".concat(r," not allowed"));this.customCommands=n}try{this.callQueue=window.__gpp()||[]}catch(e){this.callQueue=[]}finally{window.__gpp=this.apiCall.bind(this),this.purgeQueuedCalls()}}var t,n;return t=e,(n=[{key:"apiCall",value:function(e,t,n,r){if("string"!=typeof e)t(null,!1);else{if(t&&"function"!=typeof t)throw new Error("invalid callback function");this.isCustomCommand(e)?this.customCommands[e](t,n):this.isBuiltInCommand(e)?new qi[e](this.cmpApiContext,t,n).execute():t&&t(null,!1)}}},{key:"purgeQueuedCalls",value:function(){var e=this.callQueue;this.callQueue=[],e.forEach((function(e){var t,n;(t=window).__gpp.apply(t,function(e){if(Array.isArray(e))return Ji(e)}(n=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Ji(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ji(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}))}},{key:"isCustomCommand",value:function(e){return this.customCommands&&"function"==typeof this.customCommands[e]}},{key:"isBuiltInCommand",value:function(e){return void 0!==qi[e]}}])&&Xi(t.prototype,n),e}();function ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var na=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ta(this,"eventQueue",new Map),ta(this,"queueNumber",1e3),ta(this,"cmpApiContext",void 0),this.cmpApiContext=t;try{for(var n=window.__gpp("events")||[],r=0;r<n.length;r++){var o=n[r];this.eventQueue.set(o.id,{callback:o.callback,parameter:o.parameter})}}catch(e){console.log(e)}}var t,n;return t=e,(n=[{key:"add",value:function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}},{key:"get",value:function(e){return this.eventQueue.get(e)}},{key:"remove",value:function(e){return this.eventQueue.delete(e)}},{key:"exec",value:function(e,t){var n=this;this.eventQueue.forEach((function(r,o){var i=new Pi(e,o,t,new ti(n.cmpApiContext));r.callback(i,!0)}))}},{key:"clear",value:function(){this.queueNumber=1e3,this.eventQueue.clear()}},{key:"size",get:function(){return this.eventQueue.size}}])&&ea(t.prototype,n),e}();function ra(e,t,n){return ra=ua()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&ia(o,n.prototype),o},ra.apply(null,arguments)}function oa(e){return oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oa(e)}function ia(e,t){return ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ia(e,t)}function aa(e){var t="function"==typeof Map?new Map:void 0;return aa=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ra(e,arguments,oa(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ia(r,e)},aa(e)}function ua(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ca=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ia(e,t)}(o,e);var t,n,r=(t=o,n=ua(),function(){var e,r,o,i=oa(t);if(n){var a=oa(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return r=this,!(o=e)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="DecodingError",t}return o}(aa(Error));function sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var la=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e,t){var n=[];if(e>=1)for(n.push(1);e>=2*n[0];)n.unshift(2*n[0]);for(var r="",o=0;o<n.length;o++){var i=n[o];e>=i?(r+="1",e-=i):r+="0"}for(;r.length<t;)r="0"+r;return r}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e))throw new ca("Undecodable FixedInteger '"+e+"'");for(var t=0,n=[],r=0;r<e.length;r++)n[e.length-(r+1)]=0===r?1:2*n[e.length-r];for(var o=0;o<e.length;o++)"1"===e.charAt(o)&&(t+=n[o]);return t}}],null&&sa(t.prototype,null),n&&sa(t,n),e}();function fa(e,t,n){return fa=ya()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&da(o,n.prototype),o},fa.apply(null,arguments)}function pa(e){return pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pa(e)}function da(e,t){return da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},da(e,t)}function ha(e){var t="function"==typeof Map?new Map:void 0;return ha=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return fa(e,arguments,pa(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),da(r,e)},ha(e)}function ya(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var va=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&da(e,t)}(o,e);var t,n,r=(t=o,n=ya(),function(){var e,r,o,i=pa(t);if(n){var a=pa(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return r=this,!(o=e)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="EncodingError",t}return o}(ha(Error));function ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sa=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"encode",value:function(t){if(!/^[0-1]*$/.test(t))throw new va("Unencodable Base64Url '"+t+"'");t=this.pad(t);for(var n="",r=0;r<=t.length-6;){var o=t.substring(r,r+6);try{var i=la.decode(o);n+=e.DICT.charAt(i),r+=6}catch(e){throw new va("Unencodable Base64Url '"+t+"'")}}return n}},{key:"decode",value:function(t){if(!/^[A-Za-z0-9\-_]*$/.test(t))throw new ca("Undecodable Base64URL string");for(var n="",r=0;r<t.length;r++){var o=t.charAt(r),i=e.REVERSE_DICT.get(o);n+=la.encode(i,6)}return n}}])&&ba(t.prototype,n),e}();function Ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(e){return ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ma(e)}function Oa(e,t){return Oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oa(e,t)}function _a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=ma(e);if(t){var a=ma(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}ga(Sa,"DICT","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ga(Sa,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]));var wa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oa(e,t)}(o,e);var t,n,r=_a(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"pad",value:function(e){for(;e.length%8>0;)e+="0";for(;e.length%6>0;)e+="0";return e}}])&&Ea(t.prototype,n),o}(Sa);function Ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ia=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e){var t=[];if(e>=1&&(t.push(1),e>=2)){t.push(2);for(var n=2;e>=t[n-1]+t[n-2];)t.push(t[n-1]+t[n-2]),n++}for(var r="1",o=t.length-1;o>=0;o--){var i=t[o];e>=i?(r="1"+r,e-=i):r="0"+r}return r}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new ca("Undecodable FibonacciInteger '"+e+"'");for(var t=0,n=[],r=0;r<e.length-1;r++)0===r?n.push(1):1===r?n.push(2):n.push(n[r-1]+n[r-2]);for(var o=0;o<e.length-1;o++)"1"===e.charAt(o)&&(t+=n[o]);return t}}],null&&Ta(t.prototype,null),n&&Ta(t,n),e}();function Pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Na=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e){if(!0===e)return"1";if(!1===e)return"0";throw new va("Unencodable Boolean '"+e+"'")}},{key:"decode",value:function(e){if("1"===e)return!0;if("0"===e)return!1;throw new ca("Undecodable Boolean '"+e+"'")}}],null&&Pa(t.prototype,null),n&&Pa(t,n),e}();function Aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ca=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e){e=e.sort((function(e,t){return e-t}));for(var t=[],n=0,r=0;r<e.length;){for(var o=r;o<e.length-1&&e[o]+1===e[o+1];)o++;t.push(e.slice(r,o+1)),r=o+1}for(var i=la.encode(t.length,12),a=0;a<t.length;a++)if(1==t[a].length){var u=t[a][0]-n;n=t[a][0],i+="0"+Ia.encode(u)}else{var c=t[a][0]-n;n=t[a][0];var s=t[a][t[a].length-1]-n;n=t[a][t[a].length-1],i+="1"+Ia.encode(c)+Ia.encode(s)}return i}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new ca("Undecodable FibonacciIntegerRange '"+e+"'");for(var t=[],n=la.decode(e.substring(0,12)),r=0,o=12,i=0;i<n;i++){var a=Na.decode(e.substring(o,o+1));if(o++,!0===a){var u=e.indexOf("11",o),c=Ia.decode(e.substring(o,u+2))+r;r=c,o=u+2,u=e.indexOf("11",o);var s=Ia.decode(e.substring(o,u+2))+r;r=s,o=u+2;for(var l=c;l<=s;l++)t.push(l)}else{var f=e.indexOf("11",o),p=Ia.decode(e.substring(o,f+2))+r;r=p,t.push(p),o=f+2}}return t}}],null&&Aa(t.prototype,null),n&&Aa(t,n),e}();function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Da=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"value",void 0)}var t,n;return t=e,n=[{key:"hasValue",value:function(){return void 0!==this.value&&null!==this.value}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}}],n&&Ra(t.prototype,n),e}();function ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ja(e,t,n){return ja="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=La(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},ja(e,t,n||e)}function La(e){return La=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},La(e)}function Ma(e,t){return Ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ma(e,t)}function Ua(e){return function(e){if(Array.isArray(e))return ka(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ka(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ka(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=La(e);if(t){var a=La(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var Ga=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ma(e,t)}(o,e);var t,n,r=xa(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this)).setValue(e),t}return t=o,n=[{key:"encode",value:function(){return Ca.encode(this.value)}},{key:"decode",value:function(e){this.value=Ca.decode(e)}},{key:"substring",value:function(e,t){for(var n=la.decode(e.substring(t,t+12)),r=t+12,o=0;o<n;o++)r="1"===e.charAt(r)?e.indexOf("11",e.indexOf("11",r+1)+2)+2:e.indexOf("11",r+1)+2;return e.substring(t,r)}},{key:"getValue",value:function(){return Ua(ja(La(o.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){ja(La(o.prototype),"setValue",this).call(this,Ua(new Set(e)).sort((function(e,t){return e-t})))}}],n&&Va(t.prototype,n),o}(Da);function Fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e){return Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ha(e)}function Wa(e,t){return Wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wa(e,t)}function Ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Ha(e);if(t){var a=Ha(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?Fa(r):o}}var za,Qa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wa(e,t)}(o,e);var t,n,r=Ya(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Fa(n=r.call(this)),"bitStringLength",void 0),n.bitStringLength=e,n.setValue(t),n}return t=o,(n=[{key:"encode",value:function(){return la.encode(this.value,this.bitStringLength)}},{key:"decode",value:function(e){this.value=la.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.bitStringLength)}}])&&Ba(t.prototype,n),o}(Da);function Ka(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.ID="Id",e.VERSION="Version",e.SECTION_IDS="SectionIds"}(za||(za={}));var Ja=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),qa(this,"fields",void 0),qa(this,"fieldOrder",void 0),this.fields=t,this.fieldOrder=n}var t,n;return t=e,n=[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e).getValue():null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new Error(e+" not found");this.fields.get(e).setValue(t)}},{key:"getFieldOrder",value:function(){return this.fieldOrder}},{key:"encodeToBitString",value:function(){for(var e="",t=0;t<this.fieldOrder.length;t++){var n=this.fieldOrder[t];if(!this.fields.has(n))throw new Error("Field not found: '"+n+"'");e+=this.fields.get(n).encode()}return e}},{key:"decodeFromBitString",value:function(e){for(var t=0,n=0;n<this.fieldOrder.length;n++){var r=this.fieldOrder[n];if(!this.fields.has(r))throw new Error("Field not found: '"+r+"'");var o=this.fields.get(r),i=o.substring(e,t);o.decode(i),t+=i.length}}},{key:"toObj",value:function(){for(var e={},t=0;t<this.fieldOrder.length;t++){var n=this.fieldOrder[t];if(this.fields.has(n)){var r=this.fields.get(n).getValue();e[n]=r}}return e}}],n&&Ka(t.prototype,n),e}();function Xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eu(e){return eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eu(e)}function tu(e,t){return tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tu(e,t)}function nu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=eu(e);if(t){var a=eu(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?Xa(r):o}}var ru=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tu(e,t)}(o,e);var t,n,r=nu(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=new Map;n.set(za.ID.toString(),new Qa(6,o.ID)),n.set(za.VERSION.toString(),new Qa(6,o.VERSION)),n.set(za.SECTION_IDS.toString(),new Ga([]));var i=[za.ID.toString(),za.VERSION.toString(),za.SECTION_IDS.toString()];return Za(Xa(t=r.call(this,n,i)),"base64UrlEncoder",new wa),e&&e.length>0&&t.decode(e),t}return t=o,(n=[{key:"encode",value:function(){var e=this.encodeToBitString();return this.base64UrlEncoder.encode(e)}},{key:"decode",value:function(e){var t=this.base64UrlEncoder.decode(e);this.decodeFromBitString(t)}},{key:"getId",value:function(){return o.ID}},{key:"getName",value:function(){return o.NAME}}])&&$a(t.prototype,n),o}(Ja);function ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iu(e){return iu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},iu(e)}function au(e,t){return au=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},au(e,t)}function uu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=iu(e);if(t){var a=iu(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}Za(ru,"ID",3),Za(ru,"VERSION",1),Za(ru,"NAME","header");var cu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&au(e,t)}(o,e);var t,n,r=uu(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this)).setValue(e),t}return t=o,(n=[{key:"encode",value:function(){return Na.encode(this.value)}},{key:"decode",value:function(e){this.value=Na.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+1)}}])&&ou(t.prototype,n),o}(Da);function su(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e){return e?la.encode(Math.round(e.getTime()/100),36):la.encode(0,36)}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||36!==e.length)throw new ca("Undecodable Datetime '"+e+"'");return new Date(100*la.decode(e))}}],null&&su(t.prototype,null),n&&su(t,n),e}();function fu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pu(e){return pu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pu(e)}function du(e,t){return du=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},du(e,t)}function hu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=pu(e);if(t){var a=pu(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var yu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&du(e,t)}(o,e);var t,n,r=hu(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this)).setValue(e),t}return t=o,(n=[{key:"encode",value:function(){return lu.encode(this.value)}},{key:"decode",value:function(e){this.value=lu.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+36)}}])&&fu(t.prototype,n),o}(Da);function vu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var bu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e,t){for(var n="",r=0;r<e.length;r++)n+=Na.encode(e[r]);for(;n.length<t;)n+="0";return n}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e))throw new ca("Undecodable FixedBitfield '"+e+"'");for(var t=[],n=0;n<e.length;n++)t.push(Na.decode(e.substring(n,n+1)));return t}}],null&&vu(t.prototype,null),n&&vu(t,n),e}();function gu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Su(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mu(e,t,n){return mu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ou(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},mu(e,t,n||e)}function Ou(e){return Ou=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ou(e)}function _u(e,t){return _u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_u(e,t)}function wu(e){return function(e){if(Array.isArray(e))return gu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return gu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Ou(e);if(t){var a=Ou(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?Su(r):o}}var Iu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_u(e,t)}(o,e);var t,n,r=Tu(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Su(n=r.call(this)),"getLength",void 0),n.getLength=e,n.setValue(t),n}return t=o,n=[{key:"encode",value:function(){return bu.encode(this.value,this.getLength())}},{key:"decode",value:function(e){this.value=bu.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.getLength())}},{key:"getValue",value:function(){return wu(mu(Ou(o.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){for(var t=this.getLength(),n=wu(e),r=n.length;r<t;r++)n.push(!1);n.length>t&&(n=n.slice(0,t)),mu(Ou(o.prototype),"setValue",this).call(this,wu(n))}}],n&&Eu(t.prototype,n),o}(Da);function Pu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Au(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cu(e,t,n){return Cu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ru(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},Cu(e,t,n||e)}function Ru(e){return Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ru(e)}function Du(e,t){return Du=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Du(e,t)}function ku(e){return function(e){if(Array.isArray(e))return Pu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Pu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Ru(e);if(t){var a=Ru(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?Nu(r):o}}var ju=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Du(e,t)}(o,e);var t,n,r=Vu(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Nu(t=r.call(this)),"numElements",void 0),t.numElements=e.length,t.setValue(e),t}return t=o,n=[{key:"encode",value:function(){return bu.encode(this.value,this.numElements)}},{key:"decode",value:function(e){this.value=bu.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.numElements)}},{key:"getValue",value:function(){return ku(Cu(Ru(o.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){for(var t=ku(e),n=t.length;n<this.numElements;n++)t.push(!1);t.length>this.numElements&&(t=t.slice(0,this.numElements)),Cu(Ru(o.prototype),"setValue",this).call(this,t)}}],n&&Au(t.prototype,n),o}(Da);function Lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e,t){for(;e.length<t;)e+=" ";for(var n="",r=0;r<e.length;r++){var o=e.charCodeAt(r);if(32===o)n+=la.encode(63,6);else{if(!(o>=65))throw new va("Unencodable FixedString '"+e+"'");n+=la.encode(e.charCodeAt(r)-65,6)}}return n}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length%6!=0)throw new ca("Undecodable FixedString '"+e+"'");for(var t="",n=0;n<e.length;n+=6){var r=la.decode(e.substring(n,n+6));t+=63===r?" ":String.fromCharCode(r+65)}return t.trim()}}],null&&Lu(t.prototype,null),n&&Lu(t,n),e}();function Uu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gu(e){return Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gu(e)}function Fu(e,t){return Fu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fu(e,t)}function Bu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Gu(e);if(t){var a=Gu(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?Uu(r):o}}var Hu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fu(e,t)}(o,e);var t,n,r=Bu(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Uu(n=r.call(this)),"stringLength",void 0),n.stringLength=e,n.setValue(t),n}return t=o,(n=[{key:"encode",value:function(){return Mu.encode(this.value,this.stringLength)}},{key:"decode",value:function(e){this.value=Mu.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+6*this.stringLength)}}])&&xu(t.prototype,n),o}(Da);function Wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zu=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Yu(this,"fields",void 0),Yu(this,"segments",void 0),this.fields=t,this.segments=n}var t,n;return t=e,n=[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e).getValue():null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new Error(e+" not found");this.fields.get(e).setValue(t)}},{key:"getSegments",value:function(){return this.segments}},{key:"encodeSegmentsToBitStrings",value:function(){for(var e=[],t=0;t<this.segments.length;t++){for(var n="",r=0;r<this.segments[t].length;r++){var o=this.segments[t][r];if(!this.fields.has(o))throw new Error("Field not found: '"+o+"'");try{n+=this.fields.get(o).encode()}catch(e){throw new Error("Unable to encode "+o)}}e.push(n)}return e}},{key:"decodeSegmentsFromBitStrings",value:function(e){for(var t=0;t<this.segments.length&&t<e.length;t++){var n=e[t];if(n&&n.length>0)for(var r=0,o=0;o<this.segments[t].length;o++){var i=this.segments[t][o];if(!this.fields.has(i))throw new Error("Field not found: '"+i+"'");try{var a=this.fields.get(i),u=a.substring(n,r);a.decode(u),r+=u.length}catch(e){throw new Error("Unable to decode "+i)}}}}},{key:"toObj",value:function(){for(var e={},t=0;t<this.segments.length;t++)for(var n=0;n<this.segments[t].length;n++){var r=this.segments[t][n];if(this.fields.has(r)){var o=this.fields.get(r).getValue();e[r]=o}}return e}}],n&&Wu(t.prototype,n),e}();function Qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ku=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e){e.sort((function(e,t){return e-t}));for(var t=[],n=0;n<e.length;){for(var r=n;r<e.length-1&&e[r]+1===e[r+1];)r++;t.push(e.slice(n,r+1)),n=r+1}for(var o=la.encode(t.length,12),i=0;i<t.length;i++)1===t[i].length?o+="0"+la.encode(t[i][0],16):o+="1"+la.encode(t[i][0],16)+la.encode(t[i][t[i].length-1],16);return o}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new ca("Undecodable FixedIntegerRange '"+e+"'");for(var t=[],n=la.decode(e.substring(0,12)),r=12,o=0;o<n;o++){var i=Na.decode(e.substring(r,r+1));if(r++,!0===i){var a=la.decode(e.substring(r,r+16));r+=16;var u=la.decode(e.substring(r,r+16));r+=16;for(var c=a;c<=u;c++)t.push(c)}else{var s=la.decode(e.substring(r,r+16));t.push(s),r+=16}}return t}}],null&&Qu(t.prototype,null),n&&Qu(t,n),e}();function qu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xu(e,t,n){return Xu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},Xu(e,t,n||e)}function $u(e){return $u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$u(e)}function Zu(e,t){return Zu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zu(e,t)}function ec(e){return function(e){if(Array.isArray(e))return qu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=$u(e);if(t){var a=$u(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var nc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zu(e,t)}(o,e);var t,n,r=tc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this)).setValue(e),t}return t=o,n=[{key:"encode",value:function(){return Ku.encode(this.value)}},{key:"decode",value:function(e){this.value=Ku.decode(e)}},{key:"substring",value:function(e,t){for(var n=la.decode(e.substring(t,t+12)),r=t+12,o=0;o<n;o++)"1"===e.charAt(r)?r+=33:r+=17;return e.substring(t,r)}},{key:"getValue",value:function(){return ec(Xu($u(o.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){Xu($u(o.prototype),"setValue",this).call(this,ec(new Set(e)).sort((function(e,t){return e-t})))}}],n&&Ju(t.prototype,n),o}(Da);function rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ic(e,t,n){return ic="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ac(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},ic(e,t,n||e)}function ac(e){return ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ac(e)}function uc(e,t){return uc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},uc(e,t)}function cc(e){return function(e){if(Array.isArray(e))return rc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return rc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=ac(e);if(t){var a=ac(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}var lc,fc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uc(e,t)}(o,e);var t,n,r=sc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this)).setValue(e),t}return t=o,n=[{key:"encode",value:function(){var e=this.value.length>0?this.value[this.value.length-1]:0,t=Ku.encode(this.value),n=e;if(t.length<=n)return la.encode(e,16)+"1"+t;for(var r=[],o=0,i=0;i<e;i++)i===this.value[o]-1?(r[i]=!0,o++):r[i]=!1;return la.encode(e,16)+"0"+bu.encode(r,n)}},{key:"decode",value:function(e){if("1"===e.charAt(16))this.value=Ku.decode(e.substring(17));else{for(var t=[],n=bu.decode(e.substring(17)),r=0;r<n.length;r++)!0===n[r]&&t.push(r+1);this.value=t}}},{key:"substring",value:function(e,t){var n=la.decode(e.substring(t,t+16));return"1"===e.charAt(t+16)?e.substring(t,t+17)+new nc([]).substring(e,t+17):e.substring(t,t+17+n)}},{key:"getValue",value:function(){return cc(ic(ac(o.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){ic(ac(o.prototype),"setValue",this).call(this,cc(new Set(e)).sort((function(e,t){return e-t})))}}],n&&oc(t.prototype,n),o}(Da);function pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dc(e){return dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dc(e)}function hc(e,t){return hc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hc(e,t)}function yc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=dc(e);if(t){var a=dc(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}!function(e){e.VERSION="Version",e.CREATED="Created",e.LAST_UPDATED="LastUpdated",e.CMP_ID="CmpId",e.CMP_VERSION="CmpVersion",e.CONSENT_SCREEN="ConsentScreen",e.CONSENT_LANGUAGE="ConsentLanguage",e.VENDOR_LIST_VERSION="VendorListVersion",e.POLICY_VERSION="PolicyVersion",e.IS_SERVICE_SPECIFIC="IsServiceSpecific",e.USE_NON_STANDARD_STACKS="UseNonStandardStacks",e.SPECIAL_FEATURE_OPTINS="SpecialFeatureOptins",e.PURPOSE_CONSENTS="PurposeConsents",e.PURPOSE_LEGITIMATE_INTERESTS="PurposeLegitimateInterests",e.PURPOSE_ONE_TREATMENT="PurposeOneTreatment",e.PUBLISHER_COUNTRY_CODE="PublisherCountryCode",e.VENDOR_CONSENTS="VendorConsents",e.VENDOR_LEGITIMATE_INTERESTS="VendorLegitimateInterests",e.PUBLISHER_RESTRICTIONS="PublisherRestrictions",e.PUBLISHER_PURPOSES_SEGMENT_TYPE="PublisherPurposesSegmentType",e.PUBLISHER_CONSENTS="PublisherConsents",e.PUBLISHER_LEGITIMATE_INTERESTS="PublisherLegitimateInterests",e.NUM_CUSTOM_PURPOSES="NumCustomPurposes",e.PUBLISHER_CUSTOM_CONSENTS="PublisherCustomConsents",e.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS="PublisherCustomLegitimateInterests",e.VENDORS_ALLOWED_SEGMENT_TYPE="VendorsAllowedSegmentType",e.VENDORS_ALLOWED="VendorsAllowed",e.VENDORS_DISCLOSED_SEGMENT_TYPE="VendorsDisclosedSegmentType",e.VENDORS_DISCLOSED="VendorsDisclosed"}(lc||(lc={}));var vc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hc(e,t)}(o,e);var t,n,r=yc(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"pad",value:function(e){for(;e.length%24>0;)e+="0";return e}}])&&pc(t.prototype,n),o}(Sa);function bc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ec(e,t,n){return Ec="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mc(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},Ec(e,t,n||e)}function mc(e){return mc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mc(e)}function Oc(e,t){return Oc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oc(e,t)}function _c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=mc(e);if(t){var a=mc(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?bc(r):o}}var wc,Tc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oc(e,t)}(o,e);var t,n,r=_c(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=new Map,i=new Date;n.set(lc.VERSION.toString(),new Qa(6,o.VERSION)),n.set(lc.CREATED.toString(),new yu(i)),n.set(lc.LAST_UPDATED.toString(),new yu(i)),n.set(lc.CMP_ID.toString(),new Qa(12,0)),n.set(lc.CMP_VERSION.toString(),new Qa(12,0)),n.set(lc.CONSENT_SCREEN.toString(),new Qa(6,0)),n.set(lc.CONSENT_LANGUAGE.toString(),new Hu(2,"EN")),n.set(lc.VENDOR_LIST_VERSION.toString(),new Qa(12,0)),n.set(lc.POLICY_VERSION.toString(),new Qa(6,2)),n.set(lc.IS_SERVICE_SPECIFIC.toString(),new cu(!1)),n.set(lc.USE_NON_STANDARD_STACKS.toString(),new cu(!1)),n.set(lc.SPECIAL_FEATURE_OPTINS.toString(),new ju([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(lc.PURPOSE_CONSENTS.toString(),new ju([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(lc.PURPOSE_LEGITIMATE_INTERESTS.toString(),new ju([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(lc.PURPOSE_ONE_TREATMENT.toString(),new cu(!1)),n.set(lc.PUBLISHER_COUNTRY_CODE.toString(),new Hu(2,"AA")),n.set(lc.VENDOR_CONSENTS.toString(),new fc([])),n.set(lc.VENDOR_LEGITIMATE_INTERESTS.toString(),new fc([])),n.set(lc.PUBLISHER_RESTRICTIONS.toString(),new nc([])),n.set(lc.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),new Qa(3,3)),n.set(lc.PUBLISHER_CONSENTS.toString(),new ju([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(lc.PUBLISHER_LEGITIMATE_INTERESTS.toString(),new ju([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));var a=new Qa(6,0);n.set(lc.NUM_CUSTOM_PURPOSES.toString(),a),n.set(lc.PUBLISHER_CUSTOM_CONSENTS.toString(),new Iu((function(){return a.getValue()}),[])),n.set(lc.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString(),new Iu((function(){return a.getValue()}),[])),n.set(lc.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),new Qa(3,2)),n.set(lc.VENDORS_ALLOWED.toString(),new fc([])),n.set(lc.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),new Qa(3,1)),n.set(lc.VENDORS_DISCLOSED.toString(),new fc([]));var u=[[lc.VERSION.toString(),lc.CREATED.toString(),lc.LAST_UPDATED.toString(),lc.CMP_ID.toString(),lc.CMP_VERSION.toString(),lc.CONSENT_SCREEN.toString(),lc.CONSENT_LANGUAGE.toString(),lc.VENDOR_LIST_VERSION.toString(),lc.POLICY_VERSION.toString(),lc.IS_SERVICE_SPECIFIC.toString(),lc.USE_NON_STANDARD_STACKS.toString(),lc.SPECIAL_FEATURE_OPTINS.toString(),lc.PURPOSE_CONSENTS.toString(),lc.PURPOSE_LEGITIMATE_INTERESTS.toString(),lc.PURPOSE_ONE_TREATMENT.toString(),lc.PUBLISHER_COUNTRY_CODE.toString(),lc.VENDOR_CONSENTS.toString(),lc.VENDOR_LEGITIMATE_INTERESTS.toString(),lc.PUBLISHER_RESTRICTIONS.toString()],[lc.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),lc.PUBLISHER_CONSENTS.toString(),lc.PUBLISHER_LEGITIMATE_INTERESTS.toString(),lc.NUM_CUSTOM_PURPOSES.toString(),lc.PUBLISHER_CUSTOM_CONSENTS.toString(),lc.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString()],[lc.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),lc.VENDORS_ALLOWED.toString()],[lc.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),lc.VENDORS_DISCLOSED.toString()]];return Sc(bc(t=r.call(this,n,u)),"base64UrlEncoder",new vc),e&&e.length>0&&t.decode(e),t}return t=o,n=[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),this.getFieldValue(lc.IS_SERVICE_SPECIFIC.toString())?e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])):(e[2]&&e[2].length>0&&t.push(this.base64UrlEncoder.encode(e[2])),e[3]&&e[3].length>0&&t.push(this.base64UrlEncoder.encode(e[3]))),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=0;r<t.length;r++){var o=this.base64UrlEncoder.decode(t[r]);switch(o.substring(0,3)){case"000":n[0]=o;break;case"001":n[3]=o;break;case"010":n[2]=o;break;case"011":n[1]=o;break;default:throw new ca("Unable to decode segment '"+t[r]+"'")}}this.decodeSegmentsFromBitStrings(n)}},{key:"setFieldValue",value:function(e,t){if(Ec(mc(o.prototype),"setFieldValue",this).call(this,e,t),e!==lc.CREATED.toString()&&e!==lc.LAST_UPDATED.toString()){var n=new Date,r=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()));this.setFieldValue(lc.CREATED.toString(),r),this.setFieldValue(lc.LAST_UPDATED.toString(),r)}}},{key:"getId",value:function(){return o.ID}},{key:"getName",value:function(){return o.NAME}}],n&&gc(t.prototype,n),o}(zu);function Ic(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ac(e,t,n){return Ac="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cc(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},Ac(e,t,n||e)}function Cc(e){return Cc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cc(e)}function Rc(e,t){return Rc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rc(e,t)}function Dc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Cc(e);if(t){var a=Cc(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?Ic(r):o}}Sc(Tc,"ID",2),Sc(Tc,"VERSION",2),Sc(Tc,"NAME","tcfeuv2"),function(e){e.VERSION="Version",e.CREATED="Created",e.LAST_UPDATED="LastUpdated",e.CMP_ID="CmpId",e.CMP_VERSION="CmpVersion",e.CONSENT_SCREEN="ConsentScreen",e.CONSENT_LANGUAGE="ConsentLanguage",e.VENDOR_LIST_VERSION="VendorListVersion",e.TCF_POLICY_VERSION="TcfPolicyVersion",e.USE_NON_STANDARD_STACKS="UseNonStandardStacks",e.SPECIAL_FEATURE_EXPRESS_CONSENT="SpecialFeatureExpressConsent",e.PURPOSES_EXPRESS_CONSENT="PurposesExpressConsent",e.PURPOSES_IMPLIED_CONSENT="PurposesImpliedConsent",e.VENDOR_EXPRESS_CONSENT="VendorExpressConsent",e.VENDOR_IMPLIED_CONSENT="VendorImpliedConsent",e.SEGMENT_TYPE="SegmentType",e.PUB_PURPOSES_EXPRESS_CONSENT="PubPurposesExpressConsent",e.PUB_PURPOSES_IMPLIED_CONSENT="PubPurposesImpliedConsent",e.NUM_CUSTOM_PURPOSES="NumCustomPurposes",e.CUSTOM_PURPOSES_EXPRESS_CONSENT="CustomPurposesExpressConsent",e.CUSTOM_PURPOSES_IMPLIED_CONSENT="CustomPurposesImpliedConsent"}(wc||(wc={}));var kc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rc(e,t)}(o,e);var t,n,r=Dc(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=new Map,i=new Date;n.set(wc.VERSION.toString(),new Qa(6,o.VERSION)),n.set(wc.CREATED.toString(),new yu(i)),n.set(wc.LAST_UPDATED.toString(),new yu(i)),n.set(wc.CMP_ID.toString(),new Qa(12,0)),n.set(wc.CMP_VERSION.toString(),new Qa(12,0)),n.set(wc.CONSENT_SCREEN.toString(),new Qa(6,0)),n.set(wc.CONSENT_LANGUAGE.toString(),new Hu(2,"EN")),n.set(wc.VENDOR_LIST_VERSION.toString(),new Qa(12,0)),n.set(wc.TCF_POLICY_VERSION.toString(),new Qa(6,1)),n.set(wc.USE_NON_STANDARD_STACKS.toString(),new cu(!1)),n.set(wc.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),new ju([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(wc.PURPOSES_EXPRESS_CONSENT.toString(),new ju([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(wc.PURPOSES_IMPLIED_CONSENT.toString(),new ju([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(wc.VENDOR_EXPRESS_CONSENT.toString(),new fc([])),n.set(wc.VENDOR_IMPLIED_CONSENT.toString(),new fc([])),n.set(wc.SEGMENT_TYPE.toString(),new Qa(3,3)),n.set(wc.PUB_PURPOSES_EXPRESS_CONSENT.toString(),new ju([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(wc.PUB_PURPOSES_IMPLIED_CONSENT.toString(),new ju([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));var a=new Qa(6,0);n.set(wc.NUM_CUSTOM_PURPOSES.toString(),a),n.set(wc.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),new Iu((function(){return a.getValue()}),[])),n.set(wc.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString(),new Iu((function(){return a.getValue()}),[]));var u=[[wc.VERSION.toString(),wc.CREATED.toString(),wc.LAST_UPDATED.toString(),wc.CMP_ID.toString(),wc.CMP_VERSION.toString(),wc.CONSENT_SCREEN.toString(),wc.CONSENT_LANGUAGE.toString(),wc.VENDOR_LIST_VERSION.toString(),wc.TCF_POLICY_VERSION.toString(),wc.USE_NON_STANDARD_STACKS.toString(),wc.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),wc.PURPOSES_EXPRESS_CONSENT.toString(),wc.PURPOSES_IMPLIED_CONSENT.toString(),wc.VENDOR_EXPRESS_CONSENT.toString(),wc.VENDOR_IMPLIED_CONSENT.toString()],[wc.SEGMENT_TYPE.toString(),wc.PUB_PURPOSES_EXPRESS_CONSENT.toString(),wc.PUB_PURPOSES_IMPLIED_CONSENT.toString(),wc.NUM_CUSTOM_PURPOSES.toString(),wc.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),wc.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString()]];return Nc(Ic(t=r.call(this,n,u)),"base64UrlEncoder",new wa),e&&e.length>0&&t.decode(e),t}return t=o,n=[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=0;r<t.length;r++){var o=this.base64UrlEncoder.decode(t[r]);switch(o.substring(0,3)){case"000":n[0]=o;break;case"011":n[1]=o;break;default:throw new ca("Unable to decode segment '"+t[r]+"'")}}this.decodeSegmentsFromBitStrings(n)}},{key:"setFieldValue",value:function(e,t){if(Ac(Cc(o.prototype),"setFieldValue",this).call(this,e,t),e!==wc.CREATED.toString()&&e!==wc.LAST_UPDATED.toString()){var n=new Date,r=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()));this.setFieldValue(wc.CREATED.toString(),r),this.setFieldValue(wc.LAST_UPDATED.toString(),r)}}},{key:"getId",value:function(){return o.ID}},{key:"getName",value:function(){return o.NAME}}],n&&Pc(t.prototype,n),o}(zu);function Vc(e,t,n){return Vc=Uc()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Lc(o,n.prototype),o},Vc.apply(null,arguments)}function jc(e){return jc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jc(e)}function Lc(e,t){return Lc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lc(e,t)}function Mc(e){var t="function"==typeof Map?new Map:void 0;return Mc=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Vc(e,arguments,jc(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Lc(r,e)},Mc(e)}function Uc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Nc(kc,"ID",5),Nc(kc,"VERSION",2),Nc(kc,"NAME","tcfcav1");var xc,Gc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lc(e,t)}(o,e);var t,n,r=(t=o,n=Uc(),function(){var e,r,o,i=jc(t);if(n){var a=jc(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return r=this,!(o=e)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="InvalidFieldError",t}return o}(Mc(Error));function Fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.VERSION="Version",e.NOTICE="Notice",e.OPT_OUT_SALE="OptOutSale",e.LSPA_COVERED="LspaCovered"}(xc||(xc={}));var Hc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Bc(this,"fields",void 0),this.fields=new Map,this.fields.set(xc.VERSION.toString(),e.VERSION),this.fields.set(xc.NOTICE.toString(),"-"),this.fields.set(xc.OPT_OUT_SALE.toString(),"-"),this.fields.set(xc.LSPA_COVERED.toString(),"-"),t&&t.length>0&&this.decode(t)}var t,n;return t=e,n=[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e):null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new Gc(e+" not found");this.fields.set(e,t)}},{key:"toObj",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=this.fields.keys()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,u=this.fields.get(a);e[a.toString()]=u}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"encode",value:function(){var e="";return e+=this.getFieldValue(xc.VERSION.toString()),e+=this.getFieldValue(xc.NOTICE.toString()),(e+=this.getFieldValue(xc.OPT_OUT_SALE.toString()))+this.getFieldValue(xc.LSPA_COVERED.toString())}},{key:"decode",value:function(e){this.setFieldValue(xc.VERSION.toString(),parseInt(e.charAt(0))),this.setFieldValue(xc.NOTICE.toString(),e.charAt(1)),this.setFieldValue(xc.OPT_OUT_SALE.toString(),e.charAt(2)),this.setFieldValue(xc.LSPA_COVERED.toString(),e.charAt(3))}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}],n&&Fc(t.prototype,n),e}();function Wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Bc(Hc,"ID",6),Bc(Hc,"VERSION",1),Bc(Hc,"NAME","uspv1");var Yc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"encode",value:function(e,t,n){for(var r="",o=0;o<e.length;o++)r+=la.encode(e[o],t);for(;r.length<t*n;)r+="0";return r}},{key:"decode",value:function(e,t,n){if(!/^[0-1]*$/.test(e))throw new ca("Undecodable FixedInteger '"+e+"'");if(e.length>t*n)throw new ca("Undecodable FixedIntegerList '"+e+"'");if(e.length%t!=0)throw new ca("Undecodable FixedIntegerList '"+e+"'");for(;e.length<t*n;)e+="0";e.length>t*n&&(e=e.substring(0,t*n));for(var r=[],o=0;o<e.length;o+=t)r.push(la.decode(e.substring(o,o+t)));for(;r.length<n;)r.push(0);return r}}],null&&Wc(t.prototype,null),n&&Wc(t,n),e}();function zc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jc(e,t,n){return Jc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xc(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},Jc(e,t,n||e)}function Xc(e){return Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xc(e)}function $c(e,t){return $c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$c(e,t)}function Zc(e){return function(e){if(Array.isArray(e))return zc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return zc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Xc(e);if(t){var a=Xc(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?Qc(r):o}}var ts,ns=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$c(e,t)}(o,e);var t,n,r=es(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),qc(Qc(n=r.call(this)),"elementBitStringLength",void 0),qc(Qc(n),"numElements",void 0),n.elementBitStringLength=e,n.numElements=t.length,n.setValue(t),n}return t=o,n=[{key:"encode",value:function(){return Yc.encode(this.value,this.elementBitStringLength,this.numElements)}},{key:"decode",value:function(e){this.value=Yc.decode(e,this.elementBitStringLength,this.numElements)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.elementBitStringLength*this.numElements)}},{key:"getValue",value:function(){return Zc(Jc(Xc(o.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){for(var t=Zc(e),n=t.length;n<this.numElements;n++)t.push(0);t.length>this.numElements&&(t=t.slice(0,this.numElements)),Jc(Xc(o.prototype),"setValue",this).call(this,t)}}],n&&Kc(t.prototype,n),o}(Da);function rs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function os(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function is(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function as(e){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},as(e)}function us(e,t){return us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},us(e,t)}function cs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=as(e);if(t){var a=as(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?rs(r):o}}!function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",e.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",e.SALE_OPT_OUT="SaleOptOut",e.SHARING_OPT_OUT="SharingOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.PERSONAL_DATA_CONSENTS="PersonalDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(ts||(ts={}));var ss,ls=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&us(e,t)}(o,e);var t,n,r=cs(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=new Map;n.set(ts.VERSION.toString(),new Qa(6,o.VERSION)),n.set(ts.SHARING_NOTICE.toString(),new Qa(2,0)),n.set(ts.SALE_OPT_OUT_NOTICE.toString(),new Qa(2,0)),n.set(ts.SHARING_OPT_OUT_NOTICE.toString(),new Qa(2,0)),n.set(ts.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Qa(2,0)),n.set(ts.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new Qa(2,0)),n.set(ts.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new Qa(2,0)),n.set(ts.SALE_OPT_OUT.toString(),new Qa(2,0)),n.set(ts.SHARING_OPT_OUT.toString(),new Qa(2,0)),n.set(ts.TARGETED_ADVERTISING_OPT_OUT.toString(),new Qa(2,0)),n.set(ts.SENSITIVE_DATA_PROCESSING.toString(),new ns(2,[0,0,0,0,0,0,0,0,0,0,0,0])),n.set(ts.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new ns(2,[0,0])),n.set(ts.PERSONAL_DATA_CONSENTS.toString(),new Qa(2,0)),n.set(ts.MSPA_COVERED_TRANSACTION.toString(),new Qa(2,0)),n.set(ts.MSPA_OPT_OUT_OPTION_MODE.toString(),new Qa(2,0)),n.set(ts.MSPA_SERVICE_PROVIDER_MODE.toString(),new Qa(2,0)),n.set(ts.GPC_SEGMENT_TYPE.toString(),new Qa(2,1)),n.set(ts.GPC_SEGMENT_INCLUDED.toString(),new cu(!0)),n.set(ts.GPC.toString(),new cu(!1));var i=[[ts.VERSION.toString(),ts.SHARING_NOTICE.toString(),ts.SALE_OPT_OUT_NOTICE.toString(),ts.SHARING_OPT_OUT_NOTICE.toString(),ts.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),ts.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),ts.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),ts.SALE_OPT_OUT.toString(),ts.SHARING_OPT_OUT.toString(),ts.TARGETED_ADVERTISING_OPT_OUT.toString(),ts.SENSITIVE_DATA_PROCESSING.toString(),ts.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),ts.PERSONAL_DATA_CONSENTS.toString(),ts.MSPA_COVERED_TRANSACTION.toString(),ts.MSPA_OPT_OUT_OPTION_MODE.toString(),ts.MSPA_SERVICE_PROVIDER_MODE.toString()],[ts.GPC_SEGMENT_TYPE.toString(),ts.GPC.toString()]];return is(rs(t=r.call(this,n,i)),"base64UrlEncoder",new wa),e&&e.length>0&&t.decode(e),t}return t=o,(n=[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(ts.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=!1,o=0;o<t.length;o++){var i=this.base64UrlEncoder.decode(t[o]);switch(i.substring(0,2)){case"00":n[0]=i;break;case"01":r=!0,n[1]=i;break;default:throw new ca("Unable to decode segment '"+t[o]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(ts.GPC_SEGMENT_INCLUDED).setValue(r)}},{key:"getId",value:function(){return o.ID}},{key:"getName",value:function(){return o.NAME}}])&&os(t.prototype,n),o}(zu);function fs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ps(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hs(e){return hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hs(e)}function ys(e,t){return ys=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ys(e,t)}function vs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=hs(e);if(t){var a=hs(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?fs(r):o}}is(ls,"ID",7),is(ls,"VERSION",1),is(ls,"NAME","usnatv1"),function(e){e.VERSION="Version",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",e.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",e.SALE_OPT_OUT="SaleOptOut",e.SHARING_OPT_OUT="SharingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.PERSONAL_DATA_CONSENTS="PersonalDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(ss||(ss={}));var bs,gs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ys(e,t)}(o,e);var t,n,r=vs(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=new Map;n.set(ss.VERSION.toString(),new Qa(6,o.VERSION)),n.set(ss.SALE_OPT_OUT_NOTICE.toString(),new Qa(2,0)),n.set(ss.SHARING_OPT_OUT_NOTICE.toString(),new Qa(2,0)),n.set(ss.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new Qa(2,0)),n.set(ss.SALE_OPT_OUT.toString(),new Qa(2,0)),n.set(ss.SHARING_OPT_OUT.toString(),new Qa(2,0)),n.set(ss.SENSITIVE_DATA_PROCESSING.toString(),new ns(2,[0,0,0,0,0,0,0,0,0])),n.set(ss.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new ns(2,[0,0])),n.set(ss.PERSONAL_DATA_CONSENTS.toString(),new Qa(2,0)),n.set(ss.MSPA_COVERED_TRANSACTION.toString(),new Qa(2,0)),n.set(ss.MSPA_OPT_OUT_OPTION_MODE.toString(),new Qa(2,0)),n.set(ss.MSPA_SERVICE_PROVIDER_MODE.toString(),new Qa(2,0)),n.set(ss.GPC_SEGMENT_TYPE.toString(),new Qa(2,1)),n.set(ss.GPC_SEGMENT_INCLUDED.toString(),new cu(!0)),n.set(ss.GPC.toString(),new cu(!1));var i=[[ss.VERSION.toString(),ss.SALE_OPT_OUT_NOTICE.toString(),ss.SHARING_OPT_OUT_NOTICE.toString(),ss.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),ss.SALE_OPT_OUT.toString(),ss.SHARING_OPT_OUT.toString(),ss.SENSITIVE_DATA_PROCESSING.toString(),ss.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),ss.PERSONAL_DATA_CONSENTS.toString(),ss.MSPA_COVERED_TRANSACTION.toString(),ss.MSPA_OPT_OUT_OPTION_MODE.toString(),ss.MSPA_SERVICE_PROVIDER_MODE.toString()],[ss.GPC_SEGMENT_TYPE.toString(),ss.GPC.toString()]];return ds(fs(t=r.call(this,n,i)),"base64UrlEncoder",new wa),e&&e.length>0&&t.decode(e),t}return t=o,(n=[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(ss.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=!1,o=0;o<t.length;o++){var i=this.base64UrlEncoder.decode(t[o]);switch(i.substring(0,2)){case"00":n[0]=i;break;case"01":r=!0,n[1]=i;break;default:throw new ca("Unable to decode segment '"+t[o]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(ss.GPC_SEGMENT_INCLUDED).setValue(r)}},{key:"getId",value:function(){return o.ID}},{key:"getName",value:function(){return o.NAME}}])&&ps(t.prototype,n),o}(zu);function Ss(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Os(e){return Os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Os(e)}function _s(e,t){return _s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_s(e,t)}function ws(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Os(e);if(t){var a=Os(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?Ss(r):o}}ds(gs,"ID",8),ds(gs,"VERSION",1),ds(gs,"NAME","uscav1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(bs||(bs={}));var Ts,Is=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_s(e,t)}(o,e);var t,n,r=ws(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=new Map;n.set(bs.VERSION.toString(),new Qa(6,o.VERSION)),n.set(bs.SHARING_NOTICE.toString(),new Qa(2,0)),n.set(bs.SALE_OPT_OUT_NOTICE.toString(),new Qa(2,0)),n.set(bs.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Qa(2,0)),n.set(bs.SALE_OPT_OUT.toString(),new Qa(2,0)),n.set(bs.TARGETED_ADVERTISING_OPT_OUT.toString(),new Qa(2,0)),n.set(bs.SENSITIVE_DATA_PROCESSING.toString(),new ns(2,[0,0,0,0,0,0,0,0])),n.set(bs.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Qa(2,0)),n.set(bs.MSPA_COVERED_TRANSACTION.toString(),new Qa(2,0)),n.set(bs.MSPA_OPT_OUT_OPTION_MODE.toString(),new Qa(2,0)),n.set(bs.MSPA_SERVICE_PROVIDER_MODE.toString(),new Qa(2,0));var i=[bs.VERSION.toString(),bs.SHARING_NOTICE.toString(),bs.SALE_OPT_OUT_NOTICE.toString(),bs.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),bs.SALE_OPT_OUT.toString(),bs.TARGETED_ADVERTISING_OPT_OUT.toString(),bs.SENSITIVE_DATA_PROCESSING.toString(),bs.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),bs.MSPA_COVERED_TRANSACTION.toString(),bs.MSPA_OPT_OUT_OPTION_MODE.toString(),bs.MSPA_SERVICE_PROVIDER_MODE.toString()];return ms(Ss(t=r.call(this,n,i)),"base64UrlEncoder",new wa),e&&e.length>0&&t.decode(e),t}return t=o,(n=[{key:"encode",value:function(){return this.base64UrlEncoder.encode(this.encodeToBitString())}},{key:"decode",value:function(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}},{key:"getId",value:function(){return o.ID}},{key:"getName",value:function(){return o.NAME}}])&&Es(t.prototype,n),o}(Ja);function Ps(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ns(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function As(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cs(e){return Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cs(e)}function Rs(e,t){return Rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rs(e,t)}function Ds(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Cs(e);if(t){var a=Cs(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?Ps(r):o}}ms(Is,"ID",9),ms(Is,"VERSION",1),ms(Is,"NAME","usvav1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Ts||(Ts={}));var ks,Vs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rs(e,t)}(o,e);var t,n,r=Ds(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=new Map;n.set(Ts.VERSION.toString(),new Qa(6,o.VERSION)),n.set(Ts.SHARING_NOTICE.toString(),new Qa(2,0)),n.set(Ts.SALE_OPT_OUT_NOTICE.toString(),new Qa(2,0)),n.set(Ts.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Qa(2,0)),n.set(Ts.SALE_OPT_OUT.toString(),new Qa(2,0)),n.set(Ts.TARGETED_ADVERTISING_OPT_OUT.toString(),new Qa(2,0)),n.set(Ts.SENSITIVE_DATA_PROCESSING.toString(),new ns(2,[0,0,0,0,0,0,0])),n.set(Ts.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Qa(2,0)),n.set(Ts.MSPA_COVERED_TRANSACTION.toString(),new Qa(2,0)),n.set(Ts.MSPA_OPT_OUT_OPTION_MODE.toString(),new Qa(2,0)),n.set(Ts.MSPA_SERVICE_PROVIDER_MODE.toString(),new Qa(2,0)),n.set(Ts.GPC_SEGMENT_TYPE.toString(),new Qa(2,1)),n.set(Ts.GPC_SEGMENT_INCLUDED.toString(),new cu(!0)),n.set(Ts.GPC.toString(),new cu(!1));var i=[[Ts.VERSION.toString(),Ts.SHARING_NOTICE.toString(),Ts.SALE_OPT_OUT_NOTICE.toString(),Ts.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),Ts.SALE_OPT_OUT.toString(),Ts.TARGETED_ADVERTISING_OPT_OUT.toString(),Ts.SENSITIVE_DATA_PROCESSING.toString(),Ts.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Ts.MSPA_COVERED_TRANSACTION.toString(),Ts.MSPA_OPT_OUT_OPTION_MODE.toString(),Ts.MSPA_SERVICE_PROVIDER_MODE.toString()],[Ts.GPC_SEGMENT_TYPE.toString(),Ts.GPC.toString()]];return As(Ps(t=r.call(this,n,i)),"base64UrlEncoder",new wa),e&&e.length>0&&t.decode(e),t}return t=o,(n=[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(Ts.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=!1,o=0;o<t.length;o++){var i=this.base64UrlEncoder.decode(t[o]);switch(i.substring(0,2)){case"00":n[0]=i;break;case"01":r=!0,n[1]=i;break;default:throw new ca("Unable to decode segment '"+t[o]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(Ts.GPC_SEGMENT_INCLUDED).setValue(r)}},{key:"getId",value:function(){return o.ID}},{key:"getName",value:function(){return o.NAME}}])&&Ns(t.prototype,n),o}(zu);function js(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Us(e){return Us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Us(e)}function xs(e,t){return xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xs(e,t)}function Gs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=Us(e);if(t){var a=Us(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?js(r):o}}As(Vs,"ID",10),As(Vs,"VERSION",1),As(Vs,"NAME","uscov1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(ks||(ks={}));var Fs,Bs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xs(e,t)}(o,e);var t,n,r=Gs(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=new Map;n.set(ks.VERSION.toString(),new Qa(6,o.VERSION)),n.set(ks.SHARING_NOTICE.toString(),new Qa(2,0)),n.set(ks.SALE_OPT_OUT_NOTICE.toString(),new Qa(2,0)),n.set(ks.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Qa(2,0)),n.set(ks.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new Qa(2,0)),n.set(ks.SALE_OPT_OUT.toString(),new Qa(2,0)),n.set(ks.TARGETED_ADVERTISING_OPT_OUT.toString(),new Qa(2,0)),n.set(ks.SENSITIVE_DATA_PROCESSING.toString(),new ns(2,[0,0,0,0,0,0,0,0])),n.set(ks.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new Qa(2,0)),n.set(ks.MSPA_COVERED_TRANSACTION.toString(),new Qa(2,0)),n.set(ks.MSPA_OPT_OUT_OPTION_MODE.toString(),new Qa(2,0)),n.set(ks.MSPA_SERVICE_PROVIDER_MODE.toString(),new Qa(2,0));var i=[ks.VERSION.toString(),ks.SHARING_NOTICE.toString(),ks.SALE_OPT_OUT_NOTICE.toString(),ks.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),ks.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),ks.SALE_OPT_OUT.toString(),ks.TARGETED_ADVERTISING_OPT_OUT.toString(),ks.SENSITIVE_DATA_PROCESSING.toString(),ks.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),ks.MSPA_COVERED_TRANSACTION.toString(),ks.MSPA_OPT_OUT_OPTION_MODE.toString(),ks.MSPA_SERVICE_PROVIDER_MODE.toString()];return Ms(js(t=r.call(this,n,i)),"base64UrlEncoder",new wa),e&&e.length>0&&t.decode(e),t}return t=o,(n=[{key:"encode",value:function(){return this.base64UrlEncoder.encode(this.encodeToBitString())}},{key:"decode",value:function(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}},{key:"getId",value:function(){return o.ID}},{key:"getName",value:function(){return o.NAME}}])&&Ls(t.prototype,n),o}(Ja);function Hs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ws(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ys(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zs(e){return zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zs(e)}function Qs(e,t){return Qs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qs(e,t)}function Ks(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=zs(e);if(t){var a=zs(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?Hs(r):o}}Ms(Bs,"ID",11),Ms(Bs,"VERSION",1),Ms(Bs,"NAME","usutv1"),function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Fs||(Fs={}));var qs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qs(e,t)}(o,e);var t,n,r=Ks(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=new Map;n.set(Fs.VERSION.toString(),new Qa(6,o.VERSION)),n.set(Fs.SHARING_NOTICE.toString(),new Qa(2,0)),n.set(Fs.SALE_OPT_OUT_NOTICE.toString(),new Qa(2,0)),n.set(Fs.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new Qa(2,0)),n.set(Fs.SALE_OPT_OUT.toString(),new Qa(2,0)),n.set(Fs.TARGETED_ADVERTISING_OPT_OUT.toString(),new Qa(2,0)),n.set(Fs.SENSITIVE_DATA_PROCESSING.toString(),new ns(2,[0,0,0,0,0,0,0,0])),n.set(Fs.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new ns(2,[0,0,0])),n.set(Fs.MSPA_COVERED_TRANSACTION.toString(),new Qa(2,0)),n.set(Fs.MSPA_OPT_OUT_OPTION_MODE.toString(),new Qa(2,0)),n.set(Fs.MSPA_SERVICE_PROVIDER_MODE.toString(),new Qa(2,0)),n.set(Fs.GPC_SEGMENT_TYPE.toString(),new Qa(2,1)),n.set(Fs.GPC_SEGMENT_INCLUDED.toString(),new cu(!0)),n.set(Fs.GPC.toString(),new cu(!1));var i=[[Fs.VERSION.toString(),Fs.SHARING_NOTICE.toString(),Fs.SALE_OPT_OUT_NOTICE.toString(),Fs.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),Fs.SALE_OPT_OUT.toString(),Fs.TARGETED_ADVERTISING_OPT_OUT.toString(),Fs.SENSITIVE_DATA_PROCESSING.toString(),Fs.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Fs.MSPA_COVERED_TRANSACTION.toString(),Fs.MSPA_OPT_OUT_OPTION_MODE.toString(),Fs.MSPA_SERVICE_PROVIDER_MODE.toString()],[Fs.GPC_SEGMENT_TYPE.toString(),Fs.GPC.toString()]];return Ys(Hs(t=r.call(this,n,i)),"base64UrlEncoder",new wa),e&&e.length>0&&t.decode(e),t}return t=o,(n=[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(Fs.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=!1,o=0;o<t.length;o++){var i=this.base64UrlEncoder.decode(t[o]);switch(i.substring(0,2)){case"00":n[0]=i;break;case"01":r=!0,n[1]=i;break;default:throw new ca("Unable to decode segment '"+t[o]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(Fs.GPC_SEGMENT_INCLUDED).setValue(r)}},{key:"getId",value:function(){return o.ID}},{key:"getName",value:function(){return o.NAME}}])&&Ws(t.prototype,n),o}(zu);function Js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ys(qs,"ID",12),Ys(qs,"VERSION",1),Ys(qs,"NAME","usctv1");var Xs=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function $s(e){return $s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$s(e)}function Zs(e,t){return Zs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zs(e,t)}function el(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,i=$s(e);if(t){var a=$s(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}Js(Xs,"SECTION_ID_NAME_MAP",new Map([[Tc.ID,Tc.NAME],[kc.ID,kc.NAME],[Hc.ID,Hc.NAME],[ls.ID,ls.NAME],[gs.ID,gs.NAME],[Is.ID,Is.NAME],[Vs.ID,Vs.NAME],[Bs.ID,Bs.NAME],[qs.ID,qs.NAME]])),Js(Xs,"SECTION_ORDER",[Tc.NAME,kc.NAME,Hc.NAME,ls.NAME,gs.NAME,Is.NAME,Vs.NAME,Bs.NAME,qs.NAME]);var tl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zs(e,t)}(n,e);var t=el(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).name="LazyDecodingError",r}return n}(ca);function nl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ol=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rl(this,"sections",new Map),rl(this,"encodedString",void 0),rl(this,"decoded",void 0),rl(this,"dirty",void 0),t?(this.encodedString=t,this.decoded=!1,this.dirty=!1):(this.encodedString="DBAA",this.decoded=!1,this.dirty=!1)}var t,n;return t=e,n=[{key:"setFieldValue",value:function(e,t,n){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new tl(e.message)}var r=null;if(this.sections.has(e)?r=this.sections.get(e):e===kc.NAME?(r=new kc,this.sections.set(kc.NAME,r)):e===Tc.NAME?(r=new Tc,this.sections.set(Tc.NAME,r)):e===Hc.NAME?(r=new Hc,this.sections.set(Hc.NAME,r)):e===ls.NAME?(r=new ls,this.sections.set(ls.NAME,r)):e===gs.NAME?(r=new gs,this.sections.set(gs.NAME,r)):e===Is.NAME?(r=new Is,this.sections.set(Is.NAME,r)):e===Vs.NAME?(r=new Vs,this.sections.set(Vs.NAME,r)):e===Bs.NAME?(r=new Bs,this.sections.set(Bs.NAME,r)):e===qs.NAME&&(r=new qs,this.sections.set(qs.NAME,r)),!r)throw new Gc(e+"."+t+" not found");r.setFieldValue(t,n),this.dirty=!0}},{key:"setFieldValueBySectionId",value:function(e,t,n){this.setFieldValue(Xs.SECTION_ID_NAME_MAP.get(e),t,n)}},{key:"getFieldValue",value:function(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new tl(e.message)}return this.sections.has(e)?this.sections.get(e).getFieldValue(t):null}},{key:"getFieldValueBySectionId",value:function(e,t){return this.getFieldValue(Xs.SECTION_ID_NAME_MAP.get(e),t)}},{key:"hasField",value:function(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new tl(e.message)}return!!this.sections.has(e)&&this.sections.get(e).hasField(t)}},{key:"hasFieldBySectionId",value:function(e,t){return this.hasField(Xs.SECTION_ID_NAME_MAP.get(e),t)}},{key:"hasSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new tl(e.message)}return this.sections.has(e)}},{key:"hasSectionId",value:function(e){return this.hasSection(Xs.SECTION_ID_NAME_MAP.get(e))}},{key:"deleteSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new tl(e.message)}this.sections.delete(e),this.dirty=!0}},{key:"deleteSectionById",value:function(e){this.deleteSection(Xs.SECTION_ID_NAME_MAP.get(e))}},{key:"clear",value:function(){this.sections.clear(),this.encodedString="DBAA",this.decoded=!1,this.dirty=!1}},{key:"getHeader",value:function(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new tl(e.message)}var e=new ru;return e.setFieldValue("SectionIds",this.getSectionIds()),e.toObj()}},{key:"getSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new tl(e.message)}return this.sections.has(e)?this.sections.get(e).toObj():null}},{key:"getSectionIds",value:function(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new tl(e.message)}for(var e=[],t=0;t<Xs.SECTION_ORDER.length;t++){var n=Xs.SECTION_ORDER[t];if(this.sections.has(n)){var r=this.sections.get(n);e.push(r.getId())}}return e}},{key:"encode",value:function(){if(!this.dirty)return this.encodedString;if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new tl(e.message)}for(var e=[],t=[],n=0;n<Xs.SECTION_ORDER.length;n++){var r=Xs.SECTION_ORDER[n];if(this.sections.has(r)){var o=this.sections.get(r);e.push(o.encode()),t.push(o.getId())}}var i=new ru;return i.setFieldValue("SectionIds",this.getSectionIds()),e.unshift(i.encode()),this.encodedString=e.join("~"),this.dirty=!1,this.encodedString}},{key:"decode",value:function(e){this.encodedString=e,this.decoded=!1,this.dirty=!0,this.sections.clear();var t=e.split("~"),n=new ru(t[0]);this.sections.set(ru.NAME,n);for(var r=n.getFieldValue("SectionIds"),o=0;o<r.length;o++)if(r[o]===kc.ID){var i=new kc(t[o+1]);this.sections.set(kc.NAME,i)}else if(r[o]===Tc.ID){var a=new Tc(t[o+1]);this.sections.set(Tc.NAME,a)}else if(r[o]===Hc.ID){var u=new Hc(t[o+1]);this.sections.set(Hc.NAME,u)}else if(r[o]===ls.ID){var c=new ls(t[o+1]);this.sections.set(ls.NAME,c)}else if(r[o]===gs.ID){var s=new gs(t[o+1]);this.sections.set(gs.NAME,s)}else if(r[o]===Is.ID){var l=new Is(t[o+1]);this.sections.set(Is.NAME,l)}else if(r[o]===Vs.ID){var f=new Vs(t[o+1]);this.sections.set(Vs.NAME,f)}else if(r[o]===Bs.ID){var p=new Bs(t[o+1]);this.sections.set(Bs.NAME,p)}else if(r[o]===qs.ID){var d=new qs(t[o+1]);this.sections.set(qs.NAME,d)}this.decoded=!0,this.dirty=!1}},{key:"encodeSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new tl(e.message)}return this.sections.has(e)?this.sections.get(e).encode():null}},{key:"encodeSectionById",value:function(e){return this.encodeSection(Xs.SECTION_ID_NAME_MAP.get(e))}},{key:"decodeSection",value:function(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new tl(e.message)}var n=null;this.sections.has(e)?n=this.sections.get(e):e===kc.NAME?(n=new kc,this.sections.set(kc.NAME,n)):e===Tc.NAME?(n=new Tc,this.sections.set(Tc.NAME,n)):e===Hc.NAME?(n=new Hc,this.sections.set(Hc.NAME,n)):e===ls.NAME?(n=new ls,this.sections.set(ls.NAME,n)):e===gs.NAME?(n=new gs,this.sections.set(gs.NAME,n)):e===Is.NAME?(n=new Is,this.sections.set(Is.NAME,n)):e===Vs.NAME?(n=new Vs,this.sections.set(Vs.NAME,n)):e===Bs.NAME?(n=new Bs,this.sections.set(Bs.NAME,n)):e===qs.NAME&&(n=new qs,this.sections.set(qs.NAME,n)),n&&n.decode(t)}},{key:"decodeSectionById",value:function(e,t){this.decodeSection(Xs.SECTION_ID_NAME_MAP.get(e),t)}},{key:"toObject",value:function(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new tl(e.message)}for(var e={},t=0;t<Xs.SECTION_ORDER.length;t++){var n=Xs.SECTION_ORDER[t];this.sections.has(n)&&(e[n]=this.sections.get(n).toObj())}return e}}],n&&nl(t.prototype,n),e}();function il(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function al(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ul=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),al(this,"gppVersion","1.1"),al(this,"supportedAPIs",[]),al(this,"eventQueue",new na(this)),al(this,"cmpStatus",xi.LOADING),al(this,"cmpDisplayStatus",Gi.HIDDEN),al(this,"signalStatus",Bi.NOT_READY),al(this,"applicableSections",[]),al(this,"gppModel",new ol),al(this,"cmpId",void 0),al(this,"cmpVersion",void 0),al(this,"eventStatus",void 0)}var t,n;return t=e,(n=[{key:"reset",value:function(){this.eventQueue.clear(),this.cmpStatus=xi.LOADING,this.cmpDisplayStatus=Gi.HIDDEN,this.signalStatus=Bi.NOT_READY,this.applicableSections=[],this.supportedAPIs=[],this.gppModel=new ol,delete this.cmpId,delete this.cmpVersion,delete this.eventStatus}}])&&il(t.prototype,n),e}();function cl(e,t,n){return cl=pl()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&ll(o,n.prototype),o},cl.apply(null,arguments)}function sl(e){return sl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sl(e)}function ll(e,t){return ll=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ll(e,t)}function fl(e){var t="function"==typeof Map?new Map:void 0;return fl=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return cl(e,arguments,sl(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ll(r,e)},fl(e)}function pl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var dl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ll(e,t)}(o,e);var t,n,r=(t=o,n=pl(),function(){var e,r,o,i=sl(t);if(n){var a=sl(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return r=this,!(o=e)||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).name="GVLError",t}return o}(fl(Error));function hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"has",value:function(t){return e.langSet.has(t)}},{key:"forEach",value:function(t){e.langSet.forEach(t)}},{key:"size",get:function(){return e.langSet.size}}],n&&hl(t.prototype,n),e}();function vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(yl,"langSet",new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]));var bl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"absCall",value:function(e,t,n,r){return new Promise((function(o,i){var a=new XMLHttpRequest;a.withCredentials=n,a.addEventListener("load",(function(){if(a.readyState==XMLHttpRequest.DONE)if(a.status>=200&&a.status<300){var e=a.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}o(e)}else i(new Error("HTTP Status: ".concat(a.status," response type: ").concat(a.responseType)))})),a.addEventListener("error",(function(){i(new Error("error"))})),a.addEventListener("abort",(function(){i(new Error("aborted"))})),null===t?a.open("GET",e,!0):a.open("POST",e,!0),a.responseType="json",a.timeout=r,a.ontimeout=function(){i(new Error("Timeout "+r+"ms "+e))},a.send(t)}))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),n,r)}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,n)}}],null&&vl(t.prototype,null),n&&vl(t,n),e}();function gl(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Sl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){gl(i,r,o,a,u,"next",e)}function u(e){gl(i,r,o,a,u,"throw",e)}a(void 0)}))}}function El(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ml(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ol(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var _l=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),ml(this,"vendors",void 0),ml(this,"consentLanguages",new yl),ml(this,"gvlSpecificationVersion",void 0),ml(this,"vendorListVersion",void 0),ml(this,"tcfPolicyVersion",void 0),ml(this,"lastUpdated",void 0),ml(this,"purposes",void 0),ml(this,"specialPurposes",void 0),ml(this,"features",void 0),ml(this,"specialFeatures",void 0),ml(this,"stacks",void 0),ml(this,"dataCategories",void 0),ml(this,"language",e.DEFAULT_LANGUAGE),ml(this,"vendorIds",void 0),ml(this,"ready",!1),ml(this,"fullVendorList",void 0),ml(this,"byPurposeVendorMap",void 0),ml(this,"bySpecialPurposeVendorMap",void 0),ml(this,"byFeatureVendorMap",void 0),ml(this,"bySpecialFeatureVendorMap",void 0),ml(this,"baseUrl",void 0),ml(this,"languageFilename","purposes-[LANG].json")}var t,n,r;return t=e,r=[{key:"fromVendorList",value:function(t){var n=new e;return n.populate(t),n}},{key:"fromUrl",value:function(t){return Sl((function(){var n,r,o,i,a,u,c,s;return Ol(this,(function(l){switch(l.label){case 0:if(!(n=t.baseUrl)||0===n.length)throw new dl("Invalid baseUrl: '"+n+"'");if(/^https?:\/\/vendorlist\.consensu\.org\//.test(n))throw new dl("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");return n.length>0&&"/"!==n[n.length-1]&&(n+="/"),(r=new e).baseUrl=n,t.languageFilename?r.languageFilename=t.languageFilename:r.languageFilename="purposes-[LANG].json",t.version>0?((o=t.versionedFilename)||(o="archives/vendor-list-v[VERSION].json"),i=n+o.replace("[VERSION]",String(t.version)),a=r.populate,[4,bl.fetch(i)]):[3,2];case 1:return a.apply(r,[l.sent()]),[3,4];case 2:return(u=t.latestFilename)||(u="vendor-list.json"),c=n+u,s=r.populate,[4,bl.fetch(c)];case 3:s.apply(r,[l.sent()]),l.label=4;case 4:return[2,r]}}))}))()}},{key:"isInstanceOf",value:function(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}}],(n=[{key:"changeLanguage",value:function(e){var t=this;return Sl((function(){var n,r,o,i;return Ol(this,(function(a){switch(a.label){case 0:if(n=e.toUpperCase(),!t.consentLanguages.has(n))return[3,5];if(n===t.language)return[3,4];t.language=n,r=t.baseUrl+t.languageFilename.replace("[LANG]",e),a.label=1;case 1:return a.trys.push([1,3,,4]),o=t.populate,[4,bl.fetch(r)];case 2:return o.apply(t,[a.sent()]),[3,4];case 3:throw i=a.sent(),new dl("unable to load language: "+i.message);case 4:return[3,6];case 5:throw new dl("unsupported language ".concat(e));case 6:return[2]}}))}))()}},{key:"getJson",value:function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories,vendors:this.fullVendorList}))}},{key:"isVendorList",value:function(e){return void 0!==e&&void 0!==e.vendors}},{key:"populate",value:function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.ready=!0)}},{key:"mapVendors",value:function(e){var t=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((function(e){t.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((function(e){t.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((function(e){t.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((function(e){t.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((function(e){return+e}))),this.vendorIds=new Set(e),this.vendors=e.reduce((function(e,n){var r=t.vendors[String(n)];return r&&void 0===r.deletedDate&&(r.purposes.forEach((function(e){t.byPurposeVendorMap[String(e)].consent.add(n)})),r.specialPurposes.forEach((function(e){t.bySpecialPurposeVendorMap[String(e)].add(n)})),r.legIntPurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].legInt.add(n)})),r.flexiblePurposes&&r.flexiblePurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].flexible.add(n)})),r.features.forEach((function(e){t.byFeatureVendorMap[String(e)].add(n)})),r.specialFeatures.forEach((function(e){t.bySpecialFeatureVendorMap[String(e)].add(n)})),e[n]=r),e}),{})}},{key:"getFilteredVendors",value:function(e,t,n,r){var o=this,i=e.charAt(0).toUpperCase()+e.slice(1),a={};return("purpose"===e&&n?this["by"+i+"VendorMap"][String(t)][n]:this["by"+(r?"Special":"")+i+"VendorMap"][String(t)]).forEach((function(e){a[String(e)]=o.vendors[String(e)]})),a}},{key:"getVendorsWithConsentPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"consent")}},{key:"getVendorsWithLegIntPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"legInt")}},{key:"getVendorsWithFlexiblePurpose",value:function(e){return this.getFilteredVendors("purpose",e,"flexible")}},{key:"getVendorsWithSpecialPurpose",value:function(e){return this.getFilteredVendors("purpose",e,void 0,!0)}},{key:"getVendorsWithFeature",value:function(e){return this.getFilteredVendors("feature",e)}},{key:"getVendorsWithSpecialFeature",value:function(e){return this.getFilteredVendors("feature",e,void 0,!0)}},{key:"narrowVendorsTo",value:function(e){this.mapVendors(e)}},{key:"isReady",get:function(){return this.ready}}])&&El(t.prototype,n),r&&El(t,r),e}();function wl(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ml(_l,"DEFAULT_LANGUAGE","EN");var Pl=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Il(this,"callResponder",void 0),Il(this,"cmpApiContext",void 0),this.cmpApiContext=new ul,this.cmpApiContext.cmpId=t,this.cmpApiContext.cmpVersion=n,this.callResponder=new Zi(this.cmpApiContext,r)}var t,n;return t=e,n=[{key:"fireEvent",value:function(e,t){this.cmpApiContext.eventQueue.exec(e,t)}},{key:"fireErrorEvent",value:function(e){this.cmpApiContext.eventQueue.exec("error",e)}},{key:"fireSectionChange",value:function(e){this.cmpApiContext.eventQueue.exec("sectionChange",e)}},{key:"getEventStatus",value:function(){return this.cmpApiContext.eventStatus}},{key:"setEventStatus",value:function(e){this.cmpApiContext.eventStatus=e}},{key:"getCmpStatus",value:function(){return this.cmpApiContext.cmpStatus}},{key:"setCmpStatus",value:function(e){this.cmpApiContext.cmpStatus=e,this.cmpApiContext.eventQueue.exec("cmpStatus",e)}},{key:"getCmpDisplayStatus",value:function(){return this.cmpApiContext.cmpDisplayStatus}},{key:"setCmpDisplayStatus",value:function(e){this.cmpApiContext.cmpDisplayStatus=e,this.cmpApiContext.eventQueue.exec("cmpDisplayStatus",e)}},{key:"getSignalStatus",value:function(){return this.cmpApiContext.signalStatus}},{key:"setSignalStatus",value:function(e){this.cmpApiContext.signalStatus=e,this.cmpApiContext.eventQueue.exec("signalStatus",e)}},{key:"getApplicableSections",value:function(){return this.cmpApiContext.applicableSections}},{key:"setApplicableSections",value:function(e){this.cmpApiContext.applicableSections=e}},{key:"getSupportedAPIs",value:function(){return this.cmpApiContext.supportedAPIs}},{key:"setSupportedAPIs",value:function(e){this.cmpApiContext.supportedAPIs=e}},{key:"setGppString",value:function(e){this.cmpApiContext.gppModel.decode(e)}},{key:"getGppString",value:function(){return this.cmpApiContext.gppModel.encode()}},{key:"setSectionString",value:function(e,t){this.cmpApiContext.gppModel.decodeSection(e,t)}},{key:"setSectionStringById",value:function(e,t){this.setSectionString(Xs.SECTION_ID_NAME_MAP.get(e),t)}},{key:"getSectionString",value:function(e){return this.cmpApiContext.gppModel.encodeSection(e)}},{key:"getSectionStringById",value:function(e){return this.getSectionString(Xs.SECTION_ID_NAME_MAP.get(e))}},{key:"setFieldValue",value:function(e,t,n){this.cmpApiContext.gppModel.setFieldValue(e,t,n)}},{key:"setFieldValueBySectionId",value:function(e,t,n){this.setFieldValue(Xs.SECTION_ID_NAME_MAP.get(e),t,n)}},{key:"getFieldValue",value:function(e,t){return this.cmpApiContext.gppModel.getFieldValue(e,t)}},{key:"getFieldValueBySectionId",value:function(e,t){return this.getFieldValue(Xs.SECTION_ID_NAME_MAP.get(e),t)}},{key:"getSection",value:function(e){return this.cmpApiContext.gppModel.getSection(e)}},{key:"getSectionById",value:function(e){return this.getSection(Xs.SECTION_ID_NAME_MAP.get(e))}},{key:"hasSection",value:function(e){return this.cmpApiContext.gppModel.hasSection(e)}},{key:"hasSectionId",value:function(e){return this.hasSection(Xs.SECTION_ID_NAME_MAP.get(e))}},{key:"deleteSection",value:function(e){this.cmpApiContext.gppModel.deleteSection(e)}},{key:"deleteSectionById",value:function(e){this.deleteSection(Xs.SECTION_ID_NAME_MAP.get(e))}},{key:"clear",value:function(){this.cmpApiContext.gppModel.clear()}},{key:"getObject",value:function(){return this.cmpApiContext.gppModel.toObject()}},{key:"getGvlFromVendorList",value:function(e){return _l.fromVendorList(e)}},{key:"getGvlFromUrl",value:function(e){return(t=function(){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){return[2,_l.fromUrl(e)]}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){wl(i,r,o,a,u,"next",e)}function u(e){wl(i,r,o,a,u,"throw",e)}a(void 0)}))})();var t}}],n&&Tl(t.prototype,n),e}();function Nl(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Al(e){return Cl.apply(this,arguments)}function Cl(){var e;return e=function(e){var t,n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=function(e){var t=yn(e,"__gppLocator");if(!t)throw new Error("No __gppLocator frame");return t}(e),[4,kl(t)];case 1:return[2,Dl(r.sent().gppString,e)];case 2:return n=r.sent(),console.log("GPP Error: ",n),[2,null];case 3:return[2]}}))},Cl=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Nl(i,r,o,a,u,"next",e)}function u(e){Nl(i,r,o,a,u,"throw",e)}a(void 0)}))},Cl.apply(this,arguments)}var Rl={tcfeu:{id:2,prefix:"tcfeuv2"},tcfca:{id:5,prefix:"tcfcav1"},usp:{id:6,prefix:"uspv1"},usnat:{id:7,prefix:"usnat"},usca:{id:8,prefix:"usca"},usva:{id:9,prefix:"usva"},usco:{id:10,prefix:"usco"},usut:{id:11,prefix:"usut"},usct:{id:12,prefix:"usct"}};function Dl(e,t){!function(e){e.__gpp=function(){}}(t);var n=new Pl(hn.id,hn.version);return n.setGppString(e),{tcf:n.getSectionString(Rl.tcfeu.prefix),usp:n.getSectionString(Rl.usp.prefix)}}function kl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ping",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return new Promise((function(r){var o="gpp-".concat(t,"-").concat(Math.random());!function(e,t,n){t.addEventListener("message",(function(t){try{var r="string"==typeof t.data?JSON.parse(t.data):t.data,o=null==r?void 0:r.__gppReturn;o&&o.callId===n&&e(o.returnValue)}catch(e){}}),!1)}(r,n,o),function(e,t){var n=t.command,r=t.callId;e.postMessage({__gppCall:{command:n,parameter:"",version:"1.1",callId:r}},"*")}(e,{command:t,callId:o})}))}function Vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jl(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}function Ll(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ml(e,t,n,r,o){return Ul.apply(this,arguments)}function Ul(){var e;return e=function(e,t,n,r,o){var a,u,c,s,l,f,p,d,h;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(y){switch(y.label){case 0:return a=1===n.user.can_serve_ads,u=1===n.user.can_cookie,c=r.frameWindow,n.gpp?[4,Al(c)]:[3,2];case 1:(null==(s=y.sent())?void 0:s.tcf)&&!n.tcString&&(n.tcString=s.tcf),(null==s?void 0:s.usp)&&!n.uspString&&(n.uspString=s.usp),y.label=2;case 2:return!n.usp||n.uspString?[3,4]:[4,Xo(c)];case 3:l=y.sent(),n.uspString=l,y.label=4;case 4:return n.partner_tcf_status===i.PARTNER_TCF_STATUS||n["dianomi-tcf"]?(f=null,(p=n.tcString)&&(f=function(e,t){try{var n=un.decode(e),r=new sr;r.gdprApplies=C(t.user.in_gdpr),r.tcString=e,r.isServiceSpecific=n.isServiceSpecific,r.useNonStandardStacks=n.useNonStandardStacks,r.purposeOneTreatment=n.purposeOneTreatment,r.purpose={consents:jl(n.purposeConsents),legitimateInterests:jl(n.purposeLegitimateInterests)},r.vendor={consents:jl(n.vendorConsents),legitimateInterests:jl(n.vendorLegitimateInterests)},r.specialFeatureOptins=jl(n.specialFeatureOptins),r.publisher={consents:jl(n.publisherConsents),legitimateInterests:jl(n.publisherLegitimateInterests),customPurpose:{consents:jl(n.publisherCustomConsents),legitimateInterests:jl(n.publisherCustomLegitimateInterests)},restrictions:(s=n.publisherRestrictions,l={},s.getRestrictions().forEach((function(e){var t={},n=e.restrictionType;s.getVendors(e).forEach((function(e){t[e]=n})),l[e.purposeId]=t})),l)};var o=(u=dn(r),c=2,function(e){if(Array.isArray(e))return e}(u)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(u,c)||function(e,t){if(e){if("string"==typeof e)return Vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vl(e,t):void 0}}(u,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];return new pn(r,i,a)}catch(e){return console.error("Error decoding TC String:",e),null}var u,c,s,l}(p,n)),f?[3,6]:[4,yo(a,u,c)]):[3,11];case 5:f=y.sent(),y.label=6;case 6:return(null==n?void 0:n.identity)&&f?[4,Qo({identity:n.identity,dianomiContextHost:e.host,tcfPermissions:f,inGDPR:1===(null==n||null===(d=n.user)||void 0===d?void 0:d.in_gdpr),dnt:1===(null==n||null===(h=n.user)||void 0===h?void 0:h.dnt)},r)]:[3,8];case 7:n.identity_values=y.sent(),y.label=8;case 8:return(t.getAttribute("data-dianomi-context-loaded")||i.CONTEXT_NOT_LOADED)===i.CONTEXT_LOADED?[3,10]:[4,o(e,t,n,f)];case 9:y.sent(),y.label=10;case 10:return[2];case 11:return[4,o(e,t,n,null)];case 12:return y.sent(),[2]}}))},Ul=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ll(i,r,o,a,u,"next",e)}function u(e){Ll(i,r,o,a,u,"throw",e)}a(void 0)}))},Ul.apply(this,arguments)}function xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gl(e,t,n){e.forEach((function(e){!function(e,t){navigator.sendBeacon("https://".concat(t,"/cgi-bin/reporting.pl"),JSON.stringify(e))}(function(e,t){var n=t.videoId,r=t.uniqueId,o=t.adId,i=t.url,a=t.adType,u={type:e.type,url:i,body:e.body,unique_id:r,ad_type:a};return n&&(u.video_id=n),o&&(u.ad_id=o),u}(e,t),n)}))}function Fl(e,t,n){var r,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("sendBeacon"in navigator&&"ReportingObserver"in window&&"JSON"in window){var a=(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xl(e,t,n[t])}))}return e}({},t),o=null!=(o={url:i||N(),adType:n})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})),r),u=new ReportingObserver((function(t){Gl(t,a,e)}),{buffered:!0,types:["intervention"]});u.observe(),window.addEventListener("pagehide",(function(){var t=u.takeRecords();t.length>0&&Gl(t,a,e)}))}}function Bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hl(e){var t,n;function r(t,n){try{var i=e[t](n),a=i.value,u=a instanceof Ql;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("next",e):o(i.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise((function(i,a){var u={key:e,arg:o,resolve:i,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function Wl(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Yl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Wl(i,r,o,a,u,"next",e)}function u(e){Wl(i,r,o,a,u,"throw",e)}a(void 0)}))}}function zl(e){return new Ql(e)}function Ql(e){this.wrapped=e}function Kl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Kl(e,t,n[t])}))}return e}function Jl(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Xl(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function $l(e,t,n,u){var s,l,p="20240516120446611",g=0,P=0,N=1,R={videoDebug:P,tcfDebug:P};function k(e){var t="".concat(e.partner_id,".").concat(e.cfid);return e.name&&(t="".concat(t,".").concat(e.name)),t}function V(e,t,n,r){return j.apply(this,arguments)}function j(){return j=Yl((function(u,c,f,E){var P,N,C,V,j,x,G,Y,z,Q,K,q,J,X,$,Z,ee,te,ne,re,oe,ie,ae,ue;function ce(e,t,n){if(e.when&&e.when[t]){for(var r=e.when[t],o=0;o<r.length;o++)if(r[o]===n)return!0;return!1}return!0}function se(e,t,n){return le.apply(this,arguments)}function le(){return le=Yl((function(n,r,o){var i,a,u,c,s,l,f,p,d,h,y,v,g,S,E=arguments;function m(){u()?(e.postMessage({type:"dianomi-native-ad",responsive:!0,nativeUnit:o},"*"),s.style.flexDirection="column"):(e.postMessage({type:"dianomi-native-ad",responsive:!1,nativeUnit:o},"*"),s.style.flexDirection="row")}return Xl(this,(function(o){switch(o.label){case 0:i=E.length>3&&void 0!==E[3]?E[3]:j,a=r.responsiveWidth||"0",u=function(){return V<=Number(a)},(c=t.createElement("div")).id="dianomi-native-main-container",(s=t.createElement("div")).id="dianomi-native-container",s.style.display="flex",s.style.flexDirection=u()?"column":"row",c.appendChild(s),i.appendChild(c),l=!0,f=!1,p=void 0,o.label=1;case 1:o.trys.push([1,6,7,8]),d=n[Symbol.iterator](),o.label=2;case 2:return(l=(h=d.next()).done)?[3,5]:(y=h.value,[4,Y[y.type](y.args,s,!0,u())]);case 3:o.sent(),o.label=4;case 4:return l=!0,[3,2];case 5:return[3,8];case 6:return v=o.sent(),f=!0,p=v,[3,8];case 7:try{l||null==d.return||d.return()}finally{if(f)throw p}return[7];case 8:return g=0,S=setInterval((function(){g>20&&clearInterval(S),m(),g++}),100),b(e,(function(){m(),clearInterval(S)})),[2]}}))})),le.apply(this,arguments)}function fe(e,t){return pe.apply(this,arguments)}function pe(){return pe=Yl((function(n,r){var o,i,a;return Xl(this,(function(u){switch(u.label){case 0:return _("native",n)?(se(n.units,{},"0",r),[3,5]):[3,1];case 1:return O(["smartad","video"],n)?(_("smartad",n)&&r&&(r=D(r,n.args,!1,e),b(e,(function(){return h(r,n.args,V)}))),r?(o=n.args,i=n.type,_("googleTag",n)||_("iframe",n)||!n.seed||(o=Jl(ql({},o),{seed:n.seed})),[4,Y[i](o,r,!1,!0)]):[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:_("passback",n)&&((a=t.createElement("iframe")).classList.add("passback-container"),a.srcdoc=n.args.passbackTag,a.style.border="none",a.width="100%",a.onload=function(){var e;a.style.height="".concat(null===(e=a.contentWindow)||void 0===e?void 0:e.innerHeight,"px")},r.append(a)),u.label=5;case 5:return[2]}}))})),pe.apply(this,arguments)}return Xl(this,(function(le){switch(le.label){case 0:if(N=!1,ye=t.getElementById("dianomi-context-wrapper"),C=null==ye?void 0:ye.getAttribute("data-dianomi-parent-iframe-id"),f["dianomi-tcf"]&&console.log("contextfeed tcf debug enabled, context id",null==u?void 0:u.id,"tcfPermissions=",E),(f["dianomi-tcf"]||f.partner_tcf_status==i.PARTNER_TCF_STATUS)&&E&&!E.can_serve_ads())return f["dianomi-tcf"]&&console.log("context feed tcf debug, showing nothing due to can_serve_ads for context id",u.id),r.notify_context(u.host,u.id,k(f),o.NoPermissions),[2];!f["dianomi-tcf"]&&f.partner_tcf_status!=i.PARTNER_TCF_STATUS||null!==E||(f["dianomi-tcf"]&&console.log("context feed tcf debug, no tcf object for context id",u.id),r.notify_context(u.host,u.id,k(f),o.NoTcData)),T(c,null===(P=f.args)||void 0===P?void 0:P.styling),V=v(e),b(e,(function(){V=v(e)})),G=function(n){t.body.style.overflow="hidden",t.body.style.margin="0",j=t.createElement("div");var r={maxWidth:n.width||"650px",height:n.height||"auto",margin:"0 auto"};T(j,r),L(j,n,V),b(e,(function(){return L(j,n,V)})),x=k(f),c.appendChild(j);var o=t.createElement("div");o.style.borderBottom="1px solid #ccc",o.style.marginBottom="5px",o.style.position="relative",o.style.height="13px";var i=void 0!==f.user.country_code?"&geo_ccod=".concat(f.user.country_code):"";o.innerHTML="<a href='https://".concat(u.host,".dianomi.com/cms/whats-this/?utm.source=").concat(e.location.hostname,"&utm_medium=smartad_sponsor_link' target='_blank'> <span style='font-size: 10px;color: #748683; position: absolute; width: 125px; right: 0; font-family: helvetica, arial, sans-serif;'>Context Feed by <img src='https://www.dianomi.com/img/dianomi-max-200x38.png' alt='dianomi' style='width: 45px;height: auto; display: inline;'><img src='https://www.dianomi.com/cgi-bin/pixeltrack.pl?cf=").concat(encodeURIComponent(x)).concat(i,"'></span></a>"),c.appendChild(j);var a=t.createElement("link");if(a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href","https://".concat(u.host,"/partner/dianomi/css/dianomi-context.css?v=1.1")),t.body.appendChild(a),f.header_html){var s=t.createElement("div");s.innerHTML=f.header_html,j.appendChild(s)}n.iframebuster&&("loading"==t.readyState?t.addEventListener("DOMContentLoaded",(function(){return U(n.iframebusterOptions)})):U(n.iframebusterOptions))},Y={video:(he=Yl((function(n){var r,o,i,a,c,l,d,v=arguments;return Xl(this,(function(m){return r=v.length>1&&void 0!==v[1]?v[1]:j,o=v.length>2&&void 0!==v[2]&&v[2],i=v.length>3&&void 0!==v[3]&&v[3],a=Math.floor(1e5*Math.random()),c="dianomi_video_".concat(n.id,"_").concat(a),l=t.createElement("div"),o&&(l.style.paddingRight=n.nativeRightPadding||"20px"),"left"===n.float&&(l.style.padding="0 15px 0 0"),l.id="dianomi-video-container-".concat(n.id,"-").concat(a),l.classList.add("dianomi_video"),o||(y(l,n,V),h(l,n,V,!0),b(e,(function(){h(l,n,V,!0),y(l,n,V)}))),r.appendChild(l),e[c]={args:n,context_id:u.id,dianomiContextHost:u.host,data:f,tcfPermissions:E,server_can_serve_ads:null==E?void 0:E.can_serve_ads(),server_can_cookie:null==E?void 0:E.can_cookie(),viewportWidth:V,dianomiContextAffiliate:u.affiliate,randomId:a,videoDebug:R.videoDebug,dianomiPageUrl:s,cf:x,isNative:o,isNativeResponsive:i,dvDivContainer:l,dianomiClickMacro:u.clickMacro,unitCount:g++,topProductId:u.topProductId},(d=t.createElement("script")).src="https://".concat(u.host,"/js/contextfeed/videofeed.js?v=").concat(p),d.id="dianomi_video_script",d.type="text/javascript",d.setAttribute("dianomi-variable-name",c),r.appendChild(d),e.addEventListener("message",(function(t){var n;"dianomi-parent-resize"===(null===(n=t.data)||void 0===n?void 0:n.type)&&S(e,"resize")})),[2]}))})),function(e){return he.apply(this,arguments)}),smartad:function(){var r=Yl((function(r){var o,c,l,p,S,O,_,T,P,A,C,R,k,L,U,G,F,H,W,Y,z,Q,K,q,J,X=arguments;return Xl(this,(function($){switch($.label){case 0:return o=X.length>1&&void 0!==X[1]?X[1]:j,c=X.length>2&&void 0!==X[2]&&X[2],l=X.length>3&&void 0!==X[3]&&X[3],r.inline?(p="https://".concat(u.host,"/smartads.epl?id=").concat(encodeURIComponent(r.id),"&callback=callback").concat(encodeURIComponent(r.id),"&return_as=callback%20function&returnAs=callback%20function"),(S=t.createElement("script")).setAttribute("src",p),e["callback".concat(r.id)]=function(e){var n="SMART HTML :".concat(e),r=t.getElementById("test");r&&(r.innerHTML=n)},(O=t.createElement("div")).classList.add("dianomiContent"),O.style.display="block",O.setAttribute("id","test"),o.appendChild(O),t.body.appendChild(S),[3,9]):[3,1];case 1:if(_=t.createElement("iframe"),T=r.numAds,P=r.numAdsRes)for(var Z in A=0,P)C=Number(Z),V>=C&&C>A&&(A=C,T=P[Z]);if(R=m(r,g++,f),k={numAds:T,cf:x,url:s,unitCount:g,unitId:R,isWaterfall:l,id:r.id,start:r.start,seed:r.seed,initId:r.initId,responsiveHeight:r.responsiveHeight,closeIfEmpty:r.closeIfEmpty,shuffle:r.shuffle,contentRendered:r.contentRendered,affiliate:u.affiliate,clickMacro:u.clickMacro,darkmodeOverride:u.darkmodeOverride,pageDomain:u.pageDomain,topProductId:u.topProductId,uspString:f.uspString,gppString:f.gppString,contextfeedFrameId:n},L={dianomiContextHost:u.host,tcfPermissions:E,server_can_serve_ads:(null==E?void 0:E.can_serve_ads())||null,server_can_cookie:(null==E?void 0:E.can_cookie())||null,data:f,params:k},U=function(e){var t=e.data,n=e.tcfPermissions,r=e.server_can_serve_ads,o=e.server_can_cookie,i=e.params,a="https://".concat(e.dianomiContextHost,"/smartads.epl");if(a+=I("id",i.id,!0),["numAds","start","seed","cf","uspString","gppString","affiliate","clickMacro","url","initId","unitId","closeIfEmpty","isWaterfall","responsiveHeight","topProductId","pageDomain","darkmodeOverride","contextfeedFrameId","contentRendered"].forEach((function(e){a+=I(e,i[e])})),"0"===i.shuffle&&(a+="&shuffle=0"),"2.0"==t.partner_tcf_status||t["dianomi-tcf"])if(n){a+="&gdpr_consent=".concat(n.gdpr_consent());var u=n.gdpr();a+="&gdpr=".concat(u),a+="&canServeAds=".concat(n.can_serve_ads(),"&canCookie=").concat(n.can_cookie())}else a+="&canServeAds=".concat(r,"&canCookie=").concat(o);return t.partner_tcf_status&&(a+="&partner_tcf_status=".concat(t.partner_tcf_status,"&partnerTcfStatus=").concat(t.partner_tcf_status)),a}(L),G=D(_,r,l,e),r.id&&(G.id=r.id),G.setAttribute("data-dianomi-unit-id",R),r.order&&(G.style.order=r.order),G.setAttribute("title","dianomi SmartAd Content ".concat(r.id,"-").concat(g)),G.classList.add("smartad_iframe"),!f.identity_values)return[3,7];(F=new FormData).append("postCall","true"),F.append("eids",JSON.stringify(f.identity_values)),$.label=2;case 2:return $.trys.push([2,5,,6]),[4,fetch(U,{credentials:"include",method:"POST",body:F})];case 3:return[4,$.sent().text()];case 4:return W=$.sent(),Y=!1,z=function(){var e,t;Y||(Y=!0,e=W,null==(t=G.contentDocument)||t.open().write(e),null==t||t.close())},"complete"!==(null===(H=G.contentDocument)||void 0===H?void 0:H.readyState)?G.onload=function(){z()}:z(),[3,6];case 5:return Q=$.sent(),console.log("Unable to retrieve Smartad",Q),w(G,r,U),[3,6];case 6:return[3,8];case 7:w(G,r,U),$.label=8;case 8:K=!1,r.lazy&&r.lazy===i.LAZY_LOADING_ENABLED&&(N=!0,K=!0),c&&G.classList.add("dianomi-native-iframe"),c||function(e,t,n,r){var o=r.parent.innerWidth,i=v(r);h(e,t,i,!1,n),y(e,t,i),d(e,t,i),b(r,(function(){r.parent.innerWidth!==o&&(o=r.parent.innerWidth,i=v(r),t.responsiveHeight||d(e,t,i),h(e,t,i,!1,n),y(e,t,i))}))}(G,r,l,e),M(G,r),r.sticky===i.STICKY_AD?((J=a({frameWindow:e,frameDocument:t},u.host,r,n,null==f||null===(q=f.user)||void 0===q?void 0:q.adchoices)).appendChild(_),(e.top||e).document.body.appendChild(J)):o.appendChild(G),K&&B(G,r.lazyRootMargin,r.lazyRootElement),c&&function(e,t,n){n.addEventListener("message",(function(n){var r,o,i=n.data;"dianomi-native-ad"===i.type&&(i.responsive?(null===(r=e.contentWindow)||void 0===r||r.postMessage({type:"dianomi-native-responsive",responsive:!0},"*"),e.style.width="100%"):(null===(o=e.contentWindow)||void 0===o||o.postMessage({type:"dianomi-native-responsive",responsive:!1},"*"),t.width&&(e.style.width=t.width)))}),!1)}(G,r,e),$.label=9;case 9:return[2]}}))}));return function(e){return r.apply(this,arguments)}}(),iframe:function(n){var r=t.createElement("iframe");n.src&&(r.setAttribute("data-src",n.src),r.setAttribute("src",n.src)),r.setAttribute("title","dianomi iframe Content"),d(r,n,V);var o=e.innerWidth;b(e,(function(){e.parent.innerWidth!==o&&(o=e.innerWidth,d(r,n,V))})),n.width&&(r.style.width=n.width),n.scrolling&&(r.style.overflow=n.scrolling),n.border&&(r.style.border=n.border),j.appendChild(r)},recirc:function(n){var r=t.createElement("iframe"),o=m(n,g++,f);r.setAttribute("data-dianomi-unit-id",o);var a="https://".concat(u.host,"/recirculation.epl?id=").concat(n.id,"&unitId=").concat(o);n.id&&(r.id=n.id),n.start&&(a+="&start=".concat(n.start)),n.seed&&(a+="&seed=".concat(Number(n.seed))),x&&(a+="&cf=".concat(encodeURIComponent(x))),s&&(a+="&url=".concat(encodeURIComponent(s)));var c=!1;n.lazy&&n.lazy===i.LAZY_LOADING_ENABLED?(N=!0,c=!0,r.className="lazy",r.setAttribute("data-src",a),r.style.minHeight="1px;"):r.setAttribute("src",a);var l="100%";n.width&&(l=n.width),r.style.width=l,r.setAttribute("title","dianomi Recirculation Content"),y(r,n,V),d(r,n,V),h(r,n,V);var p=e.innerWidth;b(e,(function(){e.parent.innerWidth!==p&&(p=e.parent.innerWidth,y(r,n,V),d(r,n,V),h(r,n,V))})),n.minWidth&&(r.style.minWidth=n.minWidth),r.style.border="none",r.style.overflow="hidden",M(r,n),j.appendChild(r),c&&B(r,n.lazyRootMargin,n.lazyRootElement)},googleTag:function(e){var n;(n=t.createElement("script")).async=!0,n.src="https://www.googletagservices.com/tag/js/gpt.js",t.head.appendChild(n);var r=t.createElement("div"),o=t.createElement("script"),a=t.createElement("script"),u="";e.tagID&&(r.id=e.tagID),e.padding&&(r.style.padding=e.padding),e.align&&(r.style.textAlign=e.align),e.minWidth&&(r.style.minWidth=e.minWidth),h(r,e,V),y(r,e,V),r.className="googleAdFrame",o.type="text/javascript",e.lazy&&e.lazy===i.LAZY_LOADING_ENABLED&&(u="googletag.pubads().enableLazyLoad({fetchMarginPercent: 100,renderMarginPercent: 80,mobileScaling: 1.5}); ",r.style.minHeight="1px"),o.text=" window.googletag = window.googletag || {cmd: []}; googletag.cmd.push(function() {googletag.defineSlot('".concat(e.slot,"', [").concat(e.sizes,"], '").concat(e.tagID,"').addService(googletag.pubads()); ").concat(u," googletag.enableServices(); });"),a.type="text/javascript",a.text=" googletag.cmd.push(function() { googletag.display('".concat(e.tagID,"');});"),t.head.appendChild(o),j.appendChild(r),r.appendChild(a)}},z={},f.args&&(z=f.args),G(z),Q=e.parent.location.hostname,K=f.user.country_code,q=A(f.units),J=q.units,q.responsiveHeight&&e.addEventListener("message",(function(n){if("string"==typeof n.data&&n.origin.includes("dianomi.com")){var r=n.data.split("-");if(/\d{1,4}-\d{1,6}/.test(n.data)){var o=r[0],i=r[1];if(Number(i))for(var a=t.querySelectorAll("[data-dianomi-unit-id^=dianomi-".concat(i,"]")),u=0;u<a.length;u++)a[u].style.height="".concat(o,"px"),S(e,"resize")}if(/\d{1,4}-([a-z])\w+-\d{1,6}-/.test(n.data))for(var c=t.querySelectorAll("IFRAME"),s=0;s<c.length;s++){var l=c[s],f=r[0];if(l.getAttribute("data-dianomi-unit-id")==="dianomi-".concat(r[2],"-").concat(r[3])){S(e,"resize"),l.style.height="".concat(f,"px");break}}}else if(n.data&&"object"==typeof n.data&&"__dianomiResponsiveHeight"in n.data){var p=n.data.__dianomiResponsiveHeight,d=p.frameId,h=p.height;if(Number(d))for(var y=t.querySelectorAll("[data-dianomi-unit-id^=dianomi-".concat(d,"]")),v=0;v<y.length;v++)y[v].style.height="".concat(h,"px"),S(e,"resize")}}),!1),N&&function(){for(var e=H((function(){return F()}),{threshold:1}),n=t.querySelectorAll(".dianomiLazy"),r=0;r<n.length;r++){var o=n[r];W(o,e,!1),W(o,e,!0)}}(),X=!0,$=!1,Z=void 0,le.label=1;case 1:le.trys.push([1,15,16,17]),ee=Object.entries(J)[Symbol.iterator](),le.label=2;case 2:return(X=(te=ee.next()).done)?[3,14]:(pe=te.value,de=2,ne=function(e){if(Array.isArray(e))return e}(pe)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(pe,de)||function(e,t){if(e){if("string"==typeof e)return Bl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bl(e,t):void 0}}(pe,de)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),re=ne[0],oe=ne[1],_("cfWaterfall",ie=oe)?(function(r){var o,i=r.units,c=r.closeIfEmpty,s=void 0===c?null:c,p=r.closeUnitIfEmpty,h=void 0===p?null:p,y=r.sticky,v=void 0===y?null:y,b=Math.floor(1e6*Math.random()),g=A(i).units,E=Object.keys(g);function m(){var o;return o=function(o){var i,c,l,p,y,m;return Xl(this,(function(_){switch(_.label){case 0:i=null,c="waterfall-".concat(b),_.label=1;case 1:return 0===o?v?(p=a({frameWindow:e,frameDocument:t},u.host,r,n,null==f||null===(l=f.user)||void 0===l?void 0:l.adchoices),(e.top||e).document.body.appendChild(p),i=p):(i=t.createElement("div"),j.append(i),i.id=c):i&&(i.innerHTML=""),y=E[o],void 0!==(m=g[y])&&i?[4,zl(fe(m,i))]:[2];case 2:return _.sent(),o++,[4];case 3:if(_.sent())return[2];if(o===E.length&&O(["smartad","video"],m)){if("1"===s)return m.args.height="0",d(i,m.args,V),S(e,"resize"),[2];if("1"===h)return m.args.height="0",d(i,m.args,V),S(e,"collapse",C),[2]}return[3,1];case 4:return[2]}}))},m=function(){return new Hl(o.apply(this,arguments))},m.apply(this,arguments)}l=function(e){return m.apply(this,arguments)}(0),e.addEventListener("message",(function(e){var t,n;"dianomi-waterfall"===(null===(t=e.data)||void 0===t?void 0:t.type)&&(null==l||null===(n=l.next)||void 0===n||n.call(l,e.data.adServed))}),!1),null==l||null===(o=l.next)||void 0===o||o.call(l)}(ie),[3,13]):_("native",ie)?(ae=f[re]||{},[4,se(ie.units,ae,re.split("-")[1])]):[3,4]);case 3:return le.sent(),[3,13];case 4:if(_("passback",ie)||!ce(ie,"domain",Q)||!ce(ie,"country_code",K))return[3,13];switch(_("googleTag",ie)||_("iframe",ie)||!ie.seed||(ie.args=Jl(ql({},ie.args),{seed:ie.seed})),ie.type){case"smartad":return[3,5];case"recirc":return[3,7];case"video":return[3,8];case"googleTag":return[3,10];case"iframe":return[3,11]}return[3,12];case 5:return[4,Y.smartad(ie.args)];case 6:return le.sent(),[3,13];case 7:return Y.recirc(ie.args),[3,13];case 8:return[4,Y.video(ie.args)];case 9:return le.sent(),[3,13];case 10:return Y.googleTag(ie.args),[3,13];case 11:return Y.iframe(ie.args),[3,13];case 12:throw new Error("Dianomi: Unknown unit type ".concat(ie.type,". Check the unit type in the YAML file. Must be one of the following: smartad, recirc, video, googleTag, iframe, cfWaterfall"));case 13:return X=!0,[3,2];case 14:return[3,17];case 15:return ue=le.sent(),$=!0,Z=ue,[3,17];case 16:try{X||null==ee.return||ee.return()}finally{if($)throw Z}return[7];case 17:return(f.partner_tcf_status==i.PARTNER_TCF_STATUS||f["dianomi-tcf"])&&c.setAttribute("data-dianomi-context-loaded",i.CONTEXT_LOADED),nf.stop("cf-loading-".concat(n)),[2]}var pe,de,he,ye}))})),j.apply(this,arguments)}function L(e,t,n){t.mobileDisplay&&n<480?e.style.display=t.mobileDisplay:e.style.display="block"}function M(e,t){t.display?e.style.display=t.display:e.style.display="block"}function U(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.parent.postMessage({type:"dianomi-iframebuster",options:t},"*")}function x(e){return G.apply(this,arguments)}function G(){return G=Yl((function(n){var r,o,a,l,p,d,h,y,v,b,g,S,m,O,_,w,T,I,A;return Xl(this,(function(D){switch(D.label){case 0:return o=function(e,t){var n={},r=!0,o=!1,i=void 0;try{for(var a,u=Object.entries(t)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=c(a.value,2),l=s[0],f=s[1],p="string"==typeof f,d=e.getAttribute(p?f:f.attribute);n[l]=p?d:E(d,f)}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(n,f),a=o.id,l=o.done,p=o.host,d=o.endpoint,h=o.cfTest,y=o.trafficSource,l===i.CONTEXT_LOADED?[2]:"string"!=typeof o.id?(console.log("Couldn't find data-dianomi-context-id",n),[2]):(function(e,t){var n,r=e.split(".")[0],o=new URLSearchParams(t.location.search);for(n in R){var i=o.get(n)||("dev"===r).toString();if("videoDebug"===n){var a=parseInt(i);R[n]=isNaN(a)?"dev"===r?N:P:a}}}(p,e),v="https://".concat(p,"/cgi-bin/").concat(d,"?id=").concat(a),"dev.dianomi.com"===p&&(v+="&test=".concat(Date.now())),h&&(v+="&dianomitest=".concat(h)),y&&(v+="&trafficSource=".concat(y)),function(e){try{var t=decodeURIComponent(e);return"null"!==new URL(t).origin}catch(e){return!1}}(b=function(e){var t,n=e.frameWindow,r=e.frameDocument,o=null===(t=r.querySelectorAll(".dianomi_context")[0])||void 0===t?void 0:t.getAttribute("data-referrer-url");try{var i=n.location!=n.parent.location?r.referrer||n.parent.location.href:r.location.href;return o||i}catch(e){return o||r.referrer||r.location.href}}({frameWindow:e,frameDocument:t}))&&(g=b.split("/")[2],v+="&h=".concat(encodeURIComponent(g),"&url=").concat(encodeURIComponent(b)),s=b),o.pageDomain&&(v+="&pageDomain=".concat(encodeURIComponent(o.pageDomain))),new URLSearchParams(e.location.search).get("debug")&&(v+="&debug=1"),[4,fetch(v,{credentials:"include"})]);case 1:return(S=D.sent()).ok?[4,S.json()]:[2];case 2:if(m=D.sent(),-1!=t.location.hostname.indexOf("exedra.dianomi.com")&&(m.partner_tcf_status="0"),(null==m||null===(r=m.user)||void 0===r?void 0:r.tcfDebug)>0&&(R.tcfDebug=null==m||null===(O=m.user)||void 0===O?void 0:O.tcfDebug),Fl(p,{adId:a||(null==m?void 0:m.cfid),uniqueId:null==m?void 0:m.unique_id},"contextfeed"),o.consent)try{(_=JSON.parse(o.consent)).tcf&&(m.tcString=_.tcf),_.usp&&(m.uspString=_.usp)}catch(e){console.log("Unable to get consent data, invalid JSON.")}return u?(u.initialize_can_cookie(C(m.user.can_cookie)),u.initialize_can_serve_ads(C(m.user.can_serve_ads)),(null==m?void 0:m.identity)?[4,Qo({identity:m.identity,dianomiContextHost:o.host,tcfPermissions:u,inGDPR:1===(null==m||null===(w=m.user)||void 0===w?void 0:w.in_gdpr),dnt:1===(null==m||null===(T=m.user)||void 0===T?void 0:T.dnt)},{frameWindow:e,frameDocument:t})]:[3,4]):[3,10];case 3:m.identity_values=D.sent(),D.label=4;case 4:return m.gpp?[4,Al(e)]:[3,6];case 5:(null==(I=D.sent())?void 0:I.tcf)&&!m.tcString&&(m.tcString=I.tcf),(null==I?void 0:I.usp)&&!m.uspString&&(m.uspString=I.usp),D.label=6;case 6:return!m.usp||m.uspString?[3,8]:[4,Xo(e)];case 7:A=D.sent(),m.uspString=A,D.label=8;case 8:return[4,V(o,n,m,u)];case 9:return D.sent(),[3,12];case 10:return[4,Ml(o,n,m,{frameWindow:e,frameDocument:t},V)];case 11:D.sent(),D.label=12;case 12:return n.setAttribute("data-dianomi-context-done",i.CONTEXT_LOADED),[2]}}))})),G.apply(this,arguments)}function F(){var e=t.querySelectorAll(".dianomi_context"),n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)x(i.value)}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}function B(t,n,r){var o=H((function(n){n.forEach((function(n){n.isIntersecting&&(function(e){var t=e.target;if("IFRAME"===t.tagName){var n=t.getAttribute("data-src")||"";n&&(t.src=n,t.classList.add("loaded"))}}(n),W(t,o,!1),S(e,"resize"))}))}),{threshold:0,rootMargin:"".concat(null!=n?n:i.LAZY_LOADING_ROOT_MARGIN,"px"),root:r?z(t,r):null});W(t,o,!0)}function H(e){return new IntersectionObserver(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{threshold:0})}function W(e,t,n){n?t.observe(e):t.unobserve(e)}var Y=function(e,t){return!!t&&("#"===e[0]?t.id.includes(e.substring(1)):t.className.includes(e.substring(1)))};function z(t,n){return"body"===(null==t?void 0:t.tagName.toLowerCase())&&e.top===e?null:"body"===(null==t?void 0:t.tagName.toLowerCase())?z(e.frameElement,n):Y(n,t)?t:t?z(t.parentElement,n):null}return{dianomiLoadContext:V,dianomiContextElement:x,reloadFrameContext:F,waterfallAdServed:function(e){l.next(e)}}}function Zl(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ef(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}"function"==typeof Symbol&&Symbol.asyncIterator&&(Hl.prototype[Symbol.asyncIterator]=function(){return this}),Hl.prototype.next=function(e){return this._invoke("next",e)},Hl.prototype.throw=function(e){return this._invoke("throw",e)},Hl.prototype.return=function(e){return this._invoke("return",e)};var tf="dianomiPerformance=1",nf=function(){var e={},t={start:function(t){e[t]&&console.error("Tracker name: ".concat(t," already in use. Overwriting.")),e[t]={start:performance.now()}},stop:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e[t];if(r){var o=performance.now()-r.start,i=n?", ".concat(n):"";console.log("*** ".concat(t," performance = ").concat(o.toFixed(2)," ").concat(i," ***"))}else console.error("Tracker name: ".concat(t," not started. Ignoring."))}};return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t:{start:function(){},stop:function(){}}}(function(){try{var e;return(null===(e=window.top)||void 0===e?void 0:e.location.search.includes(tf))||window.location.search.includes(tf)}catch(e){return window.location.search.includes(tf)}}()||!1),rf="data-dianomi-context-id",of="data-dianomi-complete",af="data-dianomi-parent-iframe-id",uf={context:".dianomi_context",childContext:".dianomi-context",parentIframe:".dianomi-parent-iframe",contextWrapper:"dianomi-context-wrapper"},cf=function(e){return e.startsWith(".")||e.startsWith("#")?e.substring(1):e},sf={};function lf(){var e=document.querySelectorAll(uf.context),t=!0,n=!1,r=void 0;try{for(var o,i=function(){var e,t=o.value,n=Number(t.getAttribute(rf)),r=t.getElementsByClassName(cf(uf.parentIframe)).length>0,i="1"===t.getAttribute(of);if(!n||i&&r)return"continue";var a="".concat(n,"-").concat(Math.round(1e3*Math.random()));nf.start("cf-loading-".concat(a));var u=function(e){var t=document.createElement("iframe");return t.classList.add(cf(uf.parentIframe)),t.title="Dianomi ad container (".concat(e,")"),t.id=e,t.style.width="100%",t.style.overflow="hidden",t.style.border="none",t}(a);t.appendChild(u);var c=function(e,t){var n=document.createElement("div");n.classList.add(cf(uf.childContext)),n.id=uf.contextWrapper,n.setAttribute(af,t);var r=document.createElement("div");return r.classList.add("dianomi_context"),p.forEach((function(t){var n=e.getAttribute(t);n&&r.setAttribute(t,n)})),n.appendChild(r),n}(t,a);"complete"!==(null===(e=u.contentDocument)||void 0===e?void 0:e.readyState)?u.onload=function(){ff(u,c,a)}:ff(u,c,a),t.setAttribute(of,"1"),window.addEventListener("message",yf)},a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0)i()}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}function ff(e,t,n){return pf.apply(this,arguments)}function pf(){var e;return e=function(e,t,n){var r,o,i,a,u;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(c){switch(c.label){case 0:return(r=e.contentDocument)?((o=r.body).appendChild(t),o.style.overflow="hidden",[4,yo(null,null,P(),!0)]):[2];case 1:return i=c.sent(),a=e.contentWindow,u=$l(a,r,n,i),sf[n]=u,u.reloadFrameContext(),s=setInterval((function(){return vf()}),100),setTimeout((function(){clearInterval(s)}),5e3),[2]}var s}))},pf=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Zl(i,r,o,a,u,"next",e)}function u(e){Zl(i,r,o,a,u,"throw",e)}a(void 0)}))},pf.apply(this,arguments)}var df={"dianomi-parent-resize":function(){return vf()},"dianomi-iframebuster":function(e){return function(){var e=0,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ef(e,t,n[t])}))}return e}({},gf,arguments.length>0&&void 0!==arguments[0]?arguments[0]:gf),n=window.setInterval((function(){if(window.frameElement){var r=window.parent.document.getElementById(window.frameElement.id);if(r&&"IFRAME"===r.tagName&&r.contentWindow===window){r.style.width=t.width,r.style.display=t.display;var o=document.body.scrollHeight;r.style.height="".concat(t.additionalBodyHeight+o,"px")}}10==++e&&window.clearInterval(n)}),1e3)}(e.options)},"dianomi-parent-collapse":function(e){return t=e.frameId,void((n=document.getElementById(t))&&n.remove());var t,n},"dianomi-waterfall":function(e){var t=null==e?void 0:e.cfid,n=sf[t];n&&n.waterfallAdServed(e.adServed)}},hf=Object.keys(df);function yf(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.type;n&&hf.includes(n)&&df[n](e.data)}function vf(){var e=document.querySelectorAll(uf.parentIframe),t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,u=0,c=a.contentDocument,s=null==c?void 0:c.getElementById(uf.contextWrapper);if(s)u=s.scrollHeight;else{var l,f=null==c?void 0:c.body;u=null!==(l=null==f?void 0:f.scrollHeight)&&void 0!==l?l:0}a.height="".concat(u,"px")}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}var bf,gf={width:"100%",display:"block",additionalBodyHeight:20};bf=lf,"loading"!==document.readyState?bf():document.addEventListener("DOMContentLoaded",(function(){bf()})),window.dianomiReloadContext=function(){return lf()}})();